{"/home/travis/build/npmtest/node-npmtest-angoose/test.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/test.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":1,"12":1,"13":1,"14":1,"15":2,"16":2,"17":2,"18":2,"19":1,"20":1,"21":2,"22":2,"23":2,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":2,"40":2,"41":1,"42":2,"43":2,"44":1,"45":2,"46":2,"47":1,"48":2,"49":2,"50":1,"51":1,"52":1,"53":1,"54":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[1,1],"5":[1,1],"6":[1,1],"7":[1,1],"8":[1,1],"9":[1,1],"10":[1,1,1],"11":[1,1],"12":[1,1],"13":[1,1],"14":[1,1],"15":[1,1],"16":[1,1],"17":[1,1]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":1,"7":1,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}},"4":{"name":"(anonymous_4)","line":61,"loc":{"start":{"line":61,"column":5},"end":{"line":61,"column":17}}},"5":{"name":"(anonymous_5)","line":82,"loc":{"start":{"line":82,"column":5},"end":{"line":82,"column":17}}},"6":{"name":"(anonymous_6)","line":91,"loc":{"start":{"line":91,"column":77},"end":{"line":94,"column":10}}},"7":{"name":"(anonymous_7)","line":112,"loc":{"start":{"line":112,"column":83},"end":{"line":115,"column":10}},"skip":true},"8":{"name":"(anonymous_8)","line":123,"loc":{"start":{"line":123,"column":77},"end":{"line":126,"column":10}},"skip":true},"9":{"name":"(anonymous_9)","line":139,"loc":{"start":{"line":139,"column":12},"end":{"line":139,"column":40}},"skip":true},"10":{"name":"(anonymous_10)","line":147,"loc":{"start":{"line":147,"column":77},"end":{"line":150,"column":10}},"skip":true},"11":{"name":"(anonymous_11)","line":158,"loc":{"start":{"line":158,"column":83},"end":{"line":161,"column":10}},"skip":true},"12":{"name":"(anonymous_12)","line":169,"loc":{"start":{"line":169,"column":79},"end":{"line":172,"column":10}},"skip":true},"13":{"name":"(anonymous_13)","line":180,"loc":{"start":{"line":180,"column":75},"end":{"line":183,"column":10}},"skip":true}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":195,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":56,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":40,"column":8},"end":{"line":53,"column":9}},"11":{"start":{"line":43,"column":12},"end":{"line":46,"column":14}},"12":{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},"13":{"start":{"line":50,"column":12},"end":{"line":51,"column":33}},"14":{"start":{"line":52,"column":12},"end":{"line":52,"column":18}},"15":{"start":{"line":55,"column":8},"end":{"line":55,"column":35}},"16":{"start":{"line":61,"column":4},"end":{"line":63,"column":9}},"17":{"start":{"line":62,"column":8},"end":{"line":62,"column":15}},"18":{"start":{"line":64,"column":4},"end":{"line":77,"column":5}},"19":{"start":{"line":70,"column":8},"end":{"line":70,"column":14}},"20":{"start":{"line":76,"column":8},"end":{"line":76,"column":14}},"21":{"start":{"line":82,"column":4},"end":{"line":84,"column":9}},"22":{"start":{"line":83,"column":8},"end":{"line":83,"column":15}},"23":{"start":{"line":85,"column":4},"end":{"line":194,"column":5}},"24":{"start":{"line":91,"column":8},"end":{"line":99,"column":10}},"25":{"start":{"line":98,"column":12},"end":{"line":98,"column":35}},"26":{"start":{"line":102,"column":8},"end":{"line":104,"column":63}},"27":{"start":{"line":105,"column":8},"end":{"line":105,"column":14}},"28":{"start":{"line":112,"column":8},"end":{"line":121,"column":10},"skip":true},"29":{"start":{"line":119,"column":12},"end":{"line":119,"column":55},"skip":true},"30":{"start":{"line":120,"column":12},"end":{"line":120,"column":48},"skip":true},"31":{"start":{"line":123,"column":8},"end":{"line":136,"column":10},"skip":true},"32":{"start":{"line":130,"column":12},"end":{"line":130,"column":76},"skip":true},"33":{"start":{"line":131,"column":12},"end":{"line":131,"column":73},"skip":true},"34":{"start":{"line":132,"column":12},"end":{"line":132,"column":74},"skip":true},"35":{"start":{"line":133,"column":12},"end":{"line":133,"column":79},"skip":true},"36":{"start":{"line":134,"column":12},"end":{"line":134,"column":25},"skip":true},"37":{"start":{"line":135,"column":12},"end":{"line":135,"column":45},"skip":true},"38":{"start":{"line":138,"column":8},"end":{"line":145,"column":14},"skip":true},"39":{"start":{"line":143,"column":16},"end":{"line":143,"column":29},"skip":true},"40":{"start":{"line":144,"column":16},"end":{"line":144,"column":55},"skip":true},"41":{"start":{"line":147,"column":8},"end":{"line":156,"column":10},"skip":true},"42":{"start":{"line":154,"column":12},"end":{"line":154,"column":25},"skip":true},"43":{"start":{"line":155,"column":12},"end":{"line":155,"column":45},"skip":true},"44":{"start":{"line":158,"column":8},"end":{"line":167,"column":10},"skip":true},"45":{"start":{"line":165,"column":12},"end":{"line":165,"column":25},"skip":true},"46":{"start":{"line":166,"column":12},"end":{"line":166,"column":48},"skip":true},"47":{"start":{"line":169,"column":8},"end":{"line":178,"column":10},"skip":true},"48":{"start":{"line":176,"column":12},"end":{"line":176,"column":25},"skip":true},"49":{"start":{"line":177,"column":12},"end":{"line":177,"column":46},"skip":true},"50":{"start":{"line":180,"column":8},"end":{"line":189,"column":10},"skip":true},"51":{"start":{"line":187,"column":12},"end":{"line":187,"column":94},"skip":true},"52":{"start":{"line":188,"column":12},"end":{"line":188,"column":48},"skip":true},"53":{"start":{"line":192,"column":8},"end":{"line":192,"column":35},"skip":true},"54":{"start":{"line":193,"column":8},"end":{"line":193,"column":14},"skip":true}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":40,"type":"switch","locations":[{"start":{"line":42,"column":8},"end":{"line":47,"column":18}},{"start":{"line":49,"column":8},"end":{"line":52,"column":18}}]},"5":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":16},"end":{"line":44,"column":44}},{"start":{"line":44,"column":48},"end":{"line":44,"column":66}}]},"6":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":21},"end":{"line":50,"column":49}},{"start":{"line":50,"column":53},"end":{"line":50,"column":72}}]},"7":{"line":64,"type":"switch","locations":[{"start":{"line":69,"column":4},"end":{"line":70,"column":14}},{"start":{"line":75,"column":4},"end":{"line":76,"column":14}}]},"8":{"line":85,"type":"switch","locations":[{"start":{"line":90,"column":4},"end":{"line":105,"column":14}},{"start":{"line":111,"column":4},"end":{"line":193,"column":14},"skip":true}]},"9":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":42},"end":{"line":91,"column":73}},{"start":{"line":91,"column":77},"end":{"line":99,"column":9}}]},"10":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":18},"end":{"line":102,"column":32}},{"start":{"line":103,"column":12},"end":{"line":103,"column":53}},{"start":{"line":104,"column":12},"end":{"line":104,"column":61}}]},"11":{"line":112,"type":"binary-expr","locations":[{"start":{"line":112,"column":45},"end":{"line":112,"column":79},"skip":true},{"start":{"line":112,"column":83},"end":{"line":121,"column":9},"skip":true}]},"12":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":42},"end":{"line":123,"column":73},"skip":true},{"start":{"line":123,"column":77},"end":{"line":136,"column":9},"skip":true}]},"13":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":48},"end":{"line":138,"column":85},"skip":true},{"start":{"line":139,"column":12},"end":{"line":145,"column":13},"skip":true}]},"14":{"line":147,"type":"binary-expr","locations":[{"start":{"line":147,"column":42},"end":{"line":147,"column":73},"skip":true},{"start":{"line":147,"column":77},"end":{"line":156,"column":9},"skip":true}]},"15":{"line":158,"type":"binary-expr","locations":[{"start":{"line":158,"column":45},"end":{"line":158,"column":79},"skip":true},{"start":{"line":158,"column":83},"end":{"line":167,"column":9},"skip":true}]},"16":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":43},"end":{"line":169,"column":75},"skip":true},{"start":{"line":169,"column":79},"end":{"line":178,"column":9},"skip":true}]},"17":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":41},"end":{"line":180,"column":71},"skip":true},{"start":{"line":180,"column":75},"end":{"line":189,"column":9},"skip":true}]}},"code":["/* istanbul instrument in package npmtest_angoose */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - init-before","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        switch (local.modeJs) {","        // re-init local from window.local","        case 'browser':","            local = local.global.utility2.objectSetDefault(","                local.global.utility2_rollup || local.global.local,","                local.global.utility2","            );","            break;","        // re-init local from example.js","        case 'node':","            local = (local.global.utility2_rollup || require('utility2'))","                .requireReadme();","            break;","        }","        // export local","        local.global.local = local;","    }());","","","","    // run shared js-env code - function","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - function","    case 'browser':","        break;","","","","    // run node js-env code - function","    case 'node':","        break;","    }","","","","    // run shared js-env code - init-after","    (function () {","        return;","    }());","    switch (local.modeJs) {","","","","    // run browser js-env code - init-after","    case 'browser':","        local.testCase_browser_nullCase = local.testCase_browser_nullCase || function (","            options,","            onError","        ) {","        /*","         * this function will test browsers's null-case handling-behavior-behavior","         */","            onError(null, options);","        };","","        // run tests","        local.nop(local.modeTest &&","            document.querySelector('#testRunButton1') &&","            document.querySelector('#testRunButton1').click());","        break;","","","","    // run node js-env code - init-after","    /* istanbul ignore next */","    case 'node':","        local.testCase_buildApidoc_default = local.testCase_buildApidoc_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApidoc's default handling-behavior-behavior","         */","            options = { modulePathList: module.paths };","            local.buildApidoc(options, onError);","        };","","        local.testCase_buildApp_default = local.testCase_buildApp_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildApp's default handling-behavior-behavior","         */","            local.testCase_buildReadme_default(options, local.onErrorThrow);","            local.testCase_buildLib_default(options, local.onErrorThrow);","            local.testCase_buildTest_default(options, local.onErrorThrow);","            local.testCase_buildCustomOrg_default(options, local.onErrorThrow);","            options = [];","            local.buildApp(options, onError);","        };","","        local.testCase_buildCustomOrg_default = local.testCase_buildCustomOrg_default ||","            function (options, onError) {","            /*","             * this function will test buildCustomOrg's default handling-behavior","             */","                options = {};","                local.buildCustomOrg(options, onError);","            };","","        local.testCase_buildLib_default = local.testCase_buildLib_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildLib's default handling-behavior","         */","            options = {};","            local.buildLib(options, onError);","        };","","        local.testCase_buildReadme_default = local.testCase_buildReadme_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildReadme's default handling-behavior-behavior","         */","            options = {};","            local.buildReadme(options, onError);","        };","","        local.testCase_buildTest_default = local.testCase_buildTest_default || function (","            options,","            onError","        ) {","        /*","         * this function will test buildTest's default handling-behavior","         */","            options = {};","            local.buildTest(options, onError);","        };","","        local.testCase_webpage_default = local.testCase_webpage_default || function (","            options,","            onError","        ) {","        /*","         * this function will test webpage's default handling-behavior","         */","            options = { modeCoverageMerge: true, url: local.serverLocalHost + '?modeTest=1' };","            local.browserTest(options, onError);","        };","","        // run test-server","        local.testRunServer(local);","        break;","    }","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"40":2,"43":1,"47":1,"50":1,"52":1,"55":2,"61":2,"62":2,"64":2,"70":1,"76":1,"82":2,"83":2,"85":2,"91":1,"98":1,"102":1,"105":1,"112":1,"119":1,"120":1,"123":1,"130":1,"131":1,"132":1,"133":1,"134":1,"135":1,"138":1,"143":2,"144":2,"147":1,"154":2,"155":2,"158":1,"165":2,"166":2,"169":1,"176":2,"177":2,"180":1,"187":1,"188":1,"192":1,"193":1}},"/home/travis/build/npmtest/node-npmtest-angoose/lib.npmtest_angoose.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/lib.npmtest_angoose.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":1,"15":1,"16":1},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1]},"f":{"1":2,"2":2,"3":2},"fnMap":{"1":{"name":"(anonymous_1)","line":12,"loc":{"start":{"line":12,"column":1},"end":{"line":12,"column":13}}},"2":{"name":"(anonymous_2)","line":19,"loc":{"start":{"line":19,"column":5},"end":{"line":19,"column":17}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":24},"end":{"line":23,"column":36}}}},"statementMap":{"1":{"start":{"line":12,"column":0},"end":{"line":53,"column":5}},"2":{"start":{"line":14,"column":4},"end":{"line":14,"column":14}},"3":{"start":{"line":19,"column":4},"end":{"line":52,"column":9}},"4":{"start":{"line":21,"column":8},"end":{"line":21,"column":19}},"5":{"start":{"line":23,"column":8},"end":{"line":35,"column":13}},"6":{"start":{"line":24,"column":12},"end":{"line":34,"column":13}},"7":{"start":{"line":25,"column":16},"end":{"line":28,"column":30}},"8":{"start":{"line":30,"column":16},"end":{"line":33,"column":27}},"9":{"start":{"line":37,"column":8},"end":{"line":39,"column":21}},"10":{"start":{"line":41,"column":8},"end":{"line":41,"column":54}},"11":{"start":{"line":43,"column":8},"end":{"line":43,"column":52}},"12":{"start":{"line":45,"column":8},"end":{"line":51,"column":9}},"13":{"start":{"line":46,"column":12},"end":{"line":46,"column":58}},"14":{"start":{"line":48,"column":12},"end":{"line":48,"column":35}},"15":{"start":{"line":49,"column":12},"end":{"line":49,"column":49}},"16":{"start":{"line":50,"column":12},"end":{"line":50,"column":43}}},"branchMap":{"1":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":23},"end":{"line":25,"column":62}},{"start":{"line":26,"column":20},"end":{"line":26,"column":70}},{"start":{"line":27,"column":20},"end":{"line":27,"column":71}},{"start":{"line":28,"column":20},"end":{"line":28,"column":29}}]},"2":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":23},"end":{"line":30,"column":37}},{"start":{"line":31,"column":20},"end":{"line":31,"column":61}},{"start":{"line":32,"column":20},"end":{"line":32,"column":70}},{"start":{"line":33,"column":20},"end":{"line":33,"column":26}}]},"3":{"line":37,"type":"cond-expr","locations":[{"start":{"line":38,"column":14},"end":{"line":38,"column":20}},{"start":{"line":39,"column":14},"end":{"line":39,"column":20}}]},"4":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":16},"end":{"line":41,"column":44}},{"start":{"line":41,"column":48},"end":{"line":41,"column":53}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":8},"end":{"line":45,"column":8}},{"start":{"line":45,"column":8},"end":{"line":45,"column":8}}]}},"code":["/* istanbul instrument in package npmtest_angoose */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - init-before","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || local;","        // init lib","        local.local = local.npmtest_angoose = local;","        // init exports","        if (local.modeJs === 'browser') {","            local.global.utility2_npmtest_angoose = local;","        } else {","            module.exports = local;","            module.exports.__dirname = __dirname;","            module.exports.module = module;","        }","    }());","}());",""],"l":{"12":2,"14":2,"19":2,"21":2,"23":2,"24":2,"25":2,"30":1,"37":2,"41":2,"43":2,"45":2,"46":1,"48":1,"49":1,"50":1}},"/home/travis/build/npmtest/node-npmtest-angoose/example.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/example.js","s":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":2,"8":1,"9":2,"10":2,"11":2,"12":2,"13":1,"14":2,"15":2,"16":2,"17":2,"18":2,"19":0,"20":2,"21":1,"22":1,"23":1,"24":1,"25":1,"26":0,"27":0,"28":1,"29":1,"30":2,"31":0,"32":0,"33":0,"34":1,"35":2,"36":2,"37":3,"38":3,"39":3,"40":3,"41":0,"42":3,"43":3,"44":3,"45":1,"46":3,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":0,"58":1,"59":6,"60":6,"61":1,"62":2,"63":0,"64":2,"65":1,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0},"b":{"1":[2,1,1,1],"2":[1,1,1,1],"3":[1,1],"4":[2,2],"5":[1,1],"6":[1,1],"7":[2,0],"8":[2,1,1,1,1,1],"9":[0,2,0],"10":[1,1],"11":[2,1,1],"12":[1,0],"13":[0,2],"14":[2,0,0,0,0,0,0],"15":[0,3],"16":[3,0],"17":[1,1],"18":[0,1],"19":[1,2,0,2],"20":[1,0],"21":[1,1],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0]},"f":{"1":2,"2":2,"3":2,"4":2,"5":2,"6":2,"7":3,"8":3,"9":3,"10":1,"11":6,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":26,"loc":{"start":{"line":26,"column":1},"end":{"line":26,"column":13}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":5},"end":{"line":33,"column":17}}},"3":{"name":"(anonymous_3)","line":37,"loc":{"start":{"line":37,"column":24},"end":{"line":37,"column":36}}},"4":{"name":"(anonymous_4)","line":69,"loc":{"start":{"line":69,"column":31},"end":{"line":69,"column":48}},"skip":true},"5":{"name":"(anonymous_5)","line":78,"loc":{"start":{"line":78,"column":26},"end":{"line":78,"column":45}},"skip":true},"6":{"name":"(anonymous_6)","line":123,"loc":{"start":{"line":123,"column":33},"end":{"line":123,"column":48}},"skip":true},"7":{"name":"(anonymous_7)","line":125,"loc":{"start":{"line":125,"column":27},"end":{"line":125,"column":39}},"skip":true},"8":{"name":"(anonymous_8)","line":133,"loc":{"start":{"line":133,"column":59},"end":{"line":133,"column":74}},"skip":true},"9":{"name":"(anonymous_9)","line":143,"loc":{"start":{"line":143,"column":45},"end":{"line":143,"column":62}},"skip":true},"10":{"name":"(anonymous_10)","line":144,"loc":{"start":{"line":144,"column":73},"end":{"line":144,"column":92}},"skip":true},"11":{"name":"(anonymous_11)","line":272,"loc":{"start":{"line":272,"column":51},"end":{"line":272,"column":77}},"skip":true},"12":{"name":"(anonymous_12)","line":315,"loc":{"start":{"line":315,"column":32},"end":{"line":315,"column":61}},"skip":true}},"statementMap":{"1":{"start":{"line":26,"column":0},"end":{"line":326,"column":5}},"2":{"start":{"line":28,"column":4},"end":{"line":28,"column":14}},"3":{"start":{"line":33,"column":4},"end":{"line":60,"column":9}},"4":{"start":{"line":35,"column":8},"end":{"line":35,"column":19}},"5":{"start":{"line":37,"column":8},"end":{"line":49,"column":13}},"6":{"start":{"line":38,"column":12},"end":{"line":48,"column":13}},"7":{"start":{"line":39,"column":16},"end":{"line":42,"column":30}},"8":{"start":{"line":44,"column":16},"end":{"line":47,"column":27}},"9":{"start":{"line":51,"column":8},"end":{"line":53,"column":21}},"10":{"start":{"line":55,"column":8},"end":{"line":57,"column":45}},"11":{"start":{"line":59,"column":8},"end":{"line":59,"column":35}},"12":{"start":{"line":61,"column":4},"end":{"line":325,"column":5}},"13":{"start":{"line":69,"column":8},"end":{"line":121,"column":10},"skip":true},"14":{"start":{"line":70,"column":12},"end":{"line":88,"column":13},"skip":true},"15":{"start":{"line":76,"column":16},"end":{"line":87,"column":19},"skip":true},"16":{"start":{"line":79,"column":20},"end":{"line":86,"column":21},"skip":true},"17":{"start":{"line":82,"column":24},"end":{"line":82,"column":43},"skip":true},"18":{"start":{"line":83,"column":24},"end":{"line":83,"column":30},"skip":true},"19":{"start":{"line":85,"column":24},"end":{"line":85,"column":49},"skip":true},"20":{"start":{"line":89,"column":12},"end":{"line":107,"column":13},"skip":true},"21":{"start":{"line":92,"column":16},"end":{"line":102,"column":17},"skip":true},"22":{"start":{"line":93,"column":20},"end":{"line":93,"column":86},"skip":true},"23":{"start":{"line":94,"column":20},"end":{"line":95,"column":45},"skip":true},"24":{"start":{"line":96,"column":20},"end":{"line":96,"column":42},"skip":true},"25":{"start":{"line":97,"column":20},"end":{"line":97,"column":48},"skip":true},"26":{"start":{"line":100,"column":20},"end":{"line":100,"column":85},"skip":true},"27":{"start":{"line":101,"column":20},"end":{"line":101,"column":96},"skip":true},"28":{"start":{"line":103,"column":16},"end":{"line":103,"column":22},"skip":true},"29":{"start":{"line":106,"column":16},"end":{"line":106,"column":22},"skip":true},"30":{"start":{"line":108,"column":12},"end":{"line":120,"column":13},"skip":true},"31":{"start":{"line":114,"column":16},"end":{"line":119,"column":17},"skip":true},"32":{"start":{"line":116,"column":20},"end":{"line":116,"column":78},"skip":true},"33":{"start":{"line":118,"column":20},"end":{"line":118,"column":47},"skip":true},"34":{"start":{"line":123,"column":8},"end":{"line":141,"column":11},"skip":true},"35":{"start":{"line":124,"column":12},"end":{"line":124,"column":54},"skip":true},"36":{"start":{"line":125,"column":12},"end":{"line":140,"column":14},"skip":true},"37":{"start":{"line":126,"column":16},"end":{"line":126,"column":28},"skip":true},"38":{"start":{"line":127,"column":16},"end":{"line":127,"column":69},"skip":true},"39":{"start":{"line":128,"column":16},"end":{"line":128,"column":75},"skip":true},"40":{"start":{"line":129,"column":16},"end":{"line":131,"column":17},"skip":true},"41":{"start":{"line":130,"column":20},"end":{"line":130,"column":27},"skip":true},"42":{"start":{"line":133,"column":16},"end":{"line":137,"column":36},"skip":true},"43":{"start":{"line":134,"column":20},"end":{"line":136,"column":55},"skip":true},"44":{"start":{"line":139,"column":16},"end":{"line":139,"column":57},"skip":true},"45":{"start":{"line":143,"column":8},"end":{"line":147,"column":11},"skip":true},"46":{"start":{"line":144,"column":12},"end":{"line":146,"column":15},"skip":true},"47":{"start":{"line":145,"column":16},"end":{"line":145,"column":70},"skip":true},"48":{"start":{"line":149,"column":8},"end":{"line":149,"column":31},"skip":true},"49":{"start":{"line":150,"column":8},"end":{"line":150,"column":14},"skip":true},"50":{"start":{"line":158,"column":8},"end":{"line":158,"column":31},"skip":true},"51":{"start":{"line":160,"column":8},"end":{"line":160,"column":33},"skip":true},"52":{"start":{"line":161,"column":8},"end":{"line":161,"column":37},"skip":true},"53":{"start":{"line":162,"column":8},"end":{"line":162,"column":35},"skip":true},"54":{"start":{"line":164,"column":8},"end":{"line":164,"column":50},"skip":true},"55":{"start":{"line":166,"column":8},"end":{"line":256,"column":2},"skip":true},"56":{"start":{"line":258,"column":8},"end":{"line":286,"column":9},"skip":true},"57":{"start":{"line":259,"column":12},"end":{"line":269,"column":14},"skip":true},"58":{"start":{"line":271,"column":12},"end":{"line":285,"column":19},"skip":true},"59":{"start":{"line":274,"column":20},"end":{"line":274,"column":35},"skip":true},"60":{"start":{"line":275,"column":20},"end":{"line":284,"column":21},"skip":true},"61":{"start":{"line":277,"column":24},"end":{"line":277,"column":64},"skip":true},"62":{"start":{"line":279,"column":24},"end":{"line":279,"column":40},"skip":true},"63":{"start":{"line":281,"column":24},"end":{"line":281,"column":40},"skip":true},"64":{"start":{"line":283,"column":24},"end":{"line":283,"column":39},"skip":true},"65":{"start":{"line":288,"column":8},"end":{"line":290,"column":9},"skip":true},"66":{"start":{"line":289,"column":12},"end":{"line":289,"column":18},"skip":true},"67":{"start":{"line":291,"column":8},"end":{"line":293,"column":54},"skip":true},"68":{"start":{"line":296,"column":8},"end":{"line":301,"column":37},"skip":true},"69":{"start":{"line":303,"column":8},"end":{"line":303,"column":82},"skip":true},"70":{"start":{"line":306,"column":8},"end":{"line":308,"column":9},"skip":true},"71":{"start":{"line":307,"column":12},"end":{"line":307,"column":82},"skip":true},"72":{"start":{"line":310,"column":8},"end":{"line":312,"column":9},"skip":true},"73":{"start":{"line":311,"column":12},"end":{"line":311,"column":18},"skip":true},"74":{"start":{"line":313,"column":8},"end":{"line":313,"column":54},"skip":true},"75":{"start":{"line":314,"column":8},"end":{"line":314,"column":69},"skip":true},"76":{"start":{"line":315,"column":8},"end":{"line":323,"column":36},"skip":true},"77":{"start":{"line":316,"column":12},"end":{"line":316,"column":61},"skip":true},"78":{"start":{"line":317,"column":12},"end":{"line":320,"column":13},"skip":true},"79":{"start":{"line":318,"column":16},"end":{"line":318,"column":75},"skip":true},"80":{"start":{"line":319,"column":16},"end":{"line":319,"column":23},"skip":true},"81":{"start":{"line":321,"column":12},"end":{"line":321,"column":38},"skip":true},"82":{"start":{"line":322,"column":12},"end":{"line":322,"column":27},"skip":true},"83":{"start":{"line":324,"column":8},"end":{"line":324,"column":14},"skip":true}},"branchMap":{"1":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":23},"end":{"line":39,"column":62}},{"start":{"line":40,"column":20},"end":{"line":40,"column":70}},{"start":{"line":41,"column":20},"end":{"line":41,"column":71}},{"start":{"line":42,"column":20},"end":{"line":42,"column":29}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":23},"end":{"line":44,"column":37}},{"start":{"line":45,"column":20},"end":{"line":45,"column":61}},{"start":{"line":46,"column":20},"end":{"line":46,"column":70}},{"start":{"line":47,"column":20},"end":{"line":47,"column":26}}]},"3":{"line":51,"type":"cond-expr","locations":[{"start":{"line":52,"column":14},"end":{"line":52,"column":20}},{"start":{"line":53,"column":14},"end":{"line":53,"column":20}}]},"4":{"line":55,"type":"binary-expr","locations":[{"start":{"line":55,"column":16},"end":{"line":55,"column":44}},{"start":{"line":55,"column":49},"end":{"line":57,"column":43}}]},"5":{"line":55,"type":"cond-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":51}},{"start":{"line":57,"column":14},"end":{"line":57,"column":43}}]},"6":{"line":61,"type":"switch","locations":[{"start":{"line":68,"column":4},"end":{"line":150,"column":14},"skip":true},{"start":{"line":156,"column":4},"end":{"line":324,"column":14},"skip":true}]},"7":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true},{"start":{"line":70,"column":12},"end":{"line":70,"column":12},"skip":true}]},"8":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":16},"end":{"line":70,"column":22},"skip":true},{"start":{"line":70,"column":27},"end":{"line":70,"column":32},"skip":true},{"start":{"line":71,"column":20},"end":{"line":71,"column":39},"skip":true},{"start":{"line":72,"column":20},"end":{"line":72,"column":49},"skip":true},{"start":{"line":73,"column":20},"end":{"line":73,"column":58},"skip":true},{"start":{"line":74,"column":20},"end":{"line":74,"column":69},"skip":true}]},"9":{"line":79,"type":"switch","locations":[{"start":{"line":80,"column":20},"end":{"line":80,"column":33},"skip":true},{"start":{"line":81,"column":20},"end":{"line":83,"column":30},"skip":true},{"start":{"line":84,"column":20},"end":{"line":85,"column":49},"skip":true}]},"10":{"line":89,"type":"switch","locations":[{"start":{"line":90,"column":12},"end":{"line":103,"column":22},"skip":true},{"start":{"line":105,"column":12},"end":{"line":106,"column":22},"skip":true}]},"11":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":20},"end":{"line":89,"column":25},"skip":true},{"start":{"line":89,"column":29},"end":{"line":89,"column":48},"skip":true},{"start":{"line":89,"column":52},"end":{"line":89,"column":74},"skip":true}]},"12":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true},{"start":{"line":92,"column":16},"end":{"line":92,"column":16},"skip":true}]},"13":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true},{"start":{"line":108,"column":12},"end":{"line":108,"column":12},"skip":true}]},"14":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":16},"end":{"line":108,"column":61},"skip":true},{"start":{"line":108,"column":66},"end":{"line":108,"column":72},"skip":true},{"start":{"line":108,"column":77},"end":{"line":108,"column":82},"skip":true},{"start":{"line":109,"column":20},"end":{"line":109,"column":39},"skip":true},{"start":{"line":110,"column":20},"end":{"line":110,"column":49},"skip":true},{"start":{"line":111,"column":20},"end":{"line":111,"column":58},"skip":true},{"start":{"line":112,"column":20},"end":{"line":112,"column":68},"skip":true}]},"15":{"line":129,"type":"if","locations":[{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true},{"start":{"line":129,"column":16},"end":{"line":129,"column":16},"skip":true}]},"16":{"line":134,"type":"cond-expr","locations":[{"start":{"line":135,"column":26},"end":{"line":135,"column":29},"skip":true},{"start":{"line":136,"column":26},"end":{"line":136,"column":54},"skip":true}]},"17":{"line":164,"type":"binary-expr","locations":[{"start":{"line":164,"column":27},"end":{"line":164,"column":43},"skip":true},{"start":{"line":164,"column":47},"end":{"line":164,"column":49},"skip":true}]},"18":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true},{"start":{"line":258,"column":8},"end":{"line":258,"column":8},"skip":true}]},"19":{"line":275,"type":"switch","locations":[{"start":{"line":276,"column":20},"end":{"line":277,"column":64},"skip":true},{"start":{"line":278,"column":20},"end":{"line":279,"column":40},"skip":true},{"start":{"line":280,"column":20},"end":{"line":281,"column":40},"skip":true},{"start":{"line":282,"column":20},"end":{"line":283,"column":39},"skip":true}]},"20":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true},{"start":{"line":288,"column":8},"end":{"line":288,"column":8},"skip":true}]},"21":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":12},"end":{"line":288,"column":40},"skip":true},{"start":{"line":288,"column":44},"end":{"line":288,"column":67},"skip":true}]},"22":{"line":292,"type":"binary-expr","locations":[{"start":{"line":292,"column":12},"end":{"line":292,"column":50},"skip":true},{"start":{"line":293,"column":12},"end":{"line":293,"column":53},"skip":true}]},"23":{"line":297,"type":"binary-expr","locations":[{"start":{"line":297,"column":12},"end":{"line":297,"column":65},"skip":true},{"start":{"line":298,"column":12},"end":{"line":301,"column":36},"skip":true}]},"24":{"line":303,"type":"binary-expr","locations":[{"start":{"line":303,"column":43},"end":{"line":303,"column":75},"skip":true},{"start":{"line":303,"column":79},"end":{"line":303,"column":81},"skip":true}]},"25":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true},{"start":{"line":306,"column":8},"end":{"line":306,"column":8},"skip":true}]},"26":{"line":310,"type":"if","locations":[{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true},{"start":{"line":310,"column":8},"end":{"line":310,"column":8},"skip":true}]},"27":{"line":313,"type":"binary-expr","locations":[{"start":{"line":313,"column":27},"end":{"line":313,"column":43},"skip":true},{"start":{"line":313,"column":47},"end":{"line":313,"column":53},"skip":true}]},"28":{"line":317,"type":"if","locations":[{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true},{"start":{"line":317,"column":12},"end":{"line":317,"column":12},"skip":true}]}},"code":["/*","example.js","","quickstart example","","instruction","    1. save this script as example.js","    2. run the shell command:","        $ npm install npmtest-angoose && PORT=8081 node example.js","    3. play with the browser-demo on http://127.0.0.1:8081","*/","","","","/* istanbul instrument in package npmtest_angoose */","/*jslint","    bitwise: true,","    browser: true,","    maxerr: 8,","    maxlen: 96,","    node: true,","    nomen: true,","    regexp: true,","    stupid: true","*/","(function () {","    'use strict';","    var local;","","","","    // run shared js-env code - init-before","    (function () {","        // init local","        local = {};","        // init modeJs","        local.modeJs = (function () {","            try {","                return typeof navigator.userAgent === 'string' &&","                    typeof document.querySelector('body') === 'object' &&","                    typeof XMLHttpRequest.prototype.open === 'function' &&","                    'browser';","            } catch (errorCaughtBrowser) {","                return module.exports &&","                    typeof process.versions.node === 'string' &&","                    typeof require('http').createServer === 'function' &&","                    'node';","            }","        }());","        // init global","        local.global = local.modeJs === 'browser'","            ? window","            : global;","        // init utility2_rollup","        local = local.global.utility2_rollup || (local.modeJs === 'browser'","            ? local.global.utility2_npmtest_angoose","            : global.utility2_moduleExports);","        // export local","        local.global.local = local;","    }());","    switch (local.modeJs) {","","","","    // init-after","    // run browser js-env code - init-after","    /* istanbul ignore next */","    case 'browser':","        local.testRunBrowser = function (event) {","            if (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('onreset'))) {","                // reset output","                Array.from(","                    document.querySelectorAll('body > .resettable')","                ).forEach(function (element) {","                    switch (element.tagName) {","                    case 'INPUT':","                    case 'TEXTAREA':","                        element.value = '';","                        break;","                    default:","                        element.textContent = '';","                    }","                });","            }","            switch (event && event.currentTarget && event.currentTarget.id) {","            case 'testRunButton1':","                // show tests","                if (document.querySelector('#testReportDiv1').style.display === 'none') {","                    document.querySelector('#testReportDiv1').style.display = 'block';","                    document.querySelector('#testRunButton1').textContent =","                        'hide internal test';","                    local.modeTest = true;","                    local.testRunDefault(local);","                // hide tests","                } else {","                    document.querySelector('#testReportDiv1').style.display = 'none';","                    document.querySelector('#testRunButton1').textContent = 'run internal test';","                }","                break;","            // custom-case","            default:","                break;","            }","            if (document.querySelector('#inputTextareaEval1') && (!event || (event &&","                    event.currentTarget &&","                    event.currentTarget.className &&","                    event.currentTarget.className.includes &&","                    event.currentTarget.className.includes('oneval')))) {","                // try to eval input-code","                try {","                    /*jslint evil: true*/","                    eval(document.querySelector('#inputTextareaEval1').value);","                } catch (errorCaught) {","                    console.error(errorCaught);","                }","            }","        };","        // log stderr and stdout to #outputTextareaStdout1","        ['error', 'log'].forEach(function (key) {","            console[key + '_original'] = console[key];","            console[key] = function () {","                var element;","                console[key + '_original'].apply(console, arguments);","                element = document.querySelector('#outputTextareaStdout1');","                if (!element) {","                    return;","                }","                // append text to #outputTextareaStdout1","                element.value += Array.from(arguments).map(function (arg) {","                    return typeof arg === 'string'","                        ? arg","                        : JSON.stringify(arg, null, 4);","                }).join(' ') + '\\n';","                // scroll textarea to bottom","                element.scrollTop = element.scrollHeight;","            };","        });","        // init event-handling","        ['change', 'click', 'keyup'].forEach(function (event) {","            Array.from(document.querySelectorAll('.on' + event)).forEach(function (element) {","                element.addEventListener(event, local.testRunBrowser);","            });","        });","        // run tests","        local.testRunBrowser();","        break;","","","","    // run node js-env code - init-after","    /* istanbul ignore next */","    case 'node':","        // export local","        module.exports = local;","        // require modules","        local.fs = require('fs');","        local.http = require('http');","        local.url = require('url');","        // init assets","        local.assetsDict = local.assetsDict || {};","        /* jslint-ignore-begin */","        local.assetsDict['/assets.index.template.html'] = '\\","<!doctype html>\\n\\","<html lang=\"en\">\\n\\","<head>\\n\\","<meta charset=\"UTF-8\">\\n\\","<meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\\n\\","<title>{{env.npm_package_name}} (v{{env.npm_package_version}})</title>\\n\\","<style>\\n\\","/*csslint\\n\\","    box-sizing: false,\\n\\","    universal-selector: false\\n\\","*/\\n\\","* {\\n\\","    box-sizing: border-box;\\n\\","}\\n\\","body {\\n\\","    background: #dde;\\n\\","    font-family: Arial, Helvetica, sans-serif;\\n\\","    margin: 2rem;\\n\\","}\\n\\","body > * {\\n\\","    margin-bottom: 1rem;\\n\\","}\\n\\",".utility2FooterDiv {\\n\\","    margin-top: 20px;\\n\\","    text-align: center;\\n\\","}\\n\\","</style>\\n\\","<style>\\n\\","/*csslint\\n\\","*/\\n\\","textarea {\\n\\","    font-family: monospace;\\n\\","    height: 10rem;\\n\\","    width: 100%;\\n\\","}\\n\\","textarea[readonly] {\\n\\","    background: #ddd;\\n\\","}\\n\\","</style>\\n\\","</head>\\n\\","<body>\\n\\","<!-- utility2-comment\\n\\","<div id=\"ajaxProgressDiv1\" style=\"background: #d00; height: 2px; left: 0; margin: 0; padding: 0; position: fixed; top: 0; transition: background 0.5s, width 1.5s; width: 25%;\"></div>\\n\\","utility2-comment -->\\n\\","<h1>\\n\\","<!-- utility2-comment\\n\\","    <a\\n\\","        {{#if env.npm_package_homepage}}\\n\\","        href=\"{{env.npm_package_homepage}}\"\\n\\","        {{/if env.npm_package_homepage}}\\n\\","        target=\"_blank\"\\n\\","    >\\n\\","utility2-comment -->\\n\\","        {{env.npm_package_name}} (v{{env.npm_package_version}})\\n\\","<!-- utility2-comment\\n\\","    </a>\\n\\","utility2-comment -->\\n\\","</h1>\\n\\","<h3>{{env.npm_package_description}}</h3>\\n\\","<!-- utility2-comment\\n\\","<h4><a download href=\"assets.app.js\">download standalone app</a></h4>\\n\\","<button class=\"onclick onreset\" id=\"testRunButton1\">run internal test</button><br>\\n\\","<div id=\"testReportDiv1\" style=\"display: none;\"></div>\\n\\","utility2-comment -->\\n\\","\\n\\","\\n\\","\\n\\","<label>stderr and stdout</label>\\n\\","<textarea class=\"resettable\" id=\"outputTextareaStdout1\" readonly></textarea>\\n\\","<!-- utility2-comment\\n\\","{{#if isRollup}}\\n\\","<script src=\"assets.app.js\"></script>\\n\\","{{#unless isRollup}}\\n\\","utility2-comment -->\\n\\","<script src=\"assets.utility2.rollup.js\"></script>\\n\\","<script src=\"jsonp.utility2._stateInit?callback=window.utility2._stateInit\"></script>\\n\\","<script src=\"assets.npmtest_angoose.rollup.js\"></script>\\n\\","<script src=\"assets.example.js\"></script>\\n\\","<script src=\"assets.test.js\"></script>\\n\\","<!-- utility2-comment\\n\\","{{/if isRollup}}\\n\\","utility2-comment -->\\n\\","<div class=\"utility2FooterDiv\">\\n\\","    [ this app was created with\\n\\","    <a href=\"https://github.com/kaizhu256/node-utility2\" target=\"_blank\">utility2</a>\\n\\","    ]\\n\\","</div>\\n\\","</body>\\n\\","</html>\\n\\","';","        /* jslint-ignore-end */","        if (local.templateRender) {","            local.assetsDict['/'] = local.templateRender(","                local.assetsDict['/assets.index.template.html'],","                {","                    env: local.objectSetDefault(local.env, {","                        npm_package_description: 'the greatest app in the world!',","                        npm_package_name: 'my-app',","                        npm_package_nameAlias: 'my_app',","                        npm_package_version: '0.0.1'","                    })","                }","            );","        } else {","            local.assetsDict['/'] = local.assetsDict['/assets.index.template.html']","                .replace((/\\{\\{env\\.(\\w+?)\\}\\}/g), function (match0, match1) {","                    // jslint-hack","                    String(match0);","                    switch (match1) {","                    case 'npm_package_description':","                        return 'the greatest app in the world!';","                    case 'npm_package_name':","                        return 'my-app';","                    case 'npm_package_nameAlias':","                        return 'my_app';","                    case 'npm_package_version':","                        return '0.0.1';","                    }","                });","        }","        // run the cli","        if (local.global.utility2_rollup || module !== require.main) {","            break;","        }","        local.assetsDict['/assets.example.js'] =","            local.assetsDict['/assets.example.js'] ||","            local.fs.readFileSync(__filename, 'utf8');","        // bug-workaround - long $npm_package_buildCustomOrg","        /* jslint-ignore-begin */","        local.assetsDict['/assets.npmtest_angoose.rollup.js'] =","            local.assetsDict['/assets.npmtest_angoose.rollup.js'] ||","            local.fs.readFileSync(","                local.npmtest_angoose.__dirname + '/lib.npmtest_angoose.js',","                'utf8'","            ).replace((/^#!/), '//');","        /* jslint-ignore-end */","        local.assetsDict['/favicon.ico'] = local.assetsDict['/favicon.ico'] || '';","        // if $npm_config_timeout_exit exists,","        // then exit this process after $npm_config_timeout_exit ms","        if (Number(process.env.npm_config_timeout_exit)) {","            setTimeout(process.exit, Number(process.env.npm_config_timeout_exit));","        }","        // start server","        if (local.global.utility2_serverHttp1) {","            break;","        }","        process.env.PORT = process.env.PORT || '8081';","        console.error('server starting on port ' + process.env.PORT);","        local.http.createServer(function (request, response) {","            request.urlParsed = local.url.parse(request.url);","            if (local.assetsDict[request.urlParsed.pathname] !== undefined) {","                response.end(local.assetsDict[request.urlParsed.pathname]);","                return;","            }","            response.statusCode = 404;","            response.end();","        }).listen(process.env.PORT);","        break;","    }","}());",""],"l":{"26":2,"28":2,"33":2,"35":2,"37":2,"38":2,"39":2,"44":1,"51":2,"55":2,"59":2,"61":2,"69":1,"70":2,"76":2,"79":2,"82":2,"83":2,"85":1,"89":2,"92":1,"93":1,"94":1,"96":1,"97":1,"100":1,"101":1,"103":1,"106":1,"108":2,"114":1,"116":1,"118":1,"123":1,"124":2,"125":2,"126":3,"127":3,"128":3,"129":3,"130":1,"133":3,"134":3,"139":3,"143":1,"144":3,"145":1,"149":1,"150":1,"158":1,"160":1,"161":1,"162":1,"164":1,"166":1,"258":1,"259":1,"271":1,"274":6,"275":6,"277":1,"279":2,"281":1,"283":2,"288":1,"289":1,"291":1,"296":1,"303":1,"306":1,"307":1,"310":1,"311":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"321":1,"322":1,"324":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/angoose.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/angoose.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":2,"29":0,"30":2,"31":0,"32":2,"33":2,"34":1,"35":3,"36":0,"37":3,"38":3,"39":1,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":1,"47":5,"48":5,"49":5,"50":0,"51":5,"52":0,"53":5,"54":5,"55":0,"56":5,"57":0,"58":0,"59":5,"60":5,"61":5,"62":5,"63":5,"64":5,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":1,"74":0,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":1,"84":0,"85":1,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":1,"109":0,"110":0,"111":0,"112":1,"113":0,"114":0,"115":0,"116":1,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":1,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":1,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":1,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":1,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":1,"182":0,"183":0,"184":0,"185":1,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":1,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":1,"205":9,"206":9,"207":1,"208":1,"209":1,"210":0,"211":0,"212":9,"213":1,"214":1,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":1,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":1,"259":0,"260":0,"261":1,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":1,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":1,"287":0,"288":1,"289":0,"290":1,"291":1,"292":1,"293":1,"294":1,"295":1,"296":1,"297":1,"298":1,"299":1,"300":1,"301":1,"302":1,"303":1,"304":1,"305":1,"306":1,"307":1,"308":1,"309":1,"310":1,"311":1,"312":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"320":1},"b":{"1":[0,0],"2":[0,0],"3":[0,2],"4":[0,2],"5":[2,0],"6":[0,3],"7":[0,0],"8":[0,0],"9":[3,2],"10":[0,5],"11":[0,5],"12":[0,5],"13":[5,0,0],"14":[0,5],"15":[5,1,0],"16":[0,5],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[9,1],"52":[1,8],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0]},"f":{"1":0,"2":2,"3":3,"4":0,"5":0,"6":5,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":9,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":1},"fnMap":{"1":{"name":"init","line":43,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":32}}},"2":{"name":"lookupOrRegister","line":84,"loc":{"start":{"line":84,"column":0},"end":{"line":84,"column":39}}},"3":{"name":"registerExtension","line":90,"loc":{"start":{"line":90,"column":0},"end":{"line":90,"column":40}}},"4":{"name":"hasModule","line":98,"loc":{"start":{"line":98,"column":0},"end":{"line":98,"column":24}}},"5":{"name":"getClass","line":102,"loc":{"start":{"line":102,"column":0},"end":{"line":102,"column":23}}},"6":{"name":"registerClass","line":109,"loc":{"start":{"line":109,"column":0},"end":{"line":109,"column":40}}},"7":{"name":"getContext","line":150,"loc":{"start":{"line":150,"column":0},"end":{"line":150,"column":21}}},"8":{"name":"setContext","line":163,"loc":{"start":{"line":163,"column":0},"end":{"line":163,"column":24}}},"9":{"name":"testContext","line":166,"loc":{"start":{"line":166,"column":0},"end":{"line":166,"column":26}}},"10":{"name":"defer","line":183,"loc":{"start":{"line":183,"column":0},"end":{"line":183,"column":16}}},"11":{"name":"configureRoutes","line":188,"loc":{"start":{"line":188,"column":0},"end":{"line":188,"column":38}}},"12":{"name":"(anonymous_12)","line":196,"loc":{"start":{"line":196,"column":56},"end":{"line":196,"column":74}}},"13":{"name":"(anonymous_13)","line":203,"loc":{"start":{"line":203,"column":60},"end":{"line":203,"column":78}}},"14":{"name":"(anonymous_14)","line":210,"loc":{"start":{"line":210,"column":60},"end":{"line":210,"column":78}}},"15":{"name":"inContext","line":228,"loc":{"start":{"line":228,"column":0},"end":{"line":228,"column":22}}},"16":{"name":"scanModelFiles","line":237,"loc":{"start":{"line":237,"column":0},"end":{"line":237,"column":29}}},"17":{"name":"scanDir","line":242,"loc":{"start":{"line":242,"column":4},"end":{"line":242,"column":29}}},"18":{"name":"(anonymous_18)","line":249,"loc":{"start":{"line":249,"column":43},"end":{"line":249,"column":58}}},"19":{"name":"(anonymous_19)","line":257,"loc":{"start":{"line":257,"column":17},"end":{"line":257,"column":34}}},"20":{"name":"harvestModules","line":263,"loc":{"start":{"line":263,"column":0},"end":{"line":263,"column":32}}},"21":{"name":"(anonymous_21)","line":268,"loc":{"start":{"line":268,"column":43},"end":{"line":268,"column":56}}},"22":{"name":"(anonymous_22)","line":281,"loc":{"start":{"line":281,"column":18},"end":{"line":281,"column":33}}},"23":{"name":"(anonymous_23)","line":293,"loc":{"start":{"line":293,"column":39},"end":{"line":293,"column":58}}},"24":{"name":"generateClient","line":302,"loc":{"start":{"line":302,"column":0},"end":{"line":302,"column":25}}},"25":{"name":"compressFile","line":314,"loc":{"start":{"line":314,"column":0},"end":{"line":314,"column":38}}},"26":{"name":"writeToFile","line":325,"loc":{"start":{"line":325,"column":0},"end":{"line":325,"column":39}}},"27":{"name":"getClient","line":341,"loc":{"start":{"line":341,"column":0},"end":{"line":341,"column":33}}},"28":{"name":"connectMongo","line":346,"loc":{"start":{"line":346,"column":0},"end":{"line":346,"column":30}}},"29":{"name":"(anonymous_29)","line":354,"loc":{"start":{"line":354,"column":74},"end":{"line":354,"column":87}}},"30":{"name":"service","line":365,"loc":{"start":{"line":365,"column":0},"end":{"line":365,"column":33}}},"31":{"name":"getMongoose","line":372,"loc":{"start":{"line":372,"column":0},"end":{"line":372,"column":22}}},"32":{"name":"noop","line":387,"loc":{"start":{"line":387,"column":0},"end":{"line":387,"column":15}}},"33":{"name":"hookupExtensions","line":390,"loc":{"start":{"line":390,"column":0},"end":{"line":390,"column":27}}},"34":{"name":"(anonymous_34)","line":394,"loc":{"start":{"line":394,"column":31},"end":{"line":394,"column":46}}},"35":{"name":"registerHook","line":403,"loc":{"start":{"line":403,"column":0},"end":{"line":403,"column":39}}},"36":{"name":"(anonymous_36)","line":423,"loc":{"start":{"line":423,"column":36},"end":{"line":423,"column":49}}},"37":{"name":"getLogger","line":483,"loc":{"start":{"line":483,"column":0},"end":{"line":483,"column":24}}},"38":{"name":"initialConfig","line":488,"loc":{"start":{"line":488,"column":0},"end":{"line":488,"column":28}}},"39":{"name":"(anonymous_39)","line":492,"loc":{"start":{"line":492,"column":29},"end":{"line":492,"column":42}}},"40":{"name":"config","line":514,"loc":{"start":{"line":514,"column":0},"end":{"line":514,"column":26}}},"41":{"name":"moduleNames","line":532,"loc":{"start":{"line":532,"column":0},"end":{"line":532,"column":22}}},"42":{"name":"angoose","line":535,"loc":{"start":{"line":535,"column":0},"end":{"line":535,"column":18}}},"43":{"name":"bootstrap","line":540,"loc":{"start":{"line":540,"column":0},"end":{"line":540,"column":20}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":7,"column":0},"end":{"line":7,"column":99}},"3":{"start":{"line":8,"column":0},"end":{"line":8,"column":77}},"4":{"start":{"line":10,"column":0},"end":{"line":10,"column":37}},"5":{"start":{"line":11,"column":0},"end":{"line":11,"column":33}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":76}},"7":{"start":{"line":14,"column":0},"end":{"line":14,"column":52}},"8":{"start":{"line":15,"column":0},"end":{"line":15,"column":42}},"9":{"start":{"line":16,"column":0},"end":{"line":16,"column":24}},"10":{"start":{"line":17,"column":0},"end":{"line":17,"column":55}},"11":{"start":{"line":18,"column":0},"end":{"line":18,"column":30}},"12":{"start":{"line":19,"column":0},"end":{"line":26,"column":1}},"13":{"start":{"line":28,"column":0},"end":{"line":28,"column":17}},"14":{"start":{"line":29,"column":0},"end":{"line":29,"column":15}},"15":{"start":{"line":43,"column":0},"end":{"line":73,"column":1}},"16":{"start":{"line":44,"column":4},"end":{"line":44,"column":42}},"17":{"start":{"line":44,"column":35},"end":{"line":44,"column":42}},"18":{"start":{"line":48,"column":4},"end":{"line":48,"column":24}},"19":{"start":{"line":50,"column":4},"end":{"line":50,"column":48}},"20":{"start":{"line":51,"column":4},"end":{"line":51,"column":40}},"21":{"start":{"line":54,"column":4},"end":{"line":54,"column":26}},"22":{"start":{"line":60,"column":4},"end":{"line":60,"column":28}},"23":{"start":{"line":63,"column":4},"end":{"line":63,"column":23}},"24":{"start":{"line":66,"column":4},"end":{"line":66,"column":21}},"25":{"start":{"line":70,"column":4},"end":{"line":70,"column":34}},"26":{"start":{"line":72,"column":4},"end":{"line":72,"column":51}},"27":{"start":{"line":84,"column":0},"end":{"line":88,"column":1}},"28":{"start":{"line":85,"column":4},"end":{"line":85,"column":42}},"29":{"start":{"line":85,"column":30},"end":{"line":85,"column":42}},"30":{"start":{"line":86,"column":4},"end":{"line":86,"column":52}},"31":{"start":{"line":86,"column":30},"end":{"line":86,"column":52}},"32":{"start":{"line":87,"column":4},"end":{"line":87,"column":65}},"33":{"start":{"line":87,"column":30},"end":{"line":87,"column":65}},"34":{"start":{"line":90,"column":0},"end":{"line":96,"column":1}},"35":{"start":{"line":91,"column":5},"end":{"line":94,"column":45}},"36":{"start":{"line":92,"column":8},"end":{"line":92,"column":32}},"37":{"start":{"line":94,"column":8},"end":{"line":94,"column":45}},"38":{"start":{"line":95,"column":5},"end":{"line":95,"column":39}},"39":{"start":{"line":98,"column":0},"end":{"line":100,"column":1}},"40":{"start":{"line":99,"column":4},"end":{"line":99,"column":38}},"41":{"start":{"line":102,"column":0},"end":{"line":106,"column":1}},"42":{"start":{"line":103,"column":4},"end":{"line":103,"column":35}},"43":{"start":{"line":104,"column":4},"end":{"line":104,"column":110}},"44":{"start":{"line":104,"column":21},"end":{"line":104,"column":110}},"45":{"start":{"line":105,"column":4},"end":{"line":105,"column":23}},"46":{"start":{"line":109,"column":0},"end":{"line":141,"column":1}},"47":{"start":{"line":110,"column":4},"end":{"line":110,"column":77}},"48":{"start":{"line":111,"column":4},"end":{"line":111,"column":30}},"49":{"start":{"line":112,"column":4},"end":{"line":112,"column":59}},"50":{"start":{"line":112,"column":19},"end":{"line":112,"column":59}},"51":{"start":{"line":113,"column":4},"end":{"line":114,"column":61}},"52":{"start":{"line":114,"column":8},"end":{"line":114,"column":61}},"53":{"start":{"line":115,"column":4},"end":{"line":128,"column":5}},"54":{"start":{"line":119,"column":8},"end":{"line":126,"column":39}},"55":{"start":{"line":120,"column":12},"end":{"line":120,"column":37}},"56":{"start":{"line":121,"column":13},"end":{"line":126,"column":39}},"57":{"start":{"line":122,"column":12},"end":{"line":122,"column":37}},"58":{"start":{"line":123,"column":12},"end":{"line":123,"column":56}},"59":{"start":{"line":126,"column":12},"end":{"line":126,"column":39}},"60":{"start":{"line":127,"column":8},"end":{"line":127,"column":44}},"61":{"start":{"line":129,"column":4},"end":{"line":129,"column":44}},"62":{"start":{"line":131,"column":4},"end":{"line":131,"column":28}},"63":{"start":{"line":133,"column":8},"end":{"line":133,"column":82}},"64":{"start":{"line":134,"column":4},"end":{"line":134,"column":16}},"65":{"start":{"line":150,"column":0},"end":{"line":161,"column":1}},"66":{"start":{"line":152,"column":4},"end":{"line":158,"column":5}},"67":{"start":{"line":153,"column":8},"end":{"line":153,"column":52}},"68":{"start":{"line":153,"column":29},"end":{"line":153,"column":52}},"69":{"start":{"line":155,"column":8},"end":{"line":155,"column":78}},"70":{"start":{"line":156,"column":8},"end":{"line":156,"column":160}},"71":{"start":{"line":157,"column":8},"end":{"line":157,"column":97}},"72":{"start":{"line":160,"column":4},"end":{"line":160,"column":33}},"73":{"start":{"line":163,"column":0},"end":{"line":165,"column":1}},"74":{"start":{"line":164,"column":4},"end":{"line":164,"column":27}},"75":{"start":{"line":166,"column":0},"end":{"line":177,"column":1}},"76":{"start":{"line":168,"column":4},"end":{"line":171,"column":5}},"77":{"start":{"line":169,"column":8},"end":{"line":169,"column":109}},"78":{"start":{"line":170,"column":8},"end":{"line":170,"column":15}},"79":{"start":{"line":172,"column":4},"end":{"line":175,"column":5}},"80":{"start":{"line":173,"column":8},"end":{"line":173,"column":120}},"81":{"start":{"line":174,"column":8},"end":{"line":174,"column":15}},"82":{"start":{"line":176,"column":4},"end":{"line":176,"column":94}},"83":{"start":{"line":183,"column":0},"end":{"line":185,"column":1}},"84":{"start":{"line":184,"column":4},"end":{"line":184,"column":21}},"85":{"start":{"line":188,"column":0},"end":{"line":217,"column":1}},"86":{"start":{"line":189,"column":4},"end":{"line":192,"column":5}},"87":{"start":{"line":190,"column":8},"end":{"line":190,"column":71}},"88":{"start":{"line":191,"column":8},"end":{"line":191,"column":15}},"89":{"start":{"line":194,"column":4},"end":{"line":194,"column":75}},"90":{"start":{"line":196,"column":4},"end":{"line":202,"column":7}},"91":{"start":{"line":197,"column":8},"end":{"line":197,"column":63}},"92":{"start":{"line":198,"column":8},"end":{"line":198,"column":47}},"93":{"start":{"line":199,"column":8},"end":{"line":199,"column":58}},"94":{"start":{"line":200,"column":8},"end":{"line":200,"column":58}},"95":{"start":{"line":201,"column":8},"end":{"line":201,"column":34}},"96":{"start":{"line":203,"column":4},"end":{"line":209,"column":7}},"97":{"start":{"line":204,"column":8},"end":{"line":204,"column":70}},"98":{"start":{"line":205,"column":8},"end":{"line":205,"column":57}},"99":{"start":{"line":206,"column":8},"end":{"line":206,"column":58}},"100":{"start":{"line":207,"column":8},"end":{"line":207,"column":58}},"101":{"start":{"line":208,"column":8},"end":{"line":208,"column":34}},"102":{"start":{"line":210,"column":4},"end":{"line":216,"column":7}},"103":{"start":{"line":211,"column":8},"end":{"line":211,"column":71}},"104":{"start":{"line":212,"column":8},"end":{"line":212,"column":58}},"105":{"start":{"line":213,"column":8},"end":{"line":213,"column":58}},"106":{"start":{"line":214,"column":8},"end":{"line":214,"column":60}},"107":{"start":{"line":215,"column":8},"end":{"line":215,"column":34}},"108":{"start":{"line":228,"column":0},"end":{"line":235,"column":1}},"109":{"start":{"line":233,"column":4},"end":{"line":233,"column":52}},"110":{"start":{"line":233,"column":22},"end":{"line":233,"column":52}},"111":{"start":{"line":234,"column":4},"end":{"line":234,"column":14}},"112":{"start":{"line":237,"column":0},"end":{"line":261,"column":1}},"113":{"start":{"line":238,"column":4},"end":{"line":238,"column":45}},"114":{"start":{"line":239,"column":4},"end":{"line":239,"column":19}},"115":{"start":{"line":240,"column":4},"end":{"line":240,"column":69}},"116":{"start":{"line":242,"column":4},"end":{"line":256,"column":5}},"117":{"start":{"line":243,"column":8},"end":{"line":243,"column":68}},"118":{"start":{"line":243,"column":61},"end":{"line":243,"column":68}},"119":{"start":{"line":244,"column":8},"end":{"line":244,"column":66}},"120":{"start":{"line":245,"column":8},"end":{"line":248,"column":9}},"121":{"start":{"line":246,"column":12},"end":{"line":246,"column":59}},"122":{"start":{"line":247,"column":12},"end":{"line":247,"column":19}},"123":{"start":{"line":249,"column":8},"end":{"line":255,"column":11}},"124":{"start":{"line":250,"column":12},"end":{"line":250,"column":54}},"125":{"start":{"line":251,"column":12},"end":{"line":254,"column":13}},"126":{"start":{"line":251,"column":49},"end":{"line":251,"column":69}},"127":{"start":{"line":252,"column":17},"end":{"line":254,"column":13}},"128":{"start":{"line":253,"column":16},"end":{"line":253,"column":37}},"129":{"start":{"line":257,"column":4},"end":{"line":259,"column":7}},"130":{"start":{"line":258,"column":8},"end":{"line":258,"column":25}},"131":{"start":{"line":260,"column":4},"end":{"line":260,"column":17}},"132":{"start":{"line":263,"column":0},"end":{"line":298,"column":1}},"133":{"start":{"line":264,"column":4},"end":{"line":264,"column":39}},"134":{"start":{"line":266,"column":4},"end":{"line":266,"column":43}},"135":{"start":{"line":267,"column":4},"end":{"line":267,"column":81}},"136":{"start":{"line":268,"column":4},"end":{"line":276,"column":7}},"137":{"start":{"line":269,"column":8},"end":{"line":269,"column":76}},"138":{"start":{"line":270,"column":8},"end":{"line":274,"column":9}},"139":{"start":{"line":272,"column":12},"end":{"line":272,"column":53}},"140":{"start":{"line":273,"column":12},"end":{"line":273,"column":32}},"141":{"start":{"line":275,"column":8},"end":{"line":275,"column":19}},"142":{"start":{"line":278,"column":4},"end":{"line":278,"column":40}},"143":{"start":{"line":280,"column":4},"end":{"line":280,"column":103}},"144":{"start":{"line":281,"column":4},"end":{"line":291,"column":7}},"145":{"start":{"line":282,"column":12},"end":{"line":290,"column":13}},"146":{"start":{"line":283,"column":16},"end":{"line":286,"column":17}},"147":{"start":{"line":284,"column":20},"end":{"line":284,"column":62}},"148":{"start":{"line":285,"column":20},"end":{"line":285,"column":34}},"149":{"start":{"line":289,"column":17},"end":{"line":289,"column":77}},"150":{"start":{"line":292,"column":4},"end":{"line":292,"column":47}},"151":{"start":{"line":293,"column":4},"end":{"line":297,"column":7}},"152":{"start":{"line":294,"column":8},"end":{"line":296,"column":9}},"153":{"start":{"line":295,"column":12},"end":{"line":295,"column":71}},"154":{"start":{"line":302,"column":0},"end":{"line":312,"column":1}},"155":{"start":{"line":303,"column":4},"end":{"line":303,"column":53}},"156":{"start":{"line":304,"column":4},"end":{"line":304,"column":30}},"157":{"start":{"line":305,"column":4},"end":{"line":305,"column":20}},"158":{"start":{"line":306,"column":4},"end":{"line":306,"column":34}},"159":{"start":{"line":307,"column":4},"end":{"line":307,"column":51}},"160":{"start":{"line":308,"column":4},"end":{"line":308,"column":40}},"161":{"start":{"line":310,"column":4},"end":{"line":310,"column":62}},"162":{"start":{"line":311,"column":4},"end":{"line":311,"column":25}},"163":{"start":{"line":314,"column":0},"end":{"line":324,"column":1}},"164":{"start":{"line":315,"column":4},"end":{"line":315,"column":40}},"165":{"start":{"line":316,"column":4},"end":{"line":316,"column":32}},"166":{"start":{"line":317,"column":4},"end":{"line":317,"column":35}},"167":{"start":{"line":318,"column":4},"end":{"line":318,"column":81}},"168":{"start":{"line":319,"column":4},"end":{"line":319,"column":35}},"169":{"start":{"line":320,"column":4},"end":{"line":320,"column":37}},"170":{"start":{"line":321,"column":4},"end":{"line":321,"column":74}},"171":{"start":{"line":322,"column":4},"end":{"line":322,"column":30}},"172":{"start":{"line":323,"column":4},"end":{"line":323,"column":45}},"173":{"start":{"line":325,"column":0},"end":{"line":337,"column":1}},"174":{"start":{"line":327,"column":4},"end":{"line":334,"column":5}},"175":{"start":{"line":329,"column":8},"end":{"line":329,"column":65}},"176":{"start":{"line":330,"column":8},"end":{"line":333,"column":9}},"177":{"start":{"line":331,"column":12},"end":{"line":331,"column":51}},"178":{"start":{"line":332,"column":12},"end":{"line":332,"column":36}},"179":{"start":{"line":335,"column":4},"end":{"line":335,"column":40}},"180":{"start":{"line":336,"column":4},"end":{"line":336,"column":57}},"181":{"start":{"line":341,"column":0},"end":{"line":345,"column":1}},"182":{"start":{"line":342,"column":4},"end":{"line":343,"column":25}},"183":{"start":{"line":343,"column":8},"end":{"line":343,"column":25}},"184":{"start":{"line":344,"column":4},"end":{"line":344,"column":43}},"185":{"start":{"line":346,"column":0},"end":{"line":363,"column":1}},"186":{"start":{"line":347,"column":4},"end":{"line":347,"column":33}},"187":{"start":{"line":348,"column":4},"end":{"line":351,"column":5}},"188":{"start":{"line":349,"column":8},"end":{"line":349,"column":50}},"189":{"start":{"line":350,"column":8},"end":{"line":350,"column":15}},"190":{"start":{"line":352,"column":4},"end":{"line":362,"column":5}},"191":{"start":{"line":353,"column":8},"end":{"line":353,"column":90}},"192":{"start":{"line":354,"column":8},"end":{"line":357,"column":11}},"193":{"start":{"line":355,"column":12},"end":{"line":356,"column":53}},"194":{"start":{"line":355,"column":20},"end":{"line":355,"column":67}},"195":{"start":{"line":356,"column":17},"end":{"line":356,"column":53}},"196":{"start":{"line":361,"column":8},"end":{"line":361,"column":53}},"197":{"start":{"line":365,"column":0},"end":{"line":371,"column":1}},"198":{"start":{"line":366,"column":4},"end":{"line":366,"column":63}},"199":{"start":{"line":367,"column":4},"end":{"line":367,"column":72}},"200":{"start":{"line":368,"column":4},"end":{"line":368,"column":58}},"201":{"start":{"line":368,"column":19},"end":{"line":368,"column":58}},"202":{"start":{"line":369,"column":4},"end":{"line":369,"column":24}},"203":{"start":{"line":370,"column":4},"end":{"line":370,"column":48}},"204":{"start":{"line":372,"column":0},"end":{"line":386,"column":1}},"205":{"start":{"line":373,"column":4},"end":{"line":373,"column":60}},"206":{"start":{"line":374,"column":4},"end":{"line":384,"column":5}},"207":{"start":{"line":375,"column":8},"end":{"line":382,"column":9}},"208":{"start":{"line":376,"column":12},"end":{"line":376,"column":66}},"209":{"start":{"line":377,"column":12},"end":{"line":377,"column":57}},"210":{"start":{"line":380,"column":12},"end":{"line":380,"column":57}},"211":{"start":{"line":381,"column":12},"end":{"line":381,"column":51}},"212":{"start":{"line":385,"column":4},"end":{"line":385,"column":28}},"213":{"start":{"line":387,"column":0},"end":{"line":387,"column":17}},"214":{"start":{"line":390,"column":0},"end":{"line":401,"column":1}},"215":{"start":{"line":391,"column":4},"end":{"line":391,"column":52}},"216":{"start":{"line":392,"column":4},"end":{"line":392,"column":39}},"217":{"start":{"line":393,"column":4},"end":{"line":393,"column":23}},"218":{"start":{"line":394,"column":4},"end":{"line":400,"column":7}},"219":{"start":{"line":395,"column":8},"end":{"line":395,"column":32}},"220":{"start":{"line":396,"column":8},"end":{"line":396,"column":50}},"221":{"start":{"line":396,"column":43},"end":{"line":396,"column":50}},"222":{"start":{"line":397,"column":8},"end":{"line":397,"column":49}},"223":{"start":{"line":398,"column":8},"end":{"line":398,"column":41}},"224":{"start":{"line":399,"column":8},"end":{"line":399,"column":34}},"225":{"start":{"line":403,"column":0},"end":{"line":460,"column":1}},"226":{"start":{"line":404,"column":4},"end":{"line":404,"column":27}},"227":{"start":{"line":404,"column":20},"end":{"line":404,"column":27}},"228":{"start":{"line":405,"column":4},"end":{"line":405,"column":33}},"229":{"start":{"line":423,"column":4},"end":{"line":457,"column":7}},"230":{"start":{"line":424,"column":8},"end":{"line":424,"column":51}},"231":{"start":{"line":424,"column":44},"end":{"line":424,"column":51}},"232":{"start":{"line":425,"column":8},"end":{"line":425,"column":35}},"233":{"start":{"line":426,"column":8},"end":{"line":426,"column":45}},"234":{"start":{"line":426,"column":38},"end":{"line":426,"column":45}},"235":{"start":{"line":428,"column":8},"end":{"line":428,"column":28}},"236":{"start":{"line":429,"column":8},"end":{"line":429,"column":26}},"237":{"start":{"line":430,"column":8},"end":{"line":445,"column":9}},"238":{"start":{"line":431,"column":12},"end":{"line":431,"column":29}},"239":{"start":{"line":432,"column":12},"end":{"line":432,"column":50}},"240":{"start":{"line":434,"column":13},"end":{"line":445,"column":9}},"241":{"start":{"line":435,"column":12},"end":{"line":435,"column":29}},"242":{"start":{"line":436,"column":12},"end":{"line":436,"column":53}},"243":{"start":{"line":438,"column":13},"end":{"line":445,"column":9}},"244":{"start":{"line":439,"column":12},"end":{"line":439,"column":30}},"245":{"start":{"line":440,"column":12},"end":{"line":440,"column":51}},"246":{"start":{"line":442,"column":13},"end":{"line":445,"column":9}},"247":{"start":{"line":443,"column":12},"end":{"line":443,"column":30}},"248":{"start":{"line":444,"column":12},"end":{"line":444,"column":52}},"249":{"start":{"line":446,"column":8},"end":{"line":448,"column":9}},"250":{"start":{"line":447,"column":12},"end":{"line":447,"column":19}},"251":{"start":{"line":449,"column":8},"end":{"line":449,"column":75}},"252":{"start":{"line":450,"column":8},"end":{"line":456,"column":9}},"253":{"start":{"line":451,"column":12},"end":{"line":451,"column":80}},"254":{"start":{"line":452,"column":12},"end":{"line":452,"column":45}},"255":{"start":{"line":454,"column":13},"end":{"line":456,"column":9}},"256":{"start":{"line":455,"column":12},"end":{"line":455,"column":59}},"257":{"start":{"line":459,"column":4},"end":{"line":459,"column":47}},"258":{"start":{"line":483,"column":0},"end":{"line":486,"column":1}},"259":{"start":{"line":484,"column":4},"end":{"line":484,"column":29}},"260":{"start":{"line":485,"column":4},"end":{"line":485,"column":45}},"261":{"start":{"line":488,"column":0},"end":{"line":503,"column":1}},"262":{"start":{"line":489,"column":4},"end":{"line":489,"column":44}},"263":{"start":{"line":492,"column":3},"end":{"line":494,"column":5}},"264":{"start":{"line":493,"column":7},"end":{"line":493,"column":48}},"265":{"start":{"line":496,"column":4},"end":{"line":496,"column":71}},"266":{"start":{"line":496,"column":32},"end":{"line":496,"column":71}},"267":{"start":{"line":497,"column":4},"end":{"line":497,"column":70}},"268":{"start":{"line":497,"column":31},"end":{"line":497,"column":70}},"269":{"start":{"line":498,"column":4},"end":{"line":498,"column":73}},"270":{"start":{"line":498,"column":33},"end":{"line":498,"column":73}},"271":{"start":{"line":499,"column":4},"end":{"line":499,"column":74}},"272":{"start":{"line":499,"column":33},"end":{"line":499,"column":74}},"273":{"start":{"line":500,"column":4},"end":{"line":500,"column":49}},"274":{"start":{"line":502,"column":4},"end":{"line":502,"column":31}},"275":{"start":{"line":514,"column":0},"end":{"line":530,"column":1}},"276":{"start":{"line":515,"column":4},"end":{"line":515,"column":29}},"277":{"start":{"line":515,"column":14},"end":{"line":515,"column":29}},"278":{"start":{"line":516,"column":4},"end":{"line":516,"column":125}},"279":{"start":{"line":516,"column":57},"end":{"line":516,"column":125}},"280":{"start":{"line":519,"column":4},"end":{"line":523,"column":5}},"281":{"start":{"line":520,"column":9},"end":{"line":521,"column":49}},"282":{"start":{"line":521,"column":12},"end":{"line":521,"column":49}},"283":{"start":{"line":522,"column":9},"end":{"line":522,"column":44}},"284":{"start":{"line":525,"column":4},"end":{"line":529,"column":5}},"285":{"start":{"line":527,"column":8},"end":{"line":527,"column":47}},"286":{"start":{"line":532,"column":0},"end":{"line":534,"column":1}},"287":{"start":{"line":533,"column":4},"end":{"line":533,"column":30}},"288":{"start":{"line":535,"column":0},"end":{"line":537,"column":1}},"289":{"start":{"line":536,"column":4},"end":{"line":536,"column":50}},"290":{"start":{"line":540,"column":0},"end":{"line":578,"column":1}},"291":{"start":{"line":543,"column":4},"end":{"line":543,"column":47}},"292":{"start":{"line":544,"column":4},"end":{"line":544,"column":47}},"293":{"start":{"line":545,"column":4},"end":{"line":545,"column":43}},"294":{"start":{"line":546,"column":4},"end":{"line":546,"column":39}},"295":{"start":{"line":547,"column":4},"end":{"line":547,"column":28}},"296":{"start":{"line":549,"column":4},"end":{"line":549,"column":24}},"297":{"start":{"line":550,"column":4},"end":{"line":550,"column":32}},"298":{"start":{"line":551,"column":4},"end":{"line":551,"column":36}},"299":{"start":{"line":552,"column":4},"end":{"line":552,"column":38}},"300":{"start":{"line":553,"column":4},"end":{"line":553,"column":44}},"301":{"start":{"line":554,"column":4},"end":{"line":554,"column":30}},"302":{"start":{"line":555,"column":4},"end":{"line":555,"column":38}},"303":{"start":{"line":556,"column":4},"end":{"line":556,"column":40}},"304":{"start":{"line":557,"column":4},"end":{"line":557,"column":36}},"305":{"start":{"line":558,"column":4},"end":{"line":558,"column":39}},"306":{"start":{"line":561,"column":4},"end":{"line":561,"column":39}},"307":{"start":{"line":562,"column":4},"end":{"line":562,"column":43}},"308":{"start":{"line":563,"column":4},"end":{"line":563,"column":26}},"309":{"start":{"line":564,"column":4},"end":{"line":564,"column":34}},"310":{"start":{"line":565,"column":4},"end":{"line":565,"column":28}},"311":{"start":{"line":566,"column":4},"end":{"line":566,"column":34}},"312":{"start":{"line":567,"column":4},"end":{"line":567,"column":34}},"313":{"start":{"line":569,"column":4},"end":{"line":569,"column":29}},"314":{"start":{"line":570,"column":4},"end":{"line":570,"column":31}},"315":{"start":{"line":572,"column":4},"end":{"line":572,"column":38}},"316":{"start":{"line":574,"column":4},"end":{"line":574,"column":37}},"317":{"start":{"line":575,"column":4},"end":{"line":575,"column":42}},"318":{"start":{"line":576,"column":4},"end":{"line":576,"column":37}},"319":{"start":{"line":580,"column":0},"end":{"line":580,"column":12}},"320":{"start":{"line":582,"column":0},"end":{"line":582,"column":26}}},"branchMap":{"1":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":4},"end":{"line":44,"column":4}},{"start":{"line":44,"column":4},"end":{"line":44,"column":4}}]},"2":{"line":44,"type":"binary-expr","locations":[{"start":{"line":44,"column":7},"end":{"line":44,"column":23}},{"start":{"line":44,"column":27},"end":{"line":44,"column":33}}]},"3":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":4},"end":{"line":85,"column":4}},{"start":{"line":85,"column":4},"end":{"line":85,"column":4}}]},"4":{"line":86,"type":"if","locations":[{"start":{"line":86,"column":4},"end":{"line":86,"column":4}},{"start":{"line":86,"column":4},"end":{"line":86,"column":4}}]},"5":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":4},"end":{"line":87,"column":4}},{"start":{"line":87,"column":4},"end":{"line":87,"column":4}}]},"6":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":5},"end":{"line":91,"column":5}},{"start":{"line":91,"column":5},"end":{"line":91,"column":5}}]},"7":{"line":99,"type":"cond-expr","locations":[{"start":{"line":99,"column":25},"end":{"line":99,"column":29}},{"start":{"line":99,"column":32},"end":{"line":99,"column":37}}]},"8":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":4},"end":{"line":104,"column":4}},{"start":{"line":104,"column":4},"end":{"line":104,"column":4}}]},"9":{"line":110,"type":"cond-expr","locations":[{"start":{"line":110,"column":46},"end":{"line":110,"column":56}},{"start":{"line":110,"column":58},"end":{"line":110,"column":76}}]},"10":{"line":112,"type":"if","locations":[{"start":{"line":112,"column":4},"end":{"line":112,"column":4}},{"start":{"line":112,"column":4},"end":{"line":112,"column":4}}]},"11":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":4},"end":{"line":113,"column":4}},{"start":{"line":113,"column":4},"end":{"line":113,"column":4}}]},"12":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":4},"end":{"line":115,"column":4}},{"start":{"line":115,"column":4},"end":{"line":115,"column":4}}]},"13":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":7},"end":{"line":115,"column":24}},{"start":{"line":115,"column":29},"end":{"line":115,"column":69}},{"start":{"line":115,"column":73},"end":{"line":115,"column":111}}]},"14":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":8},"end":{"line":119,"column":8}},{"start":{"line":119,"column":8},"end":{"line":119,"column":8}}]},"15":{"line":119,"type":"binary-expr","locations":[{"start":{"line":119,"column":11},"end":{"line":119,"column":38}},{"start":{"line":119,"column":42},"end":{"line":119,"column":53}},{"start":{"line":119,"column":58},"end":{"line":119,"column":72}}]},"16":{"line":121,"type":"if","locations":[{"start":{"line":121,"column":13},"end":{"line":121,"column":13}},{"start":{"line":121,"column":13},"end":{"line":121,"column":13}}]},"17":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":4},"end":{"line":152,"column":4}},{"start":{"line":152,"column":4},"end":{"line":152,"column":4}}]},"18":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":7},"end":{"line":152,"column":21}},{"start":{"line":152,"column":25},"end":{"line":152,"column":47}}]},"19":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":8},"end":{"line":153,"column":8}},{"start":{"line":153,"column":8},"end":{"line":153,"column":8}}]},"20":{"line":156,"type":"binary-expr","locations":[{"start":{"line":156,"column":37},"end":{"line":156,"column":53}},{"start":{"line":156,"column":57},"end":{"line":156,"column":80}},{"start":{"line":156,"column":84},"end":{"line":156,"column":112}}]},"21":{"line":156,"type":"binary-expr","locations":[{"start":{"line":156,"column":114},"end":{"line":156,"column":130}},{"start":{"line":156,"column":134},"end":{"line":156,"column":157}}]},"22":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":4},"end":{"line":168,"column":4}},{"start":{"line":168,"column":4},"end":{"line":168,"column":4}}]},"23":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":4},"end":{"line":172,"column":4}},{"start":{"line":172,"column":4},"end":{"line":172,"column":4}}]},"24":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":4},"end":{"line":189,"column":4}},{"start":{"line":189,"column":4},"end":{"line":189,"column":4}}]},"25":{"line":233,"type":"if","locations":[{"start":{"line":233,"column":4},"end":{"line":233,"column":4}},{"start":{"line":233,"column":4},"end":{"line":233,"column":4}}]},"26":{"line":238,"type":"cond-expr","locations":[{"start":{"line":238,"column":32},"end":{"line":238,"column":36}},{"start":{"line":238,"column":38},"end":{"line":238,"column":44}}]},"27":{"line":243,"type":"if","locations":[{"start":{"line":243,"column":8},"end":{"line":243,"column":8}},{"start":{"line":243,"column":8},"end":{"line":243,"column":8}}]},"28":{"line":243,"type":"binary-expr","locations":[{"start":{"line":243,"column":11},"end":{"line":243,"column":19}},{"start":{"line":243,"column":25},"end":{"line":243,"column":59}}]},"29":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":8},"end":{"line":245,"column":8}},{"start":{"line":245,"column":8},"end":{"line":245,"column":8}}]},"30":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":12},"end":{"line":251,"column":12}},{"start":{"line":251,"column":12},"end":{"line":251,"column":12}}]},"31":{"line":252,"type":"if","locations":[{"start":{"line":252,"column":17},"end":{"line":252,"column":17}},{"start":{"line":252,"column":17},"end":{"line":252,"column":17}}]},"32":{"line":267,"type":"binary-expr","locations":[{"start":{"line":267,"column":55},"end":{"line":267,"column":73}},{"start":{"line":267,"column":77},"end":{"line":267,"column":79}}]},"33":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":8},"end":{"line":270,"column":8}},{"start":{"line":270,"column":8},"end":{"line":270,"column":8}}]},"34":{"line":270,"type":"binary-expr","locations":[{"start":{"line":270,"column":11},"end":{"line":270,"column":34}},{"start":{"line":271,"column":18},"end":{"line":271,"column":54}},{"start":{"line":271,"column":59},"end":{"line":271,"column":87}}]},"35":{"line":280,"type":"binary-expr","locations":[{"start":{"line":280,"column":56},"end":{"line":280,"column":72}},{"start":{"line":280,"column":76},"end":{"line":280,"column":98}}]},"36":{"line":283,"type":"if","locations":[{"start":{"line":283,"column":16},"end":{"line":283,"column":16}},{"start":{"line":283,"column":16},"end":{"line":283,"column":16}}]},"37":{"line":294,"type":"if","locations":[{"start":{"line":294,"column":8},"end":{"line":294,"column":8}},{"start":{"line":294,"column":8},"end":{"line":294,"column":8}}]},"38":{"line":327,"type":"if","locations":[{"start":{"line":327,"column":4},"end":{"line":327,"column":4}},{"start":{"line":327,"column":4},"end":{"line":327,"column":4}}]},"39":{"line":330,"type":"if","locations":[{"start":{"line":330,"column":8},"end":{"line":330,"column":8}},{"start":{"line":330,"column":8},"end":{"line":330,"column":8}}]},"40":{"line":330,"type":"binary-expr","locations":[{"start":{"line":330,"column":11},"end":{"line":330,"column":20}},{"start":{"line":330,"column":24},"end":{"line":330,"column":38}}]},"41":{"line":342,"type":"if","locations":[{"start":{"line":342,"column":4},"end":{"line":342,"column":4}},{"start":{"line":342,"column":4},"end":{"line":342,"column":4}}]},"42":{"line":342,"type":"binary-expr","locations":[{"start":{"line":342,"column":7},"end":{"line":342,"column":27}},{"start":{"line":342,"column":32},"end":{"line":342,"column":45}}]},"43":{"line":348,"type":"if","locations":[{"start":{"line":348,"column":4},"end":{"line":348,"column":4}},{"start":{"line":348,"column":4},"end":{"line":348,"column":4}}]},"44":{"line":348,"type":"binary-expr","locations":[{"start":{"line":348,"column":7},"end":{"line":348,"column":26}},{"start":{"line":348,"column":30},"end":{"line":348,"column":64}}]},"45":{"line":353,"type":"binary-expr","locations":[{"start":{"line":353,"column":46},"end":{"line":353,"column":64}},{"start":{"line":353,"column":68},"end":{"line":353,"column":89}}]},"46":{"line":354,"type":"binary-expr","locations":[{"start":{"line":354,"column":27},"end":{"line":354,"column":45}},{"start":{"line":354,"column":49},"end":{"line":354,"column":70}}]},"47":{"line":355,"type":"if","locations":[{"start":{"line":355,"column":12},"end":{"line":355,"column":12}},{"start":{"line":355,"column":12},"end":{"line":355,"column":12}}]},"48":{"line":367,"type":"cond-expr","locations":[{"start":{"line":367,"column":45},"end":{"line":367,"column":61}},{"start":{"line":367,"column":63},"end":{"line":367,"column":71}}]},"49":{"line":368,"type":"if","locations":[{"start":{"line":368,"column":4},"end":{"line":368,"column":4}},{"start":{"line":368,"column":4},"end":{"line":368,"column":4}}]},"50":{"line":369,"type":"binary-expr","locations":[{"start":{"line":369,"column":12},"end":{"line":369,"column":17}},{"start":{"line":369,"column":21},"end":{"line":369,"column":23}}]},"51":{"line":373,"type":"binary-expr","locations":[{"start":{"line":373,"column":23},"end":{"line":373,"column":39}},{"start":{"line":373,"column":43},"end":{"line":373,"column":59}}]},"52":{"line":374,"type":"if","locations":[{"start":{"line":374,"column":4},"end":{"line":374,"column":4}},{"start":{"line":374,"column":4},"end":{"line":374,"column":4}}]},"53":{"line":396,"type":"if","locations":[{"start":{"line":396,"column":8},"end":{"line":396,"column":8}},{"start":{"line":396,"column":8},"end":{"line":396,"column":8}}]},"54":{"line":404,"type":"if","locations":[{"start":{"line":404,"column":4},"end":{"line":404,"column":4}},{"start":{"line":404,"column":4},"end":{"line":404,"column":4}}]},"55":{"line":424,"type":"if","locations":[{"start":{"line":424,"column":8},"end":{"line":424,"column":8}},{"start":{"line":424,"column":8},"end":{"line":424,"column":8}}]},"56":{"line":426,"type":"if","locations":[{"start":{"line":426,"column":8},"end":{"line":426,"column":8}},{"start":{"line":426,"column":8},"end":{"line":426,"column":8}}]},"57":{"line":430,"type":"if","locations":[{"start":{"line":430,"column":8},"end":{"line":430,"column":8}},{"start":{"line":430,"column":8},"end":{"line":430,"column":8}}]},"58":{"line":434,"type":"if","locations":[{"start":{"line":434,"column":13},"end":{"line":434,"column":13}},{"start":{"line":434,"column":13},"end":{"line":434,"column":13}}]},"59":{"line":438,"type":"if","locations":[{"start":{"line":438,"column":13},"end":{"line":438,"column":13}},{"start":{"line":438,"column":13},"end":{"line":438,"column":13}}]},"60":{"line":442,"type":"if","locations":[{"start":{"line":442,"column":13},"end":{"line":442,"column":13}},{"start":{"line":442,"column":13},"end":{"line":442,"column":13}}]},"61":{"line":446,"type":"if","locations":[{"start":{"line":446,"column":8},"end":{"line":446,"column":8}},{"start":{"line":446,"column":8},"end":{"line":446,"column":8}}]},"62":{"line":446,"type":"binary-expr","locations":[{"start":{"line":446,"column":11},"end":{"line":446,"column":20}},{"start":{"line":446,"column":24},"end":{"line":446,"column":31}}]},"63":{"line":450,"type":"if","locations":[{"start":{"line":450,"column":8},"end":{"line":450,"column":8}},{"start":{"line":450,"column":8},"end":{"line":450,"column":8}}]},"64":{"line":454,"type":"if","locations":[{"start":{"line":454,"column":13},"end":{"line":454,"column":13}},{"start":{"line":454,"column":13},"end":{"line":454,"column":13}}]},"65":{"line":484,"type":"binary-expr","locations":[{"start":{"line":484,"column":11},"end":{"line":484,"column":15}},{"start":{"line":484,"column":19},"end":{"line":484,"column":28}}]},"66":{"line":496,"type":"if","locations":[{"start":{"line":496,"column":4},"end":{"line":496,"column":4}},{"start":{"line":496,"column":4},"end":{"line":496,"column":4}}]},"67":{"line":496,"type":"binary-expr","locations":[{"start":{"line":496,"column":7},"end":{"line":496,"column":11}},{"start":{"line":496,"column":15},"end":{"line":496,"column":29}}]},"68":{"line":497,"type":"if","locations":[{"start":{"line":497,"column":4},"end":{"line":497,"column":4}},{"start":{"line":497,"column":4},"end":{"line":497,"column":4}}]},"69":{"line":497,"type":"binary-expr","locations":[{"start":{"line":497,"column":7},"end":{"line":497,"column":11}},{"start":{"line":497,"column":15},"end":{"line":497,"column":28}}]},"70":{"line":498,"type":"if","locations":[{"start":{"line":498,"column":4},"end":{"line":498,"column":4}},{"start":{"line":498,"column":4},"end":{"line":498,"column":4}}]},"71":{"line":498,"type":"binary-expr","locations":[{"start":{"line":498,"column":7},"end":{"line":498,"column":11}},{"start":{"line":498,"column":15},"end":{"line":498,"column":30}}]},"72":{"line":499,"type":"if","locations":[{"start":{"line":499,"column":4},"end":{"line":499,"column":4}},{"start":{"line":499,"column":4},"end":{"line":499,"column":4}}]},"73":{"line":499,"type":"binary-expr","locations":[{"start":{"line":499,"column":7},"end":{"line":499,"column":11}},{"start":{"line":499,"column":15},"end":{"line":499,"column":30}}]},"74":{"line":500,"type":"binary-expr","locations":[{"start":{"line":500,"column":21},"end":{"line":500,"column":36}},{"start":{"line":500,"column":40},"end":{"line":500,"column":46}}]},"75":{"line":515,"type":"if","locations":[{"start":{"line":515,"column":4},"end":{"line":515,"column":4}},{"start":{"line":515,"column":4},"end":{"line":515,"column":4}}]},"76":{"line":516,"type":"if","locations":[{"start":{"line":516,"column":4},"end":{"line":516,"column":4}},{"start":{"line":516,"column":4},"end":{"line":516,"column":4}}]},"77":{"line":516,"type":"binary-expr","locations":[{"start":{"line":516,"column":7},"end":{"line":516,"column":27}},{"start":{"line":516,"column":31},"end":{"line":516,"column":55}}]},"78":{"line":519,"type":"if","locations":[{"start":{"line":519,"column":4},"end":{"line":519,"column":4}},{"start":{"line":519,"column":4},"end":{"line":519,"column":4}}]},"79":{"line":520,"type":"if","locations":[{"start":{"line":520,"column":9},"end":{"line":520,"column":9}},{"start":{"line":520,"column":9},"end":{"line":520,"column":9}}]},"80":{"line":525,"type":"if","locations":[{"start":{"line":525,"column":4},"end":{"line":525,"column":4}},{"start":{"line":525,"column":4},"end":{"line":525,"column":4}}]}},"code":["// Angoose main module","//  ","//      var angoose = require(\"angoose\");","//      angoose.init(expressApp, { })","//","var ROOT = process.cwd();","var path= require(\"path\"),traverse = require(\"traverse\"),hooks= require(\"hooks\"), Q = require(\"q\");","var fs = require(\"fs\"),logging = require(\"log4js\"), _ =require(\"underscore\");","","var Pipeline = require('./Pipeline');","var Bundle = require(\"./Bundle\");","  ","var pjson = require('../package.json'), toolbox = require(\"./util/toolbox\");","var async = toolbox.async, domain=require(\"domain\");","var logger = logging.getLogger('angoose');","logger.setLevel('INFO');","var domainLogger = logging.getLogger('angoose-domain');","domainLogger.setLevel('INFO');","var DEFAULT_OPTIONS = { ","    'core-extensions':['angoose-mongoose'],","    'url-prefix':'/angoose',","    'client-file': ROOT+'/angoose-client-generated.js',","    'module-dirs': './models',","    'mongo-opts':'localhost:27017/test',","    'logging':'INFO'","}","/** Variables */","var options = {};","var beans = {}; /** this holds all Angoose classes*/","","// ### API References","","// ** init(app, options) **","//","// Initialize Angoose. This function should be called in the express app","//  ","// * @app: Express app, for now","// * @options: Angoose settings:","//     - module-dirs, optional, default to ./models","//     - url-prefix, optional, default to /angoose","//     - mongo-opts, optional. Provide this if you want Angoose to make the connection ","// ","function init(app, conf, force) {","    if(this.initialized && !force) return;","    ","    //beans = {};","    /** configurations*/","    initialConfig(conf);","    ","    logger.info(\"Angoose Initialization Start\");","    logger.trace(\"Init options:\", conf);","    ","    /** connect to Mongo if necessary */","    connectMongo(options);","    ","    /** register initial hooks */","    //registerHooks();        ","    ","    /** pre-load models/services from directories */","    harvestModules(options);","    ","    /** plugin extensions */","    hookupExtensions();","    ","    /** build client side schemas */","    generateClient();","","    /** configure the routes for handling RMI and client loading*/","    /**@todo: middleware*/","    configureRoutes(app, options);   ","  ","    logger.info(\"Angoose Initialization Complete\");","} "," ","// ** module(name, function_or_object) **","//","// Retrieve an Angoose module or register one","//","// If only one argument, name is provided, returns the registered module with that name. This form is same as `angoose.getClass()`","//","// If two arguments are provided, register the function/object as Angular module under that name.","//","","function lookupOrRegister(name, target){","    if(arguments.length == 0) return null;","    if(arguments.length == 1) return getClass(name);","    if(arguments.length == 2) return registerClass(name, target);","}","","function registerExtension(name, module){","     if( typeof(name) =='object' ) ","        name.isExtension = true;","     else ","        name = {name: name, isExtension:true}","     return registerClass(name,module);      ","}","","function hasModule(name){","    return beans[name] ? true : false; ","}","","function getClass(name){","    name = toolbox.camelcase(name);","    if(!beans[name]) throw \"Class '\"+ name+\"' is not found. Check log to see if class is loaded successfully \"","    return beans[name];  ","}","","// register module with angoose so it knows to publish it","function registerClass(nameOrOpts, claz){","    var opts = typeof(nameOrOpts) == 'object'?nameOrOpts: {name: nameOrOpts};","    var className = opts.name;","    if(!className) throw \"Missing module name: \"+ className","    if(beans[className])","        logger.warn(\"Overriding existing bean: \", className);","    if(claz._angoosemeta && (claz._angoosemeta.baseClass == 'Service' || claz._angoosemeta.baseClass == 'Model') ){","        // already mixed","    }","    else{","        if(typeof(claz) === 'function' && claz.schema  && claz.modelName )","            opts.baseClass = 'Model';","        else if(claz instanceof getMongoose().Schema){","            opts.baseClass = 'Model';","            claz = getMongoose().model(className, claz);","        }","        else","            opts.baseClass = 'Service';","        angoose.Remotable.mixin(opts, claz);","    }","    _.extend(claz._angoosemeta, nameOrOpts);","    ","    beans[className] = claz;","    //if(!nameOrOpts.isExtension)","        logger.debug(\"Registered module\", claz._angoosemeta.baseClass, className);","    return claz;","    // if(claz._angoosemeta && (claz._angoosemeta.baseClass == 'Service' || claz._angoosemeta.baseClass == 'Model') ){","//         ","    // }","    // else{","        // throw \"Invalid class: must be a Model or Service class: \" + claz;","    // }","}","","// ** getContext() **","//","// Returns the current execution context. ","//  ","// This methods returns a Context object which allows you to get a reference to the current request object ","// and/or login user's Principal object. If the callee isn't inside Angoose execution context, an error will ","// be thrown. See [Context](Context.html) for more.","function getContext(){","    ","    if(!domain.active || !domain.active.context){","        if(this.mockContext) return this.mockContext","        ","        logger.error(\"getContext called but no active domain\", domain.active);","        logger.error(\"Caller is \",   arguments.callee && arguments.callee.caller && arguments.callee.caller.name, arguments.callee && arguments.callee.caller );","        throw \"Context not available. This may happen if the code was not originated by Angoose\";  ","    } ","    ","    return domain.active.context;","} ","","function setContext(ctx){","    this.mockContext = ctx;","}","function testContext(name){","    ","    if(!domain.active){","        domainLogger.debug(\"-------------------------------------- TEST-CONTEXT \", name, \"NO ACTIVE DOMAIN\");","        return;","    }","    if(!domain.active.context){","        domainLogger.debug(\"---------------------------------------TEST-CONTEXT \", name, \"NO CONTEXT in active domain\");","        return;","    }","    domainLogger.debug(\"-------------------------------------- TEST-CONTEXT \", name, \"  OK \");","}","","// ** defer() **","//","// Convenience wrapper for `Q.defer()`, returns a deferred object","//","function defer(){","    return Q.defer();","}"," "," ","function configureRoutes(app, options){","    if(!app){","        logger.warn(\"app not provided, RMI functionality is disabled\");   ","        return;","    }","    /** this is the main RMI endpoint */","    app.post(options['url-prefix']+\"/rmi/:model/:method\", Pipeline.accept);","    /** @todo: use static serving to enable cache //app.get(\"/angoose/AngooseClient.js\", express.static(options.clientFile)); */","    app.get(options['url-prefix']+\"/angoose-client.js\", function(req, res){","        logger.debug(\"Handling AngooseClinet.js load request\");","        var filename = options['client-file'] ;  ","        var content = fs.readFileSync(filename , 'ascii');","        res.set('Content-Type', 'application/javascript');","        res.send(200,   content );  ","    });","    app.get(options['url-prefix']+\"/angoose-client.min.js\", function(req, res){","        logger.debug(\"Handling AngooseClinet.js.min.js load request\");","        var filename = options['client-file']+\".min.js\" ;","        var content = fs.readFileSync(filename , 'ascii');","        res.set('Content-Type', 'application/javascript');","        res.send(200,   content );","    });","    app.get(options['url-prefix']+\"/angoose-client.js.map\", function(req, res){","        logger.debug(\"Handling AngooseClinet.js.min.map load request\");","        var filename = options['client-file']+\".min.map\" ;","        var content = fs.readFileSync(filename , 'ascii');","        res.set('Content-Type', 'application/octet-stream');","        res.send(200,   content );","    });","}","","    ","","","//** bind(func) **","//","// Bind the async callback function with the active domain so we dont' lose the context.","//","// Necessary for Mongoose (and maybe other async modules) callbacks. ","//      ","function inContext(fn){","    /** there is a known issue with CLS that it does not work with MongoDB, ","     * needs to bind the callback with the CLS context ","     * https://github.com/othiym23/node-continuation-local-storage/issues/6","     * */","    if(domain.active) return domain.active.bind(fn);","    return fn;","}","","function scanModelFiles(dirs){","    var dirs = _.isArray(dirs)? dirs: [dirs];","    var files = [];","    files.push(path.resolve( __dirname , '../models/SampleUser.js')); // sample model","    ","    function scanDir(dirname){","        if(!dirname ||   dirname.indexOf(\"node_modules\")>=0) return;","        logger.debug(\"Scanning directory for modules: \", dirname);","        if(fs.existsSync(path.resolve(dirname, 'index.js'))){","            files.push(path.resolve(dirname, 'index.js') );","            return;","        }","        fs.readdirSync( dirname  ).forEach(function(file) {","            var fullpath = path.resolve(dirname,file);","            if(! fs.statSync(fullpath).isFile()) scanDir( fullpath );","            else if (file.match(/.+\\.js/g) !== null) {","                files.push(fullpath);","            }","        });","    }","    dirs.forEach(function(dirname){","        scanDir(dirname);","    });","    return files;","}","","function harvestModules(options){","    logger.debug(\"Harvesting modules\");","    ","    logger.debug(\"Loading all extensions\");","    var extensions = options['core-extensions'].concat(options.extensions || []);","    var extensionFiles = _.map(extensions, function(ext){","        var coreExtension = path.resolve(__dirname,  \"../extensions/\"+ ext);","        if(typeof(ext) == \"string\" && ","                ( fs.existsSync( coreExtension +\".js\") ||  fs.existsSync(coreExtension)   ) ){","            logger.trace(\"Load core extension\", ext);","            return coreExtension","        }","        return ext;","    });","    ","    logger.debug(\"Loading all modules\");","    ","    var files = extensionFiles.concat(  scanModelFiles( options.modelDir || options['module-dirs'] ) );","    files.forEach(function(file) {","            try{","                if(typeof(file === 'string')){","                    logger.trace(\"Loading module file\", file);","                    require(file);","                }","            }","            catch(ex){","                 logger.error(\"Skipping file \", file, \" due to error: \", ex);","            }","    });   ","    logger.debug(\"Adding all mongoose models\");","    _.each(getMongoose().modelNames(), function(modelName){","        if(!hasModule(modelName)){","            registerClass( modelName,  getMongoose().model(modelName));","        } ","    });","};","// ** geneateClient() **","//","// Generates the client file to be served as the contents of resource `/angoose/angoose-client.js` ","function generateClient(){","    logger.debug(\"Generating angoose client file: \");","    var bundle = new Bundle();","    var client = {};","    bundle.generateClient(client);","    var filename = angoose.config()['client-file'];","    writeToFile(filename, client.source)","    //compressFile(filename, client.source);","    logger.info(\"Generated  angoose client file: \", filename);","    return client.source;","}","","function compressFile(filename,source){","    var UglifyJS = require(\"uglify-js\");","    var mapFile=filename+\".map\";","    var minFile=filename+\".min.js\";","    var result = UglifyJS.minify(source, {fromString:true,outSourceMap:mapFile});","    var map=JSON.parse(result.map);","    map.sources=[\"angoose-client.js\"]","    var code = '//# sourceMappingURL=angoose-client.js.map\\n'+result.code;","    writeToFile(minFile,code);","    writeToFile(mapFile,JSON.stringify(map));","}","function writeToFile(filename, content){","    ","    if(filename.indexOf(\"/\")>=0){","        // make sure directory exists","        var outputDir = filename.replace(/^(.*)\\/[^\\/]+$/, \"$1\");","        if(outputDir && !fs.existsSync){","            logger.debug(\"Creating dir\", outputDir)","            fs.mkdirSync(outputDir);    ","        }","    }","    fs.writeFileSync(filename, content);","    logger.debug(\"Generated the client file:\", filename);","}","/**"," * This is mostly used by tests"," */","function getClient(forceGenerate){","    if(!angoose.initialized ||  forceGenerate)","        generateClient();","    return require(options['client-file']);","}","function connectMongo(options){","    var mongoose = getMongoose();","    if(mongoose.connection && mongoose.connection.readyState > 0 ){","        logger.debug(\"Found Mongoose connection\"); ","        return;","    }  ","    try{","        logger.debug(\"Connecting to mongodb\", options.mongo_opts || options['mongo-opts'])","        mongoose.connect( (options.mongo_opts || options['mongo-opts']) , function(err){","            if(err) logger.debug(\"Error connecting to Mongo:\", err)","            else logger.debug(\"Connected to MongoDB\")","        }); /**@todo: handle complex connection options*/","        //mongoose.connection.on('error', console.error.bind(console, 'connection error:'));","    }","    catch(err){","        logger.debug(\"mngoose connection error\", err)","    }","}","","function service(nameOpts, proto){","    logger.debug(\"creating service \", nameOpts, typeof(proto));","    var opts = typeof(nameOpts) == 'string'? {name: nameOpts}: nameOpts;","    if(!opts.name) throw \"Service name must be provided.\";","    proto = proto || {}; ","    return angoose.Service.extend(proto, opts );","}","function getMongoose(){","    angoose.mongoose = angoose.mongoose || options.mongoose;","    if(!angoose.mongoose){","        try{","            angoose.mongoose =  module.parent.require('mongoose');","            logger.debug(\"Required mongoose from parent\")    ","        }","        catch(err){","            logger.debug(\"No mongoose in parent module\");","            angoose.mongoose = require(\"mongoose\");","        }","        ","    }  ","    return angoose.mongoose;","}","function noop(){};","","","function hookupExtensions(){","    logger.debug(\"Searching Extensions in Modules\");","    toolbox.removeHookPoints(Pipeline);","    Bundle.initHooks();","    Object.keys(beans).forEach(function(bname){","        var bean = beans[bname];","        if(!bean._angoosemeta.isExtension) return;","        logger.debug(\"Loading extension\", bname);","        bean.config('visibility', false);","        registerHook(bean, bname);","    });","}","","function registerHook(middleware, name){","    if(!middleware) return;","    var hooks = require(\"hooks\");","    // if(typeof(middleware) == 'string'){","        // try{","            // if(fs.existsSync(path.resolve(__dirname,  \"../extensions/\"+ middleware+\".js\"))){","                // logger.debug(\"loading built-in extension\", middleware);","                // middleware = require(\"../extensions/\"+ middleware);","            // }","            // else","                // middleware = require(middleware);","        // }","        // catch(err){","            // logger.error(\"Require middleware\", middleware, \" failed\", err);","        // }","    // }","    //if(typeof(middleware)!='object') throw new Error(\"Angoose middleware is not an object: \" + middleware);","    //if(!middleware.name) throw new Error(\"Middleware must have a name\");","    //var name = middleware.name;","    ","    Object.keys(middleware).forEach(function(key){","        if(!middleware.hasOwnProperty(key)) return;","        var func = middleware[key]; ","        if(typeof (func)!='function') return;","        ","        var hookType = null;","        var method = null;","        if(key.indexOf('pre') == 0){","            hookType = 'pre';","            method =  key.substring('pre'.length);","        }","        else if(key.indexOf('before') == 0){","            hookType = 'pre';","            method =  key.substring('before'.length);","        }","        else if(key.indexOf('post') == 0){","            hookType = 'post';","            method =  key.substring('post'.length);","        }","        else if(key.indexOf('after') == 0){","            hookType = 'post';","            method =  key.substring('after'.length);","        }","        if(!hookType || !method){","            return;","        }","        method = method.substring(0,1).toLowerCase() + method.substring(1);","        if(Pipeline.prototype[method]){","            logger.debug(\"setting up extension point: \", name, hookType, method) ","            Pipeline[hookType](method, func);","        }","        else if(!Bundle[hookType](method, func)){","            logger.error(\"Unknown extension point: \", key);","        }","    });","    ","    logger.info(\"Registered  Extension\", name);","}","","","// function registerHooks(){","    // logger.debug(\"Registering extensions\");","    // toolbox.removeHookPoints(Pipeline);","    // toolbox.removeHookPoints(ClientSchema);","//     ","    // var extensions = options['core-extensions'].concat(   options.hooks || options.extensions || []);","    // if(extensions){","        // var hooks = Array.isArray(extensions)? extensions:[extensions];","        // _.each(hooks, function(hook){","            // // unregister first ","            // registerHook(hook);","        // })","    // }","// }","// function reload(module){","    // var name = require.resolve(module);","    // delete require.cache[name];","    // return require(module);","// }","","function getLogger(name){","    name = name || 'angoose';","    return require(\"log4js\").getLogger(name);","}","","function initialConfig(conf){","    options = _.extend({}, DEFAULT_OPTIONS);","     ","    /** overrite default configurations */","   Object.keys(conf).forEach(function(key){","       toolbox.setter(options, key,  conf[key]); // this way we will allow \"forms.url.prefix\" type of configuration","   }) ","    //_.extend(options, conf );","    if(conf && conf.urlPrefix)  options['url-prefix'] = conf.urlPrefix;","    if(conf && conf.modelDir)  options['module-dirs'] = conf.modelDir;","    if(conf && conf.mongo_opts)  options['mongo-opts'] = conf.mongo_opts;","    if(conf && conf.clientFile)  options['client-file'] = conf.clientFile;","    logger.setLevel( options.logging || 'INFO' );","    ","    angoose.initialized = true;","}","/**"," *  Set or get configurations."," * "," *  Usage:"," * "," *   config()    get the whole configuration object"," *   config(object)    set the configuration by merging the configuration options"," *   config(path)  get the configuration value at path. "," *   config(path, val) set the value at path."," */","function config(path, val){","    if(!path) return options; /**@todo: probably a deep copy */","    if(!angoose.initialized && typeof(path) == 'string') throw \"Cannot call config(\" + path+\") before angoose is intialized\";","    //if(angoose.initialized && typeof(conf) == 'object') throw \"Cannot config Angoose after startup\";","    ","    if(typeof (path) === 'string'){","         if(val === undefined)","            return toolbox.getter(options, path);","         toolbox.setter(options, path, val);","    }","    ","    if(typeof(path) === 'object'){","        // deep merge","        options = toolbox.merge(options, path);","","    }","}","","function moduleNames(){","    return Object.keys(beans);","}","function angoose(){","    return lookupOrRegister.apply(null, arguments)","}","","","function bootstrap(){","    ","    /** statics */","    angoose.Remotable = require(\"./Remotable\");","    angoose.Principal = require(\"./Principal\");","    angoose.Context = require(\"./Context\");","    angoose.Model = require(\"./Model\");","    angoose.Bundle = Bundle;","    ","    angoose.init = init;","    angoose.getClass = getClass;","    angoose.getContext = getContext;","    angoose.testContext = testContext;","    angoose.generateClient = generateClient; /** testing only */","    angoose.service = service;","    angoose.getMongoose = getMongoose;","    angoose.rmiAccept = Pipeline.accept; /** for unit test purpose*/","    angoose.setContext = setContext; // for test","    angoose.execute = Pipeline.execute;","    ","    /** public API */","    angoose.Model = require(\"./Model\");","    angoose.Service = require(\"./Service\");","    angoose.defer = defer;","    angoose.inContext = inContext;","    angoose.config = config;","    angoose.getLogger = getLogger;","    angoose.hasModule = hasModule;","    /**@since 0.2.13 */","    angoose.bind = inContext;","    angoose.client = getClient;","    ","    angoose.moduleNames = moduleNames;","     ","    angoose.module = lookupOrRegister","    angoose.extension = registerExtension;","    angoose.mongoose = getMongoose();","    //getMongoose();","}","","bootstrap();","","module.exports =  angoose;","",""," ",""],"l":{"6":1,"7":1,"8":1,"10":1,"11":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"28":1,"29":1,"43":1,"44":0,"48":0,"50":0,"51":0,"54":0,"60":0,"63":0,"66":0,"70":0,"72":0,"84":1,"85":2,"86":2,"87":2,"90":1,"91":3,"92":0,"94":3,"95":3,"98":1,"99":0,"102":1,"103":0,"104":0,"105":0,"109":1,"110":5,"111":5,"112":5,"113":5,"114":0,"115":5,"119":5,"120":0,"121":5,"122":0,"123":0,"126":5,"127":5,"129":5,"131":5,"133":5,"134":5,"150":1,"152":0,"153":0,"155":0,"156":0,"157":0,"160":0,"163":1,"164":0,"166":1,"168":0,"169":0,"170":0,"172":0,"173":0,"174":0,"176":0,"183":1,"184":0,"188":1,"189":0,"190":0,"191":0,"194":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"228":1,"233":0,"234":0,"237":1,"238":0,"239":0,"240":0,"242":1,"243":0,"244":0,"245":0,"246":0,"247":0,"249":0,"250":0,"251":0,"252":0,"253":0,"257":0,"258":0,"260":0,"263":1,"264":0,"266":0,"267":0,"268":0,"269":0,"270":0,"272":0,"273":0,"275":0,"278":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"289":0,"292":0,"293":0,"294":0,"295":0,"302":1,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"310":0,"311":0,"314":1,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"325":1,"327":0,"329":0,"330":0,"331":0,"332":0,"335":0,"336":0,"341":1,"342":0,"343":0,"344":0,"346":1,"347":0,"348":0,"349":0,"350":0,"352":0,"353":0,"354":0,"355":0,"356":0,"361":0,"365":1,"366":0,"367":0,"368":0,"369":0,"370":0,"372":1,"373":9,"374":9,"375":1,"376":1,"377":1,"380":0,"381":0,"385":9,"387":1,"390":1,"391":0,"392":0,"393":0,"394":0,"395":0,"396":0,"397":0,"398":0,"399":0,"403":1,"404":0,"405":0,"423":0,"424":0,"425":0,"426":0,"428":0,"429":0,"430":0,"431":0,"432":0,"434":0,"435":0,"436":0,"438":0,"439":0,"440":0,"442":0,"443":0,"444":0,"446":0,"447":0,"449":0,"450":0,"451":0,"452":0,"454":0,"455":0,"459":0,"483":1,"484":0,"485":0,"488":1,"489":0,"492":0,"493":0,"496":0,"497":0,"498":0,"499":0,"500":0,"502":0,"514":1,"515":0,"516":0,"519":0,"520":0,"521":0,"522":0,"525":0,"527":0,"532":1,"533":0,"535":1,"536":0,"540":1,"543":1,"544":1,"545":1,"546":1,"547":1,"549":1,"550":1,"551":1,"552":1,"553":1,"554":1,"555":1,"556":1,"557":1,"558":1,"561":1,"562":1,"563":1,"564":1,"565":1,"566":1,"567":1,"569":1,"570":1,"572":1,"574":1,"575":1,"576":1,"580":1,"582":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Pipeline.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Pipeline.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":5,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":1,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":1,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":1,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":1,"104":0,"105":0,"106":0,"107":1,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":1,"130":0,"131":1,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":1,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":1,"198":0,"199":0,"200":0,"201":0,"202":1,"203":1,"204":1,"205":1,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0},"fnMap":{"1":{"name":"Pipeline","line":13,"loc":{"start":{"line":13,"column":0},"end":{"line":13,"column":19}}},"2":{"name":"authroize","line":18,"loc":{"start":{"line":18,"column":17},"end":{"line":18,"column":62}}},"3":{"name":"resolveTarget","line":29,"loc":{"start":{"line":29,"column":22},"end":{"line":29,"column":70}}},"4":{"name":"resolveArguments","line":51,"loc":{"start":{"line":51,"column":25},"end":{"line":51,"column":78}}},"5":{"name":"invoke","line":62,"loc":{"start":{"line":62,"column":15},"end":{"line":62,"column":55}}},"6":{"name":"callbackHandler","line":75,"loc":{"start":{"line":75,"column":4},"end":{"line":75,"column":41}}},"7":{"name":"(anonymous_7)","line":102,"loc":{"start":{"line":102,"column":17},"end":{"line":102,"column":33}}},"8":{"name":"(anonymous_8)","line":104,"loc":{"start":{"line":104,"column":11},"end":{"line":104,"column":24}}},"9":{"name":"redact","line":115,"loc":{"start":{"line":115,"column":15},"end":{"line":115,"column":54}}},"10":{"name":"pack","line":125,"loc":{"start":{"line":125,"column":13},"end":{"line":125,"column":49}}},"11":{"name":"formatError","line":150,"loc":{"start":{"line":150,"column":20},"end":{"line":150,"column":64}}},"12":{"name":"getValueType","line":162,"loc":{"start":{"line":162,"column":0},"end":{"line":162,"column":26}}},"13":{"name":"injectDependencies","line":168,"loc":{"start":{"line":168,"column":0},"end":{"line":168,"column":50}}},"14":{"name":"angoose","line":200,"loc":{"start":{"line":200,"column":0},"end":{"line":200,"column":18}}},"15":{"name":"(anonymous_15)","line":210,"loc":{"start":{"line":210,"column":19},"end":{"line":210,"column":54}}},"16":{"name":"(anonymous_16)","line":211,"loc":{"start":{"line":211,"column":71},"end":{"line":211,"column":84}}},"17":{"name":"(anonymous_17)","line":219,"loc":{"start":{"line":219,"column":18},"end":{"line":219,"column":28}}},"18":{"name":"handleError","line":229,"loc":{"start":{"line":229,"column":16},"end":{"line":229,"column":49}}},"19":{"name":"(anonymous_19)","line":238,"loc":{"start":{"line":238,"column":53},"end":{"line":238,"column":65}}},"20":{"name":"uncaught","line":244,"loc":{"start":{"line":244,"column":35},"end":{"line":244,"column":56}}},"21":{"name":"(anonymous_21)","line":256,"loc":{"start":{"line":256,"column":49},"end":{"line":256,"column":62}}},"22":{"name":"(anonymous_22)","line":260,"loc":{"start":{"line":260,"column":57},"end":{"line":260,"column":70}}},"23":{"name":"(anonymous_23)","line":265,"loc":{"start":{"line":265,"column":61},"end":{"line":265,"column":74}}},"24":{"name":"(anonymous_24)","line":269,"loc":{"start":{"line":269,"column":56},"end":{"line":269,"column":68}}},"25":{"name":"(anonymous_25)","line":272,"loc":{"start":{"line":272,"column":60},"end":{"line":272,"column":73}}},"26":{"name":"(anonymous_26)","line":274,"loc":{"start":{"line":274,"column":62},"end":{"line":274,"column":75}}},"27":{"name":"(anonymous_27)","line":292,"loc":{"start":{"line":292,"column":38},"end":{"line":292,"column":48}}},"28":{"name":"accept","line":305,"loc":{"start":{"line":305,"column":18},"end":{"line":305,"column":43}}},"29":{"name":"(anonymous_29)","line":308,"loc":{"start":{"line":308,"column":38},"end":{"line":308,"column":52}}},"30":{"name":"decode","line":324,"loc":{"start":{"line":324,"column":0},"end":{"line":324,"column":20}}},"31":{"name":"(anonymous_31)","line":333,"loc":{"start":{"line":333,"column":33},"end":{"line":333,"column":46}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":99}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":77}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":26}},"6":{"start":{"line":6,"column":0},"end":{"line":6,"column":42}},"7":{"start":{"line":7,"column":0},"end":{"line":7,"column":35}},"8":{"start":{"line":8,"column":0},"end":{"line":8,"column":39}},"9":{"start":{"line":11,"column":0},"end":{"line":11,"column":29}},"10":{"start":{"line":13,"column":0},"end":{"line":13,"column":21}},"11":{"start":{"line":14,"column":0},"end":{"line":14,"column":47}},"12":{"start":{"line":14,"column":23},"end":{"line":14,"column":46}},"13":{"start":{"line":16,"column":0},"end":{"line":16,"column":31}},"14":{"start":{"line":18,"column":0},"end":{"line":26,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":48}},"16":{"start":{"line":21,"column":4},"end":{"line":21,"column":74}},"17":{"start":{"line":21,"column":41},"end":{"line":21,"column":74}},"18":{"start":{"line":23,"column":4},"end":{"line":23,"column":63}},"19":{"start":{"line":24,"column":4},"end":{"line":24,"column":55}},"20":{"start":{"line":25,"column":4},"end":{"line":25,"column":37}},"21":{"start":{"line":29,"column":0},"end":{"line":49,"column":1}},"22":{"start":{"line":30,"column":4},"end":{"line":30,"column":52}},"23":{"start":{"line":33,"column":4},"end":{"line":36,"column":5}},"24":{"start":{"line":34,"column":8},"end":{"line":34,"column":56}},"25":{"start":{"line":35,"column":8},"end":{"line":35,"column":29}},"26":{"start":{"line":38,"column":4},"end":{"line":39,"column":81}},"27":{"start":{"line":39,"column":8},"end":{"line":39,"column":81}},"28":{"start":{"line":41,"column":4},"end":{"line":41,"column":60}},"29":{"start":{"line":42,"column":4},"end":{"line":45,"column":5}},"30":{"start":{"line":43,"column":8},"end":{"line":43,"column":39}},"31":{"start":{"line":44,"column":8},"end":{"line":44,"column":29}},"32":{"start":{"line":47,"column":4},"end":{"line":47,"column":60}},"33":{"start":{"line":48,"column":4},"end":{"line":48,"column":26}},"34":{"start":{"line":51,"column":0},"end":{"line":60,"column":1}},"35":{"start":{"line":52,"column":4},"end":{"line":52,"column":55}},"36":{"start":{"line":54,"column":4},"end":{"line":57,"column":5}},"37":{"start":{"line":55,"column":8},"end":{"line":55,"column":59}},"38":{"start":{"line":56,"column":8},"end":{"line":56,"column":32}},"39":{"start":{"line":58,"column":4},"end":{"line":58,"column":43}},"40":{"start":{"line":59,"column":4},"end":{"line":59,"column":22}},"41":{"start":{"line":62,"column":0},"end":{"line":112,"column":2}},"42":{"start":{"line":64,"column":4},"end":{"line":67,"column":5}},"43":{"start":{"line":65,"column":8},"end":{"line":65,"column":49}},"44":{"start":{"line":66,"column":8},"end":{"line":66,"column":28}},"45":{"start":{"line":68,"column":4},"end":{"line":68,"column":36}},"46":{"start":{"line":69,"column":4},"end":{"line":69,"column":38}},"47":{"start":{"line":70,"column":4},"end":{"line":70,"column":35}},"48":{"start":{"line":71,"column":4},"end":{"line":71,"column":36}},"49":{"start":{"line":73,"column":4},"end":{"line":73,"column":29}},"50":{"start":{"line":75,"column":4},"end":{"line":87,"column":5}},"51":{"start":{"line":77,"column":8},"end":{"line":77,"column":65}},"52":{"start":{"line":78,"column":8},"end":{"line":83,"column":9}},"53":{"start":{"line":79,"column":12},"end":{"line":79,"column":67}},"54":{"start":{"line":81,"column":12},"end":{"line":81,"column":60}},"55":{"start":{"line":82,"column":12},"end":{"line":82,"column":36}},"56":{"start":{"line":84,"column":8},"end":{"line":84,"column":57}},"57":{"start":{"line":85,"column":8},"end":{"line":85,"column":35}},"58":{"start":{"line":86,"column":8},"end":{"line":86,"column":21}},"59":{"start":{"line":88,"column":4},"end":{"line":90,"column":5}},"60":{"start":{"line":89,"column":8},"end":{"line":89,"column":31}},"61":{"start":{"line":92,"column":4},"end":{"line":92,"column":78}},"62":{"start":{"line":93,"column":4},"end":{"line":93,"column":66}},"63":{"start":{"line":95,"column":4},"end":{"line":95,"column":119}},"64":{"start":{"line":95,"column":24},"end":{"line":95,"column":119}},"65":{"start":{"line":96,"column":4},"end":{"line":96,"column":50}},"66":{"start":{"line":98,"column":4},"end":{"line":98,"column":41}},"67":{"start":{"line":99,"column":4},"end":{"line":99,"column":57}},"68":{"start":{"line":99,"column":29},"end":{"line":99,"column":57}},"69":{"start":{"line":101,"column":4},"end":{"line":111,"column":5}},"70":{"start":{"line":102,"column":8},"end":{"line":106,"column":11}},"71":{"start":{"line":103,"column":12},"end":{"line":103,"column":43}},"72":{"start":{"line":105,"column":12},"end":{"line":105,"column":33}},"73":{"start":{"line":108,"column":9},"end":{"line":111,"column":5}},"74":{"start":{"line":110,"column":8},"end":{"line":110,"column":43}},"75":{"start":{"line":115,"column":0},"end":{"line":123,"column":1}},"76":{"start":{"line":116,"column":4},"end":{"line":116,"column":45}},"77":{"start":{"line":117,"column":4},"end":{"line":120,"column":5}},"78":{"start":{"line":118,"column":8},"end":{"line":118,"column":49}},"79":{"start":{"line":119,"column":8},"end":{"line":119,"column":28}},"80":{"start":{"line":121,"column":4},"end":{"line":121,"column":44}},"81":{"start":{"line":122,"column":4},"end":{"line":122,"column":17}},"82":{"start":{"line":125,"column":0},"end":{"line":148,"column":1}},"83":{"start":{"line":126,"column":4},"end":{"line":126,"column":43}},"84":{"start":{"line":127,"column":4},"end":{"line":130,"column":5}},"85":{"start":{"line":128,"column":8},"end":{"line":128,"column":47}},"86":{"start":{"line":129,"column":8},"end":{"line":129,"column":26}},"87":{"start":{"line":132,"column":4},"end":{"line":132,"column":35}},"88":{"start":{"line":133,"column":4},"end":{"line":133,"column":39}},"89":{"start":{"line":134,"column":4},"end":{"line":134,"column":43}},"90":{"start":{"line":135,"column":4},"end":{"line":140,"column":6}},"91":{"start":{"line":141,"column":4},"end":{"line":145,"column":5}},"92":{"start":{"line":144,"column":8},"end":{"line":144,"column":43}},"93":{"start":{"line":146,"column":4},"end":{"line":146,"column":32}},"94":{"start":{"line":147,"column":4},"end":{"line":147,"column":15}},"95":{"start":{"line":150,"column":0},"end":{"line":161,"column":1}},"96":{"start":{"line":151,"column":4},"end":{"line":151,"column":46}},"97":{"start":{"line":151,"column":26},"end":{"line":151,"column":46}},"98":{"start":{"line":152,"column":4},"end":{"line":152,"column":34}},"99":{"start":{"line":153,"column":4},"end":{"line":153,"column":61}},"100":{"start":{"line":154,"column":4},"end":{"line":154,"column":40}},"101":{"start":{"line":155,"column":4},"end":{"line":159,"column":5}},"102":{"start":{"line":160,"column":4},"end":{"line":160,"column":17}},"103":{"start":{"line":162,"column":0},"end":{"line":165,"column":1}},"104":{"start":{"line":163,"column":4},"end":{"line":163,"column":56}},"105":{"start":{"line":163,"column":40},"end":{"line":163,"column":56}},"106":{"start":{"line":164,"column":4},"end":{"line":164,"column":20}},"107":{"start":{"line":168,"column":0},"end":{"line":198,"column":1}},"108":{"start":{"line":170,"column":4},"end":{"line":170,"column":65}},"109":{"start":{"line":171,"column":4},"end":{"line":171,"column":73}},"110":{"start":{"line":172,"column":4},"end":{"line":172,"column":104}},"111":{"start":{"line":173,"column":4},"end":{"line":173,"column":28}},"112":{"start":{"line":174,"column":4},"end":{"line":174,"column":91}},"113":{"start":{"line":175,"column":4},"end":{"line":196,"column":5}},"114":{"start":{"line":177,"column":8},"end":{"line":182,"column":9}},"115":{"start":{"line":178,"column":12},"end":{"line":178,"column":32}},"116":{"start":{"line":179,"column":13},"end":{"line":182,"column":9}},"117":{"start":{"line":180,"column":12},"end":{"line":180,"column":31}},"118":{"start":{"line":181,"column":12},"end":{"line":181,"column":31}},"119":{"start":{"line":183,"column":8},"end":{"line":195,"column":9}},"120":{"start":{"line":185,"column":16},"end":{"line":185,"column":59}},"121":{"start":{"line":186,"column":16},"end":{"line":186,"column":35}},"122":{"start":{"line":187,"column":16},"end":{"line":187,"column":35}},"123":{"start":{"line":188,"column":16},"end":{"line":188,"column":22}},"124":{"start":{"line":190,"column":16},"end":{"line":190,"column":58}},"125":{"start":{"line":191,"column":16},"end":{"line":191,"column":49}},"126":{"start":{"line":192,"column":16},"end":{"line":192,"column":22}},"127":{"start":{"line":194,"column":16},"end":{"line":194,"column":22}},"128":{"start":{"line":197,"column":4},"end":{"line":197,"column":23}},"129":{"start":{"line":200,"column":0},"end":{"line":202,"column":1}},"130":{"start":{"line":201,"column":4},"end":{"line":201,"column":32}},"131":{"start":{"line":210,"column":0},"end":{"line":303,"column":1}},"132":{"start":{"line":211,"column":8},"end":{"line":213,"column":11}},"133":{"start":{"line":212,"column":12},"end":{"line":212,"column":35}},"134":{"start":{"line":215,"column":8},"end":{"line":215,"column":36}},"135":{"start":{"line":216,"column":8},"end":{"line":216,"column":28}},"136":{"start":{"line":219,"column":8},"end":{"line":302,"column":11}},"137":{"start":{"line":220,"column":16},"end":{"line":220,"column":46}},"138":{"start":{"line":221,"column":16},"end":{"line":221,"column":50}},"139":{"start":{"line":222,"column":16},"end":{"line":222,"column":33}},"140":{"start":{"line":223,"column":16},"end":{"line":223,"column":97}},"141":{"start":{"line":224,"column":16},"end":{"line":224,"column":63}},"142":{"start":{"line":226,"column":16},"end":{"line":226,"column":36}},"143":{"start":{"line":227,"column":16},"end":{"line":227,"column":44}},"144":{"start":{"line":229,"column":16},"end":{"line":243,"column":17}},"145":{"start":{"line":230,"column":20},"end":{"line":233,"column":21}},"146":{"start":{"line":231,"column":24},"end":{"line":231,"column":61}},"147":{"start":{"line":232,"column":24},"end":{"line":232,"column":31}},"148":{"start":{"line":235,"column":20},"end":{"line":235,"column":56}},"149":{"start":{"line":236,"column":20},"end":{"line":236,"column":46}},"150":{"start":{"line":238,"column":20},"end":{"line":242,"column":23}},"151":{"start":{"line":239,"column":24},"end":{"line":239,"column":82}},"152":{"start":{"line":240,"column":24},"end":{"line":240,"column":52}},"153":{"start":{"line":241,"column":24},"end":{"line":241,"column":37}},"154":{"start":{"line":244,"column":16},"end":{"line":248,"column":19}},"155":{"start":{"line":245,"column":20},"end":{"line":245,"column":78}},"156":{"start":{"line":247,"column":20},"end":{"line":247,"column":77}},"157":{"start":{"line":251,"column":16},"end":{"line":251,"column":33}},"158":{"start":{"line":253,"column":16},"end":{"line":253,"column":49}},"159":{"start":{"line":254,"column":16},"end":{"line":254,"column":50}},"160":{"start":{"line":256,"column":16},"end":{"line":290,"column":19}},"161":{"start":{"line":257,"column":20},"end":{"line":257,"column":52}},"162":{"start":{"line":257,"column":28},"end":{"line":257,"column":52}},"163":{"start":{"line":258,"column":20},"end":{"line":258,"column":94}},"164":{"start":{"line":258,"column":45},"end":{"line":258,"column":94}},"165":{"start":{"line":260,"column":20},"end":{"line":289,"column":23}},"166":{"start":{"line":261,"column":24},"end":{"line":261,"column":56}},"167":{"start":{"line":261,"column":32},"end":{"line":261,"column":56}},"168":{"start":{"line":263,"column":24},"end":{"line":263,"column":113}},"169":{"start":{"line":263,"column":47},"end":{"line":263,"column":113}},"170":{"start":{"line":265,"column":24},"end":{"line":288,"column":27}},"171":{"start":{"line":266,"column":28},"end":{"line":266,"column":60}},"172":{"start":{"line":266,"column":36},"end":{"line":266,"column":60}},"173":{"start":{"line":268,"column":28},"end":{"line":268,"column":100}},"174":{"start":{"line":268,"column":54},"end":{"line":268,"column":100}},"175":{"start":{"line":269,"column":28},"end":{"line":287,"column":31}},"176":{"start":{"line":271,"column":32},"end":{"line":271,"column":62}},"177":{"start":{"line":271,"column":39},"end":{"line":271,"column":62}},"178":{"start":{"line":272,"column":32},"end":{"line":286,"column":35}},"179":{"start":{"line":273,"column":36},"end":{"line":273,"column":68}},"180":{"start":{"line":273,"column":44},"end":{"line":273,"column":68}},"181":{"start":{"line":274,"column":36},"end":{"line":285,"column":39}},"182":{"start":{"line":275,"column":40},"end":{"line":275,"column":72}},"183":{"start":{"line":275,"column":48},"end":{"line":275,"column":72}},"184":{"start":{"line":277,"column":40},"end":{"line":277,"column":68}},"185":{"start":{"line":278,"column":40},"end":{"line":278,"column":52}},"186":{"start":{"line":279,"column":40},"end":{"line":279,"column":91}},"187":{"start":{"line":280,"column":40},"end":{"line":283,"column":98}},"188":{"start":{"line":281,"column":44},"end":{"line":281,"column":175}},"189":{"start":{"line":283,"column":45},"end":{"line":283,"column":98}},"190":{"start":{"line":292,"column":15},"end":{"line":299,"column":62}},"191":{"start":{"line":293,"column":19},"end":{"line":293,"column":35}},"192":{"start":{"line":293,"column":28},"end":{"line":293,"column":35}},"193":{"start":{"line":295,"column":19},"end":{"line":295,"column":112}},"194":{"start":{"line":296,"column":19},"end":{"line":296,"column":46}},"195":{"start":{"line":297,"column":19},"end":{"line":297,"column":36}},"196":{"start":{"line":300,"column":15},"end":{"line":300,"column":29}},"197":{"start":{"line":305,"column":0},"end":{"line":314,"column":1}},"198":{"start":{"line":306,"column":4},"end":{"line":306,"column":38}},"199":{"start":{"line":307,"column":4},"end":{"line":307,"column":56}},"200":{"start":{"line":308,"column":4},"end":{"line":313,"column":7}},"201":{"start":{"line":312,"column":8},"end":{"line":312,"column":28}},"202":{"start":{"line":317,"column":0},"end":{"line":317,"column":106}},"203":{"start":{"line":318,"column":0},"end":{"line":318,"column":32}},"204":{"start":{"line":319,"column":0},"end":{"line":319,"column":27}},"205":{"start":{"line":324,"column":0},"end":{"line":343,"column":1}},"206":{"start":{"line":326,"column":4},"end":{"line":326,"column":50}},"207":{"start":{"line":326,"column":39},"end":{"line":326,"column":50}},"208":{"start":{"line":327,"column":4},"end":{"line":341,"column":5}},"209":{"start":{"line":328,"column":8},"end":{"line":330,"column":9}},"210":{"start":{"line":329,"column":12},"end":{"line":329,"column":36}},"211":{"start":{"line":333,"column":8},"end":{"line":340,"column":10}},"212":{"start":{"line":334,"column":12},"end":{"line":334,"column":39}},"213":{"start":{"line":335,"column":12},"end":{"line":338,"column":13}},"214":{"start":{"line":336,"column":16},"end":{"line":336,"column":32}},"215":{"start":{"line":337,"column":16},"end":{"line":337,"column":38}},"216":{"start":{"line":339,"column":12},"end":{"line":339,"column":27}},"217":{"start":{"line":342,"column":4},"end":{"line":342,"column":15}}},"branchMap":{"1":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":4},"end":{"line":21,"column":4}},{"start":{"line":21,"column":4},"end":{"line":21,"column":4}}]},"2":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":41},"end":{"line":21,"column":54}},{"start":{"line":21,"column":58},"end":{"line":21,"column":73}}]},"3":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":17}},{"start":{"line":25,"column":21},"end":{"line":25,"column":36}}]},"4":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":4},"end":{"line":33,"column":4}},{"start":{"line":33,"column":4},"end":{"line":33,"column":4}}]},"5":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":4},"end":{"line":38,"column":4}},{"start":{"line":38,"column":4},"end":{"line":38,"column":4}}]},"6":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":7},"end":{"line":38,"column":25}},{"start":{"line":38,"column":29},"end":{"line":38,"column":68}}]},"7":{"line":42,"type":"if","locations":[{"start":{"line":42,"column":4},"end":{"line":42,"column":4}},{"start":{"line":42,"column":4},"end":{"line":42,"column":4}}]},"8":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":4},"end":{"line":54,"column":4}},{"start":{"line":54,"column":4},"end":{"line":54,"column":4}}]},"9":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":64,"column":4}},{"start":{"line":64,"column":4},"end":{"line":64,"column":4}}]},"10":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":8}},{"start":{"line":78,"column":8},"end":{"line":78,"column":8}}]},"11":{"line":81,"type":"cond-expr","locations":[{"start":{"line":81,"column":40},"end":{"line":81,"column":43}},{"start":{"line":81,"column":45},"end":{"line":81,"column":59}}]},"12":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":4}},{"start":{"line":88,"column":4},"end":{"line":88,"column":4}}]},"13":{"line":88,"type":"binary-expr","locations":[{"start":{"line":88,"column":8},"end":{"line":88,"column":35}},{"start":{"line":88,"column":39},"end":{"line":88,"column":66}}]},"14":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":4},"end":{"line":95,"column":4}},{"start":{"line":95,"column":4},"end":{"line":95,"column":4}}]},"15":{"line":99,"type":"if","locations":[{"start":{"line":99,"column":4},"end":{"line":99,"column":4}},{"start":{"line":99,"column":4},"end":{"line":99,"column":4}}]},"16":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":4},"end":{"line":101,"column":4}},{"start":{"line":101,"column":4},"end":{"line":101,"column":4}}]},"17":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":7},"end":{"line":101,"column":23}},{"start":{"line":101,"column":28},"end":{"line":101,"column":31}},{"start":{"line":101,"column":35},"end":{"line":101,"column":65}}]},"18":{"line":108,"type":"if","locations":[{"start":{"line":108,"column":9},"end":{"line":108,"column":9}},{"start":{"line":108,"column":9},"end":{"line":108,"column":9}}]},"19":{"line":108,"type":"binary-expr","locations":[{"start":{"line":108,"column":12},"end":{"line":108,"column":24}},{"start":{"line":108,"column":28},"end":{"line":108,"column":45}}]},"20":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":4},"end":{"line":117,"column":4}},{"start":{"line":117,"column":4},"end":{"line":117,"column":4}}]},"21":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":4},"end":{"line":127,"column":4}},{"start":{"line":127,"column":4},"end":{"line":127,"column":4}}]},"22":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":4},"end":{"line":141,"column":4}},{"start":{"line":141,"column":4},"end":{"line":141,"column":4}}]},"23":{"line":141,"type":"binary-expr","locations":[{"start":{"line":141,"column":8},"end":{"line":141,"column":26}},{"start":{"line":141,"column":31},"end":{"line":141,"column":78}}]},"24":{"line":151,"type":"if","locations":[{"start":{"line":151,"column":4},"end":{"line":151,"column":4}},{"start":{"line":151,"column":4},"end":{"line":151,"column":4}}]},"25":{"line":163,"type":"if","locations":[{"start":{"line":163,"column":4},"end":{"line":163,"column":4}},{"start":{"line":163,"column":4},"end":{"line":163,"column":4}}]},"26":{"line":163,"type":"binary-expr","locations":[{"start":{"line":163,"column":7},"end":{"line":163,"column":11}},{"start":{"line":163,"column":15},"end":{"line":163,"column":38}}]},"27":{"line":174,"type":"cond-expr","locations":[{"start":{"line":174,"column":54},"end":{"line":174,"column":65}},{"start":{"line":174,"column":66},"end":{"line":174,"column":90}}]},"28":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":8},"end":{"line":177,"column":8}},{"start":{"line":177,"column":8},"end":{"line":177,"column":8}}]},"29":{"line":179,"type":"if","locations":[{"start":{"line":179,"column":13},"end":{"line":179,"column":13}},{"start":{"line":179,"column":13},"end":{"line":179,"column":13}}]},"30":{"line":183,"type":"switch","locations":[{"start":{"line":184,"column":12},"end":{"line":188,"column":22}},{"start":{"line":189,"column":13},"end":{"line":192,"column":22}},{"start":{"line":193,"column":13},"end":{"line":194,"column":22}}]},"31":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":20},"end":{"line":230,"column":20}},{"start":{"line":230,"column":20},"end":{"line":230,"column":20}}]},"32":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":20},"end":{"line":257,"column":20}},{"start":{"line":257,"column":20},"end":{"line":257,"column":20}}]},"33":{"line":258,"type":"if","locations":[{"start":{"line":258,"column":20},"end":{"line":258,"column":20}},{"start":{"line":258,"column":20},"end":{"line":258,"column":20}}]},"34":{"line":261,"type":"if","locations":[{"start":{"line":261,"column":24},"end":{"line":261,"column":24}},{"start":{"line":261,"column":24},"end":{"line":261,"column":24}}]},"35":{"line":263,"type":"if","locations":[{"start":{"line":263,"column":24},"end":{"line":263,"column":24}},{"start":{"line":263,"column":24},"end":{"line":263,"column":24}}]},"36":{"line":266,"type":"if","locations":[{"start":{"line":266,"column":28},"end":{"line":266,"column":28}},{"start":{"line":266,"column":28},"end":{"line":266,"column":28}}]},"37":{"line":268,"type":"if","locations":[{"start":{"line":268,"column":28},"end":{"line":268,"column":28}},{"start":{"line":268,"column":28},"end":{"line":268,"column":28}}]},"38":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":32},"end":{"line":271,"column":32}},{"start":{"line":271,"column":32},"end":{"line":271,"column":32}}]},"39":{"line":273,"type":"if","locations":[{"start":{"line":273,"column":36},"end":{"line":273,"column":36}},{"start":{"line":273,"column":36},"end":{"line":273,"column":36}}]},"40":{"line":275,"type":"if","locations":[{"start":{"line":275,"column":40},"end":{"line":275,"column":40}},{"start":{"line":275,"column":40},"end":{"line":275,"column":40}}]},"41":{"line":280,"type":"if","locations":[{"start":{"line":280,"column":40},"end":{"line":280,"column":40}},{"start":{"line":280,"column":40},"end":{"line":280,"column":40}}]},"42":{"line":280,"type":"binary-expr","locations":[{"start":{"line":280,"column":43},"end":{"line":280,"column":103}},{"start":{"line":280,"column":107},"end":{"line":280,"column":140}}]},"43":{"line":280,"type":"binary-expr","locations":[{"start":{"line":280,"column":57},"end":{"line":280,"column":74}},{"start":{"line":280,"column":78},"end":{"line":280,"column":102}}]},"44":{"line":293,"type":"if","locations":[{"start":{"line":293,"column":19},"end":{"line":293,"column":19}},{"start":{"line":293,"column":19},"end":{"line":293,"column":19}}]},"45":{"line":299,"type":"binary-expr","locations":[{"start":{"line":299,"column":18},"end":{"line":299,"column":52}},{"start":{"line":299,"column":56},"end":{"line":299,"column":60}}]},"46":{"line":326,"type":"if","locations":[{"start":{"line":326,"column":4},"end":{"line":326,"column":4}},{"start":{"line":326,"column":4},"end":{"line":326,"column":4}}]},"47":{"line":326,"type":"binary-expr","locations":[{"start":{"line":326,"column":7},"end":{"line":326,"column":11}},{"start":{"line":326,"column":15},"end":{"line":326,"column":37}}]},"48":{"line":327,"type":"if","locations":[{"start":{"line":327,"column":4},"end":{"line":327,"column":4}},{"start":{"line":327,"column":4},"end":{"line":327,"column":4}}]},"49":{"line":335,"type":"if","locations":[{"start":{"line":335,"column":12},"end":{"line":335,"column":12}},{"start":{"line":335,"column":12},"end":{"line":335,"column":12}}]}},"code":["var path= require(\"path\"),traverse = require(\"traverse\"),hooks= require(\"hooks\"), Q = require(\"q\");","var fs = require(\"fs\"),logging = require(\"log4js\"), _ =require(\"underscore\");","var domain = require(\"domain\");","var toolbox = require(\"./util/toolbox\");","var async = toolbox.async;","var logger = logging.getLogger('angoose');","var Context = require(\"./Context\");","var Exception = require(\"./Exception\");","","/**@todo: move to mongoose plugin */","toolbox.patchMongoCallback();","","function Pipeline(){}","for (var k in hooks) { Pipeline[k] = hooks[k];}","","var proto = Pipeline.prototype;","    ","proto.authorize= function authroize(invocation, authorizeBack){","    logger.debug(\"STEP 100: pipline.authorize\");","    ","    if(invocation.allowed !== undefined) authorizeBack && authorizeBack();","    /** default implementation always grant access */","    var defaultMode = angoose().config()['authorization-mode'];","    invocation.allowed =  (defaultMode !== 'deny-all');","    authorizeBack && authorizeBack();","}","","","proto.resolveTarget = function resolveTarget(invocation,  resolveBack){","    logger.debug(\"STEP 200: pipline.resolveTarget\");","    /**logger.debug(\"Preparing target from JSON\");*/","","    if(invocation.target){","        logger.debug(\"Skipping default: resolveTarget\");","        return resolveBack();","    } ","    ","    if(!invocation.static && typeof(invocation.instance) != 'object') ","        return resolveBack(  new Error(\"Missing invocation instance property\" ));","           ","    var modelClass = angoose().getClass( invocation.clazz );","    if(invocation.static){ ","        invocation.target = modelClass;","        return resolveBack();","    }","    ","    invocation.target = new modelClass(invocation.instance);","    return resolveBack( ); ","}"," ","proto.resolveArguments = function resolveArguments(invocation, resolveArgBack){","    logger.debug(\"STEP 300: pipline.resolveArguments\");         ","    //async(resolveArgBack)(false, invocation.args);","    if(invocation.arguments !== undefined){","        logger.debug(\"Skipping default: resolveArguments\");","        return resolveArgBack();","    }","    invocation.arguments = invocation.args;","    resolveArgBack ();","}        ","","proto.invoke = function invoke(invocation , invokeBack){","    //logger.debug(\"STEP 400: pipline.invoke\");         ","    if(invocation.results !== undefined){","        logger.debug(\"Skipping default: invoke\");","        return invokeBack();","    }","    var method =  invocation.method;  ","    var seqnum = invocation.seqnumber;","    var target = invocation.target;","    var args = invocation.arguments;","    ","    var useCallback  = false;","    ","    function callbackHandler(err, result){","        /** converting to Q promise */","        logger.trace(\"In invoke callback handler #\"+seqnum, err);","        if(err){","            logger.debug(\"Method invocation returned error:\", err);","            //return deferred.reject(err);","            err = err instanceof Error? err: new Error(err);","            return invokeBack( err);","        }","        logger.trace(\"Method invocation result:\", result)","        invocation.result = result;","        invokeBack();","    }","    if( invocation.method == 'save' && args.indexOf(\"$callback\")<0  ){","        args.push('$callback'); // hack for now","    }","    ","    useCallback =  injectDependencies(target[method], args,  callbackHandler);","    logger.debug(\"invoking method \",  method, \"arguments\", args );","    ","    if(!target[method]) return invokeBack(new Error('Method '+ method+\" is not defined on module \"+ invocation.clazz));","    var ret = target[method].apply(target,  args);","    ","    logger.trace(\"invoking result\", ret);","    if(ret instanceof Error) return callbackHandler(ret);","    ","    if(Q.isPromise(ret) || (ret && typeof(ret.done) == 'function')){","        ret.done(function(result){","            callbackHandler(false, result);","        }, function(err){","            callbackHandler(err);","        }); ","    }","    else if(!useCallback || ret !== undefined) {","        /** if method returns data directly or returned undefined */","        return callbackHandler(false, ret); ","    }","}; /**  end invoke */","","","proto.redact = function redact(invocation, redactBack){","    logger.debug(\"STEP 500: pipline.redact\");","    if(invocation.redacted !== undefined){","        logger.debug(\"Skipping default: redact\");","        return redactBack();","    }","    invocation.redacted = invocation.result;","    redactBack();","} ","","proto.pack = function pack(invocation,  packBack){","    logger.debug(\"STEP 600: pipline.pack\");","    if(invocation.packed !== undefined){","        logger.debug(\"Skipping default: pack\");","        return packBack();","    }","    ","    var target = invocation.target;","    var redacted = invocation.redacted;","    var valueType = getValueType(redacted);  /** model, models, object, string*/","    var retdata = { success:true, ","                    exception:null, ","                    retval:redacted,","                    datatype: valueType, ","                    seqnumber:invocation.seqnumber ","    };","    if( !invocation.static && (! _.isEqual(target.toJSON(), invocation.target))) ","    {","        /** return the instance data if it has changed */                        ","        retdata.instance = target.toJSON();","    }","    invocation.packed = retdata;","    packBack();    ","}","","proto.formatError = function formatError(invocation, formatBack){","    if(invocation.packed) return formatBack();","    var ex = invocation.exception;","    ex.invocation = invocation.clazz +\".\"+ invocation.method;","    ex.seqnumber = invocation.seqnumber;","    invocation.packed = {","         success:false,","         exception:ex,","         seqnumber: invocation.seqnumber","    }","    formatBack();","}","function getValueType(obj){","    if(!obj || typeof(obj) == 'string') return 'string';","    return 'object';","}","//hookIt('authorize', proto.authorize);","","function injectDependencies(func, args, callback ){","    ","    var declaredArguments = toolbox.parseDeclaredArguments(func);","    declaredArguments = declaredArguments.replace(/\\s+/g, \"\").split(\",\");","    logger.trace(\"injectDependencies() declaredArguments: \", declaredArguments, \"provided args:\", args);","    var useCallback = false;","    var len = args.length > declaredArguments.length? args.length:declaredArguments.length;","    for(var i=0;i< len ;i++){ // this is problematic: functions may be wrapped and lost the arguments data","        /** if client did not provide enough number of arguments, we fill it with null*/","        if(typeof( args[i]) == 'undefined')","            args[i] = undefined;","        else if(args[i] === \"$callback\"){","            useCallback = true;    ","            args[i] = callback;        ","        }","        switch(declaredArguments[i]){","            case '$callback':","                logger.debug(\"Injecting callback handler\");","                args[i] = callback;","                useCallback = true;","                break;","             case '$context':","                logger.debug(\"Injecting angoose context\");","                args[i] = angoose().getContext();","                break;","             default:","                break; ","        } ","    } ","    return useCallback;","}","","function angoose(){","    return require(\"./angoose\");","}","","","/**"," * Main execution method"," * "," * @param invocation Invocation object"," */","Pipeline.execute = function(ctx, invocation, callback){","        ['allowed', 'target', 'arguments','result','redacted'].forEach(function(key){","            delete invocation[key];","        });","    ","        var dmain = domain.create();","        dmain.context = ctx;","        //var excutionStorage = storageFactory.createNamespace(\"angoose\");","        /** here comes the main body of the processing */","        dmain.run(function(){","                var pipeline = new Pipeline();","                var seqnum = invocation.seqnumber;","                var sent = false;","                logger.debug(\"------ BEGIN RMI #\", seqnum, invocation.clazz, invocation.method );","                logger.trace(\"Invocation object: \",invocation);","                //invocation.method = req.params.method;  /** method must be part of the path for routes permission etc */","                ctx.seqnum = seqnum;","                ctx.invocation = invocation;","                 ","                function handleError(err, exName){","                    if(sent){","                        logger.debug(\"Response already sent\")","                        return;  ","                    } ","                    /**@todo: err may cause Circular issue when converting to JSON */","                    var ex = new Exception(err, exName);","                    invocation.exception = ex;","                    ","                    pipeline.formatError(invocation, function(er){","                        logger.debug(\"====== END RMI with Error  #\", seqnum,  ex);","                        callback(invocation.packed);","                        sent  = true;    ","                    });","                }","                dmain.on('error',  function uncaught(ex){","                    logger.error(\"Uncaught error in invocation #\"+seqnum, ex);","                    /**@todo: restart server if too many errors */","                    handleError(  \"Unexpected Server Error\", 'RuntimeError');","                });","                ","                /** setting execution context */","                var sent = false;","                 ","                var modelName = invocation.clazz;","                var seqnum = invocation.seqnumber;","                //excutionStorage.set(\"context\", ctx);","                pipeline.authorize(invocation,   function(err){","                    if(err) return handleError(err);","                    if(! invocation.allowed) return handleError(\"Access Denied\", \"AuthError\");","                    ","                    pipeline.resolveTarget(invocation,   function(err){","                        if(err) return handleError(err);","                        ","                        if(!invocation.target) return handleError(\"Target not resolved.\", \"ModuleNotFoundError\");","                        ","                        pipeline.resolveArguments(invocation,function(err){","                            if(err) return handleError(err);","                            ","                            if(!invocation.arguments) return handleError(\"Arguments not resolved.\");","                            pipeline.invoke(invocation, function(ex){","                                ","                                if(ex) return handleError(ex);","                                pipeline.redact(invocation, function(err){","                                    if(err) return handleError(err);","                                    pipeline.pack(invocation, function(err){","                                        if(err) return handleError(err);","                                        //res.send(200, packedData);","                                        callback(invocation.packed);","                                        sent = true;    ","                                        logger.debug(\"====== END RMI Succeeded #\", seqnum);","                                        if(Array.isArray(invocation.packed && invocation.packed.retval) && invocation.packed.retval.length>0){","                                            logger.trace(\"Response is an array with length:\",  invocation.packed.retval.length, \"First element:\",invocation.packed.retval[0] );    ","                                        }","                                        else logger.trace(\"Response data is \", invocation.packed);","                                        ","                                    });    ","                                });","                            });    ","                        });","                    });","                });","                /** catch the strayed handling, returns error in 5 seconds if response not sent */","               var tmout = setTimeout(function(){","                   if(sent) return;","                   ","                   var msg = \"Timeout occurred when processing call \"+invocation.clazz +\".\" + invocation.method;","                   logger.error(msg,  seqnum);","                   handleError(msg);","                   //res.send(200, packError( {message: msg, value: msg, code:500 }, invocation.seqnumber ));","               }, angoose().config().request_timeout || 5000);","               tmout.unref();","               ","        });/** end context closure */ ","}","      ","Pipeline.accept = function accept(req, res){","    var invocation = decode(req.body);","    var ctx = new  Context({request:req, response:res} )","    Pipeline.execute(ctx, invocation, function(data){","        // traverse(data).forEach(function(){","            // //if(this.circular) this.remove(); // circular ref will cause JSON.stringify fail","        // });","        res.send(200, data);","    });","}","","","Pipeline.hookables = 'authorize,resolveTarget,resolveArguments,invoke,redact,pack,formatError'.split(\",\");","toolbox.addHookPoints(Pipeline);","module.exports =  Pipeline;","","","","","function decode(obj){","    /** due to Angular HTTP library's stupidity, keys starting with $ are ignored. hence _mongo_$ to work around this*/","    if(!obj || typeof obj != 'object') return obj;","    if(Array.isArray(obj)){","        for(var i=0;i<obj.length;i++){","            obj[i] = decode(obj[i]);","        };","    }","    else{","        Object.keys(obj).forEach(function(key){","            var val = decode(obj[key]);","            if(key.indexOf('_mongo_$')==0){","                delete obj[key];","                key = key.substring(7)","            }","            obj[key] = val;","        })","    }","    return obj;","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"11":1,"13":1,"14":5,"16":1,"18":1,"19":0,"21":0,"23":0,"24":0,"25":0,"29":1,"30":0,"33":0,"34":0,"35":0,"38":0,"39":0,"41":0,"42":0,"43":0,"44":0,"47":0,"48":0,"51":1,"52":0,"54":0,"55":0,"56":0,"58":0,"59":0,"62":1,"64":0,"65":0,"66":0,"68":0,"69":0,"70":0,"71":0,"73":0,"75":1,"77":0,"78":0,"79":0,"81":0,"82":0,"84":0,"85":0,"86":0,"88":0,"89":0,"92":0,"93":0,"95":0,"96":0,"98":0,"99":0,"101":0,"102":0,"103":0,"105":0,"108":0,"110":0,"115":1,"116":0,"117":0,"118":0,"119":0,"121":0,"122":0,"125":1,"126":0,"127":0,"128":0,"129":0,"132":0,"133":0,"134":0,"135":0,"141":0,"144":0,"146":0,"147":0,"150":1,"151":0,"152":0,"153":0,"154":0,"155":0,"160":0,"162":1,"163":0,"164":0,"168":1,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"177":0,"178":0,"179":0,"180":0,"181":0,"183":0,"185":0,"186":0,"187":0,"188":0,"190":0,"191":0,"192":0,"194":0,"197":0,"200":1,"201":0,"210":1,"211":0,"212":0,"215":0,"216":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"226":0,"227":0,"229":1,"230":0,"231":0,"232":0,"235":0,"236":0,"238":0,"239":0,"240":0,"241":0,"244":0,"245":0,"247":0,"251":0,"253":0,"254":0,"256":0,"257":0,"258":0,"260":0,"261":0,"263":0,"265":0,"266":0,"268":0,"269":0,"271":0,"272":0,"273":0,"274":0,"275":0,"277":0,"278":0,"279":0,"280":0,"281":0,"283":0,"292":0,"293":0,"295":0,"296":0,"297":0,"300":0,"305":1,"306":0,"307":0,"308":0,"312":0,"317":1,"318":1,"319":1,"324":1,"326":0,"327":0,"328":0,"329":0,"333":0,"334":0,"335":0,"336":0,"337":0,"339":0,"342":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/util/toolbox.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/util/toolbox.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":0,"24":0,"25":0,"26":0,"27":1,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":1,"47":1,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":1,"68":2,"69":2,"70":2,"71":2,"72":2,"73":2,"74":2,"75":2,"76":2,"77":2,"78":2,"79":2,"80":2,"81":2,"82":2,"83":2,"84":1,"85":4,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":1,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":1,"102":1,"103":1,"104":1,"105":5,"106":1,"107":7,"108":1,"109":1,"110":0,"111":0,"112":0,"113":1,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":1,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":1,"131":1,"132":0,"133":0,"134":0,"135":0,"136":0,"137":1,"138":1,"139":0,"140":1,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":1,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":1,"165":5,"166":5,"167":5,"168":5,"169":5,"170":5,"171":18,"172":18,"173":13,"174":5,"175":1,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[1,1],"32":[0,0],"33":[0,0],"34":[0,0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0,0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0,0,0],"55":[5,5],"56":[5,0],"57":[13,5],"58":[0,0,0],"59":[0,0],"60":[0,0],"61":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":2,"15":4,"16":0,"17":0,"18":0,"19":1,"20":7,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":5,"31":18,"32":0},"fnMap":{"1":{"name":"cammelcase","line":9,"loc":{"start":{"line":9,"column":20},"end":{"line":9,"column":52}}},"2":{"name":"decamelcase","line":23,"loc":{"start":{"line":23,"column":22},"end":{"line":23,"column":48}}},"3":{"name":"async","line":41,"loc":{"start":{"line":41,"column":16},"end":{"line":41,"column":41}}},"4":{"name":"(anonymous_4)","line":42,"loc":{"start":{"line":42,"column":11},"end":{"line":42,"column":21}}},"5":{"name":"(anonymous_5)","line":44,"loc":{"start":{"line":44,"column":25},"end":{"line":44,"column":35}}},"6":{"name":"(anonymous_6)","line":51,"loc":{"start":{"line":51,"column":17},"end":{"line":51,"column":37}}},"7":{"name":"(anonymous_7)","line":63,"loc":{"start":{"line":63,"column":17},"end":{"line":63,"column":41}}},"8":{"name":"(anonymous_8)","line":77,"loc":{"start":{"line":77,"column":17},"end":{"line":77,"column":27}}},"9":{"name":"matroshka","line":80,"loc":{"start":{"line":80,"column":4},"end":{"line":80,"column":27}}},"10":{"name":"(anonymous_10)","line":82,"loc":{"start":{"line":82,"column":46},"end":{"line":82,"column":62}}},"11":{"name":"patchQueue","line":88,"loc":{"start":{"line":88,"column":4},"end":{"line":88,"column":26}}},"12":{"name":"wrapperFunc","line":91,"loc":{"start":{"line":91,"column":6},"end":{"line":91,"column":33}}},"13":{"name":"nsThen","line":92,"loc":{"start":{"line":92,"column":15},"end":{"line":92,"column":64}}},"14":{"name":"(anonymous_14)","line":107,"loc":{"start":{"line":107,"column":29},"end":{"line":107,"column":39}}},"15":{"name":"bindMongoCallback","line":139,"loc":{"start":{"line":139,"column":1},"end":{"line":139,"column":31}}},"16":{"name":"(anonymous_16)","line":140,"loc":{"start":{"line":140,"column":9},"end":{"line":140,"column":41}}},"17":{"name":"(anonymous_17)","line":154,"loc":{"start":{"line":154,"column":23},"end":{"line":154,"column":42}}},"18":{"name":"(anonymous_18)","line":155,"loc":{"start":{"line":155,"column":11},"end":{"line":155,"column":21}}},"19":{"name":"(anonymous_19)","line":165,"loc":{"start":{"line":165,"column":24},"end":{"line":165,"column":50}}},"20":{"name":"(anonymous_20)","line":170,"loc":{"start":{"line":170,"column":22},"end":{"line":170,"column":40}}},"21":{"name":"(anonymous_21)","line":176,"loc":{"start":{"line":176,"column":27},"end":{"line":176,"column":53}}},"22":{"name":"(anonymous_22)","line":178,"loc":{"start":{"line":178,"column":22},"end":{"line":178,"column":40}}},"23":{"name":"removePost","line":184,"loc":{"start":{"line":184,"column":0},"end":{"line":184,"column":38}}},"24":{"name":"(anonymous_24)","line":192,"loc":{"start":{"line":192,"column":40},"end":{"line":192,"column":58}}},"25":{"name":"(anonymous_25)","line":208,"loc":{"start":{"line":208,"column":33},"end":{"line":208,"column":51}}},"26":{"name":"(anonymous_26)","line":218,"loc":{"start":{"line":218,"column":17},"end":{"line":218,"column":35}}},"27":{"name":"(anonymous_27)","line":227,"loc":{"start":{"line":227,"column":26},"end":{"line":227,"column":46}}},"28":{"name":"funcStringifier","line":230,"loc":{"start":{"line":230,"column":4},"end":{"line":230,"column":41}}},"29":{"name":"getReference","line":249,"loc":{"start":{"line":249,"column":0},"end":{"line":249,"column":33}}},"30":{"name":"(anonymous_30)","line":277,"loc":{"start":{"line":277,"column":16},"end":{"line":277,"column":34}}},"31":{"name":"(anonymous_31)","line":283,"loc":{"start":{"line":283,"column":27},"end":{"line":283,"column":41}}},"32":{"name":"(anonymous_32)","line":292,"loc":{"start":{"line":292,"column":30},"end":{"line":292,"column":55}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"2":{"start":{"line":9,"column":0},"end":{"line":21,"column":1}},"3":{"start":{"line":11,"column":4},"end":{"line":11,"column":26}},"4":{"start":{"line":11,"column":14},"end":{"line":11,"column":26}},"5":{"start":{"line":12,"column":4},"end":{"line":12,"column":32}},"6":{"start":{"line":13,"column":4},"end":{"line":13,"column":14}},"7":{"start":{"line":14,"column":4},"end":{"line":19,"column":5}},"8":{"start":{"line":15,"column":8},"end":{"line":18,"column":9}},"9":{"start":{"line":16,"column":12},"end":{"line":16,"column":49}},"10":{"start":{"line":17,"column":12},"end":{"line":17,"column":81}},"11":{"start":{"line":20,"column":4},"end":{"line":20,"column":16}},"12":{"start":{"line":23,"column":0},"end":{"line":33,"column":1}},"13":{"start":{"line":25,"column":4},"end":{"line":25,"column":26}},"14":{"start":{"line":25,"column":14},"end":{"line":25,"column":26}},"15":{"start":{"line":26,"column":4},"end":{"line":26,"column":17}},"16":{"start":{"line":27,"column":4},"end":{"line":31,"column":5}},"17":{"start":{"line":28,"column":8},"end":{"line":28,"column":31}},"18":{"start":{"line":29,"column":8},"end":{"line":29,"column":57}},"19":{"start":{"line":29,"column":49},"end":{"line":29,"column":57}},"20":{"start":{"line":30,"column":8},"end":{"line":30,"column":17}},"21":{"start":{"line":32,"column":4},"end":{"line":32,"column":29}},"22":{"start":{"line":41,"column":0},"end":{"line":48,"column":2}},"23":{"start":{"line":42,"column":4},"end":{"line":47,"column":5}},"24":{"start":{"line":43,"column":8},"end":{"line":43,"column":28}},"25":{"start":{"line":44,"column":8},"end":{"line":46,"column":10}},"26":{"start":{"line":45,"column":12},"end":{"line":45,"column":33}},"27":{"start":{"line":51,"column":0},"end":{"line":61,"column":1}},"28":{"start":{"line":52,"column":4},"end":{"line":52,"column":39}},"29":{"start":{"line":52,"column":22},"end":{"line":52,"column":39}},"30":{"start":{"line":53,"column":5},"end":{"line":53,"column":36}},"31":{"start":{"line":54,"column":6},"end":{"line":54,"column":20}},"32":{"start":{"line":55,"column":6},"end":{"line":59,"column":7}},"33":{"start":{"line":56,"column":8},"end":{"line":58,"column":27}},"34":{"start":{"line":60,"column":6},"end":{"line":60,"column":17}},"35":{"start":{"line":63,"column":0},"end":{"line":76,"column":1}},"36":{"start":{"line":64,"column":4},"end":{"line":64,"column":30}},"37":{"start":{"line":64,"column":23},"end":{"line":64,"column":30}},"38":{"start":{"line":65,"column":5},"end":{"line":65,"column":36}},"39":{"start":{"line":66,"column":6},"end":{"line":66,"column":20}},"40":{"start":{"line":67,"column":6},"end":{"line":75,"column":7}},"41":{"start":{"line":68,"column":10},"end":{"line":72,"column":11}},"42":{"start":{"line":70,"column":14},"end":{"line":70,"column":36}},"43":{"start":{"line":71,"column":14},"end":{"line":71,"column":21}},"44":{"start":{"line":73,"column":10},"end":{"line":73,"column":48}},"45":{"start":{"line":74,"column":10},"end":{"line":74,"column":37}},"46":{"start":{"line":77,"column":0},"end":{"line":105,"column":2}},"47":{"start":{"line":80,"column":4},"end":{"line":87,"column":5}},"48":{"start":{"line":81,"column":6},"end":{"line":81,"column":24}},"49":{"start":{"line":82,"column":6},"end":{"line":84,"column":9}},"50":{"start":{"line":83,"column":8},"end":{"line":83,"column":59}},"51":{"start":{"line":86,"column":6},"end":{"line":86,"column":22}},"52":{"start":{"line":88,"column":4},"end":{"line":101,"column":5}},"53":{"start":{"line":89,"column":6},"end":{"line":89,"column":27}},"54":{"start":{"line":90,"column":6},"end":{"line":90,"column":64}},"55":{"start":{"line":91,"column":6},"end":{"line":98,"column":7}},"56":{"start":{"line":92,"column":8},"end":{"line":97,"column":10}},"57":{"start":{"line":93,"column":10},"end":{"line":93,"column":80}},"58":{"start":{"line":93,"column":47},"end":{"line":93,"column":80}},"59":{"start":{"line":94,"column":10},"end":{"line":94,"column":77}},"60":{"start":{"line":94,"column":46},"end":{"line":94,"column":77}},"61":{"start":{"line":95,"column":10},"end":{"line":95,"column":83}},"62":{"start":{"line":95,"column":48},"end":{"line":95,"column":83}},"63":{"start":{"line":96,"column":10},"end":{"line":96,"column":66}},"64":{"start":{"line":99,"column":6},"end":{"line":99,"column":58}},"65":{"start":{"line":100,"column":6},"end":{"line":100,"column":58}},"66":{"start":{"line":103,"column":4},"end":{"line":103,"column":17}},"67":{"start":{"line":107,"column":0},"end":{"line":152,"column":2}},"68":{"start":{"line":108,"column":1},"end":{"line":108,"column":19}},"69":{"start":{"line":110,"column":1},"end":{"line":114,"column":5}},"70":{"start":{"line":111,"column":8},"end":{"line":111,"column":114}},"71":{"start":{"line":115,"column":1},"end":{"line":119,"column":2}},"72":{"start":{"line":116,"column":2},"end":{"line":116,"column":78}},"73":{"start":{"line":120,"column":1},"end":{"line":124,"column":5}},"74":{"start":{"line":121,"column":8},"end":{"line":121,"column":62}},"75":{"start":{"line":125,"column":4},"end":{"line":129,"column":5}},"76":{"start":{"line":126,"column":8},"end":{"line":126,"column":65}},"77":{"start":{"line":131,"column":1},"end":{"line":137,"column":2}},"78":{"start":{"line":132,"column":2},"end":{"line":132,"column":28}},"79":{"start":{"line":133,"column":2},"end":{"line":133,"column":103}},"80":{"start":{"line":134,"column":2},"end":{"line":134,"column":101}},"81":{"start":{"line":135,"column":2},"end":{"line":135,"column":85}},"82":{"start":{"line":136,"column":2},"end":{"line":136,"column":85}},"83":{"start":{"line":138,"column":1},"end":{"line":138,"column":32}},"84":{"start":{"line":139,"column":1},"end":{"line":150,"column":2}},"85":{"start":{"line":140,"column":2},"end":{"line":149,"column":4}},"86":{"start":{"line":141,"column":3},"end":{"line":147,"column":4}},"87":{"start":{"line":142,"column":4},"end":{"line":143,"column":95}},"88":{"start":{"line":142,"column":39},"end":{"line":142,"column":79}},"89":{"start":{"line":143,"column":9},"end":{"line":143,"column":95}},"90":{"start":{"line":143,"column":57},"end":{"line":143,"column":95}},"91":{"start":{"line":148,"column":3},"end":{"line":148,"column":42}},"92":{"start":{"line":154,"column":0},"end":{"line":164,"column":1}},"93":{"start":{"line":155,"column":4},"end":{"line":163,"column":5}},"94":{"start":{"line":156,"column":8},"end":{"line":156,"column":76}},"95":{"start":{"line":157,"column":8},"end":{"line":157,"column":84}},"96":{"start":{"line":157,"column":42},"end":{"line":157,"column":84}},"97":{"start":{"line":158,"column":8},"end":{"line":158,"column":38}},"98":{"start":{"line":159,"column":8},"end":{"line":161,"column":9}},"99":{"start":{"line":160,"column":12},"end":{"line":160,"column":72}},"100":{"start":{"line":162,"column":8},"end":{"line":162,"column":50}},"101":{"start":{"line":165,"column":0},"end":{"line":174,"column":2}},"102":{"start":{"line":166,"column":4},"end":{"line":166,"column":33}},"103":{"start":{"line":167,"column":4},"end":{"line":167,"column":45}},"104":{"start":{"line":168,"column":4},"end":{"line":168,"column":48}},"105":{"start":{"line":168,"column":27},"end":{"line":168,"column":47}},"106":{"start":{"line":170,"column":4},"end":{"line":172,"column":7}},"107":{"start":{"line":171,"column":8},"end":{"line":171,"column":56}},"108":{"start":{"line":173,"column":4},"end":{"line":173,"column":34}},"109":{"start":{"line":176,"column":0},"end":{"line":181,"column":2}},"110":{"start":{"line":177,"column":4},"end":{"line":177,"column":45}},"111":{"start":{"line":178,"column":4},"end":{"line":180,"column":7}},"112":{"start":{"line":179,"column":8},"end":{"line":179,"column":55}},"113":{"start":{"line":184,"column":0},"end":{"line":197,"column":1}},"114":{"start":{"line":185,"column":4},"end":{"line":186,"column":53}},"115":{"start":{"line":187,"column":4},"end":{"line":187,"column":34}},"116":{"start":{"line":187,"column":22},"end":{"line":187,"column":34}},"117":{"start":{"line":188,"column":4},"end":{"line":195,"column":5}},"118":{"start":{"line":190,"column":6},"end":{"line":190,"column":29}},"119":{"start":{"line":192,"column":6},"end":{"line":194,"column":9}},"120":{"start":{"line":193,"column":8},"end":{"line":193,"column":37}},"121":{"start":{"line":196,"column":4},"end":{"line":196,"column":16}},"122":{"start":{"line":208,"column":0},"end":{"line":216,"column":1}},"123":{"start":{"line":209,"column":4},"end":{"line":209,"column":70}},"124":{"start":{"line":209,"column":39},"end":{"line":209,"column":70}},"125":{"start":{"line":210,"column":4},"end":{"line":214,"column":5}},"126":{"start":{"line":211,"column":8},"end":{"line":211,"column":50}},"127":{"start":{"line":212,"column":8},"end":{"line":212,"column":44}},"128":{"start":{"line":213,"column":8},"end":{"line":213,"column":54}},"129":{"start":{"line":215,"column":4},"end":{"line":215,"column":14}},"130":{"start":{"line":217,"column":0},"end":{"line":217,"column":65}},"131":{"start":{"line":218,"column":0},"end":{"line":223,"column":1}},"132":{"start":{"line":219,"column":4},"end":{"line":219,"column":79}},"133":{"start":{"line":220,"column":4},"end":{"line":220,"column":57}},"134":{"start":{"line":220,"column":40},"end":{"line":220,"column":57}},"135":{"start":{"line":221,"column":4},"end":{"line":221,"column":53}},"136":{"start":{"line":222,"column":4},"end":{"line":222,"column":41}},"137":{"start":{"line":225,"column":0},"end":{"line":225,"column":36}},"138":{"start":{"line":227,"column":0},"end":{"line":247,"column":1}},"139":{"start":{"line":229,"column":4},"end":{"line":229,"column":19}},"140":{"start":{"line":230,"column":4},"end":{"line":245,"column":5}},"141":{"start":{"line":231,"column":8},"end":{"line":231,"column":54}},"142":{"start":{"line":231,"column":41},"end":{"line":231,"column":54}},"143":{"start":{"line":232,"column":8},"end":{"line":232,"column":37}},"144":{"start":{"line":233,"column":8},"end":{"line":233,"column":44}},"145":{"start":{"line":234,"column":8},"end":{"line":234,"column":29}},"146":{"start":{"line":234,"column":22},"end":{"line":234,"column":29}},"147":{"start":{"line":235,"column":8},"end":{"line":235,"column":99}},"148":{"start":{"line":235,"column":41},"end":{"line":235,"column":99}},"149":{"start":{"line":237,"column":8},"end":{"line":244,"column":9}},"150":{"start":{"line":239,"column":11},"end":{"line":239,"column":23}},"151":{"start":{"line":243,"column":12},"end":{"line":243,"column":31}},"152":{"start":{"line":246,"column":4},"end":{"line":246,"column":64}},"153":{"start":{"line":249,"column":0},"end":{"line":270,"column":1}},"154":{"start":{"line":250,"column":4},"end":{"line":250,"column":34}},"155":{"start":{"line":253,"column":4},"end":{"line":254,"column":32}},"156":{"start":{"line":254,"column":8},"end":{"line":254,"column":32}},"157":{"start":{"line":256,"column":4},"end":{"line":256,"column":70}},"158":{"start":{"line":256,"column":54},"end":{"line":256,"column":70}},"159":{"start":{"line":259,"column":4},"end":{"line":262,"column":5}},"160":{"start":{"line":261,"column":7},"end":{"line":261,"column":37}},"161":{"start":{"line":264,"column":4},"end":{"line":267,"column":5}},"162":{"start":{"line":266,"column":8},"end":{"line":266,"column":45}},"163":{"start":{"line":269,"column":4},"end":{"line":269,"column":16}},"164":{"start":{"line":277,"column":0},"end":{"line":289,"column":1}},"165":{"start":{"line":278,"column":4},"end":{"line":278,"column":20}},"166":{"start":{"line":279,"column":4},"end":{"line":279,"column":20}},"167":{"start":{"line":280,"column":4},"end":{"line":280,"column":39}},"168":{"start":{"line":281,"column":4},"end":{"line":281,"column":31}},"169":{"start":{"line":282,"column":4},"end":{"line":282,"column":36}},"170":{"start":{"line":283,"column":4},"end":{"line":287,"column":7}},"171":{"start":{"line":284,"column":8},"end":{"line":284,"column":35}},"172":{"start":{"line":285,"column":8},"end":{"line":286,"column":39}},"173":{"start":{"line":286,"column":12},"end":{"line":286,"column":39}},"174":{"start":{"line":288,"column":4},"end":{"line":288,"column":15}},"175":{"start":{"line":292,"column":0},"end":{"line":301,"column":2}},"176":{"start":{"line":293,"column":4},"end":{"line":293,"column":17}},"177":{"start":{"line":294,"column":4},"end":{"line":294,"column":70}},"178":{"start":{"line":295,"column":4},"end":{"line":296,"column":20}},"179":{"start":{"line":296,"column":8},"end":{"line":296,"column":20}},"180":{"start":{"line":297,"column":4},"end":{"line":297,"column":32}},"181":{"start":{"line":298,"column":4},"end":{"line":298,"column":53}},"182":{"start":{"line":299,"column":4},"end":{"line":299,"column":52}},"183":{"start":{"line":300,"column":4},"end":{"line":300,"column":15}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":4},"end":{"line":11,"column":4}},{"start":{"line":11,"column":4},"end":{"line":11,"column":4}}]},"2":{"line":15,"type":"if","locations":[{"start":{"line":15,"column":8},"end":{"line":15,"column":8}},{"start":{"line":15,"column":8},"end":{"line":15,"column":8}}]},"3":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":11},"end":{"line":15,"column":19}},{"start":{"line":15,"column":23},"end":{"line":15,"column":40}}]},"4":{"line":16,"type":"cond-expr","locations":[{"start":{"line":16,"column":35},"end":{"line":16,"column":43}},{"start":{"line":16,"column":44},"end":{"line":16,"column":48}}]},"5":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":19},"end":{"line":16,"column":23}},{"start":{"line":16,"column":27},"end":{"line":16,"column":32}}]},"6":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":4},"end":{"line":25,"column":4}},{"start":{"line":25,"column":4},"end":{"line":25,"column":4}}]},"7":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":8},"end":{"line":29,"column":8}},{"start":{"line":29,"column":8},"end":{"line":29,"column":8}}]},"8":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":11},"end":{"line":29,"column":31}},{"start":{"line":29,"column":35},"end":{"line":29,"column":47}}]},"9":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":4},"end":{"line":52,"column":4}},{"start":{"line":52,"column":4},"end":{"line":52,"column":4}}]},"10":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":7},"end":{"line":52,"column":12}},{"start":{"line":52,"column":16},"end":{"line":52,"column":20}}]},"11":{"line":56,"type":"cond-expr","locations":[{"start":{"line":57,"column":12},"end":{"line":57,"column":21}},{"start":{"line":58,"column":12},"end":{"line":58,"column":26}}]},"12":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":14},"end":{"line":56,"column":31}},{"start":{"line":56,"column":35},"end":{"line":56,"column":47}}]},"13":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":4},"end":{"line":64,"column":4}},{"start":{"line":64,"column":4},"end":{"line":64,"column":4}}]},"14":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":7},"end":{"line":64,"column":12}},{"start":{"line":64,"column":16},"end":{"line":64,"column":20}}]},"15":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":10},"end":{"line":68,"column":10}},{"start":{"line":68,"column":10},"end":{"line":68,"column":10}}]},"16":{"line":73,"type":"binary-expr","locations":[{"start":{"line":73,"column":27},"end":{"line":73,"column":41}},{"start":{"line":73,"column":45},"end":{"line":73,"column":47}}]},"17":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":16},"end":{"line":74,"column":30}},{"start":{"line":74,"column":34},"end":{"line":74,"column":36}}]},"18":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":18},"end":{"line":90,"column":19}},{"start":{"line":90,"column":23},"end":{"line":90,"column":36}},{"start":{"line":90,"column":40},"end":{"line":90,"column":63}}]},"19":{"line":93,"type":"if","locations":[{"start":{"line":93,"column":10},"end":{"line":93,"column":10}},{"start":{"line":93,"column":10},"end":{"line":93,"column":10}}]},"20":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":10},"end":{"line":94,"column":10}},{"start":{"line":94,"column":10},"end":{"line":94,"column":10}}]},"21":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":10},"end":{"line":95,"column":10}},{"start":{"line":95,"column":10},"end":{"line":95,"column":10}}]},"22":{"line":141,"type":"if","locations":[{"start":{"line":141,"column":3},"end":{"line":141,"column":3}},{"start":{"line":141,"column":3},"end":{"line":141,"column":3}}]},"23":{"line":142,"type":"if","locations":[{"start":{"line":142,"column":4},"end":{"line":142,"column":4}},{"start":{"line":142,"column":4},"end":{"line":142,"column":4}}]},"24":{"line":143,"type":"if","locations":[{"start":{"line":143,"column":9},"end":{"line":143,"column":9}},{"start":{"line":143,"column":9},"end":{"line":143,"column":9}}]},"25":{"line":143,"type":"binary-expr","locations":[{"start":{"line":143,"column":12},"end":{"line":143,"column":21}},{"start":{"line":143,"column":25},"end":{"line":143,"column":55}}]},"26":{"line":156,"type":"cond-expr","locations":[{"start":{"line":156,"column":40},"end":{"line":156,"column":69}},{"start":{"line":156,"column":71},"end":{"line":156,"column":75}}]},"27":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":8},"end":{"line":157,"column":8}},{"start":{"line":157,"column":8},"end":{"line":157,"column":8}}]},"28":{"line":157,"type":"binary-expr","locations":[{"start":{"line":157,"column":58},"end":{"line":157,"column":63}},{"start":{"line":157,"column":67},"end":{"line":157,"column":71}}]},"29":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":8},"end":{"line":159,"column":8}},{"start":{"line":159,"column":8},"end":{"line":159,"column":8}}]},"30":{"line":162,"type":"binary-expr","locations":[{"start":{"line":162,"column":24},"end":{"line":162,"column":29}},{"start":{"line":162,"column":33},"end":{"line":162,"column":37}}]},"31":{"line":167,"type":"binary-expr","locations":[{"start":{"line":167,"column":16},"end":{"line":167,"column":25}},{"start":{"line":167,"column":29},"end":{"line":167,"column":44}}]},"32":{"line":177,"type":"binary-expr","locations":[{"start":{"line":177,"column":16},"end":{"line":177,"column":25}},{"start":{"line":177,"column":29},"end":{"line":177,"column":44}}]},"33":{"line":185,"type":"binary-expr","locations":[{"start":{"line":185,"column":16},"end":{"line":185,"column":30}},{"start":{"line":185,"column":34},"end":{"line":185,"column":38}}]},"34":{"line":186,"type":"binary-expr","locations":[{"start":{"line":186,"column":16},"end":{"line":186,"column":28}},{"start":{"line":186,"column":33},"end":{"line":186,"column":45}},{"start":{"line":186,"column":49},"end":{"line":186,"column":51}}]},"35":{"line":187,"type":"if","locations":[{"start":{"line":187,"column":4},"end":{"line":187,"column":4}},{"start":{"line":187,"column":4},"end":{"line":187,"column":4}}]},"36":{"line":188,"type":"if","locations":[{"start":{"line":188,"column":4},"end":{"line":188,"column":4}},{"start":{"line":188,"column":4},"end":{"line":188,"column":4}}]},"37":{"line":209,"type":"if","locations":[{"start":{"line":209,"column":4},"end":{"line":209,"column":4}},{"start":{"line":209,"column":4},"end":{"line":209,"column":4}}]},"38":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":4},"end":{"line":210,"column":4}},{"start":{"line":210,"column":4},"end":{"line":210,"column":4}}]},"39":{"line":210,"type":"binary-expr","locations":[{"start":{"line":210,"column":7},"end":{"line":210,"column":15}},{"start":{"line":210,"column":19},"end":{"line":210,"column":47}},{"start":{"line":210,"column":52},"end":{"line":210,"column":86}}]},"40":{"line":219,"type":"cond-expr","locations":[{"start":{"line":219,"column":48},"end":{"line":219,"column":67}},{"start":{"line":219,"column":70},"end":{"line":219,"column":78}}]},"41":{"line":220,"type":"if","locations":[{"start":{"line":220,"column":4},"end":{"line":220,"column":4}},{"start":{"line":220,"column":4},"end":{"line":220,"column":4}}]},"42":{"line":222,"type":"cond-expr","locations":[{"start":{"line":222,"column":20},"end":{"line":222,"column":30}},{"start":{"line":222,"column":32},"end":{"line":222,"column":40}}]},"43":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":8},"end":{"line":231,"column":8}},{"start":{"line":231,"column":8},"end":{"line":231,"column":8}}]},"44":{"line":234,"type":"if","locations":[{"start":{"line":234,"column":8},"end":{"line":234,"column":8}},{"start":{"line":234,"column":8},"end":{"line":234,"column":8}}]},"45":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":8},"end":{"line":235,"column":8}},{"start":{"line":235,"column":8},"end":{"line":235,"column":8}}]},"46":{"line":237,"type":"if","locations":[{"start":{"line":237,"column":8},"end":{"line":237,"column":8}},{"start":{"line":237,"column":8},"end":{"line":237,"column":8}}]},"47":{"line":253,"type":"if","locations":[{"start":{"line":253,"column":4},"end":{"line":253,"column":4}},{"start":{"line":253,"column":4},"end":{"line":253,"column":4}}]},"48":{"line":253,"type":"binary-expr","locations":[{"start":{"line":253,"column":8},"end":{"line":253,"column":32}},{"start":{"line":253,"column":36},"end":{"line":253,"column":54}},{"start":{"line":253,"column":60},"end":{"line":253,"column":72}},{"start":{"line":253,"column":76},"end":{"line":253,"column":92}}]},"49":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":4},"end":{"line":256,"column":4}},{"start":{"line":256,"column":4},"end":{"line":256,"column":4}}]},"50":{"line":256,"type":"binary-expr","locations":[{"start":{"line":256,"column":7},"end":{"line":256,"column":40}},{"start":{"line":256,"column":44},"end":{"line":256,"column":52}}]},"51":{"line":259,"type":"if","locations":[{"start":{"line":259,"column":4},"end":{"line":259,"column":4}},{"start":{"line":259,"column":4},"end":{"line":259,"column":4}}]},"52":{"line":259,"type":"binary-expr","locations":[{"start":{"line":259,"column":7},"end":{"line":259,"column":29}},{"start":{"line":259,"column":33},"end":{"line":259,"column":67}}]},"53":{"line":264,"type":"if","locations":[{"start":{"line":264,"column":4},"end":{"line":264,"column":4}},{"start":{"line":264,"column":4},"end":{"line":264,"column":4}}]},"54":{"line":264,"type":"binary-expr","locations":[{"start":{"line":264,"column":7},"end":{"line":264,"column":32}},{"start":{"line":264,"column":36},"end":{"line":264,"column":53}},{"start":{"line":265,"column":12},"end":{"line":265,"column":53}},{"start":{"line":265,"column":57},"end":{"line":265,"column":86}}]},"55":{"line":278,"type":"binary-expr","locations":[{"start":{"line":278,"column":10},"end":{"line":278,"column":13}},{"start":{"line":278,"column":17},"end":{"line":278,"column":19}}]},"56":{"line":279,"type":"binary-expr","locations":[{"start":{"line":279,"column":10},"end":{"line":279,"column":13}},{"start":{"line":279,"column":17},"end":{"line":279,"column":19}}]},"57":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":8},"end":{"line":285,"column":8}},{"start":{"line":285,"column":8},"end":{"line":285,"column":8}}]},"58":{"line":294,"type":"binary-expr","locations":[{"start":{"line":294,"column":21},"end":{"line":294,"column":31}},{"start":{"line":294,"column":36},"end":{"line":294,"column":49}},{"start":{"line":294,"column":53},"end":{"line":294,"column":68}}]},"59":{"line":295,"type":"if","locations":[{"start":{"line":295,"column":4},"end":{"line":295,"column":4}},{"start":{"line":295,"column":4},"end":{"line":295,"column":4}}]},"60":{"line":298,"type":"binary-expr","locations":[{"start":{"line":298,"column":18},"end":{"line":298,"column":46}},{"start":{"line":298,"column":50},"end":{"line":298,"column":52}}]},"61":{"line":299,"type":"binary-expr","locations":[{"start":{"line":299,"column":18},"end":{"line":299,"column":45}},{"start":{"line":299,"column":49},"end":{"line":299,"column":51}}]}},"code":["// ## Toolbax","// ","// Utility functions","","","var _ = require(\"underscore\");","","","exports.camelcase = function cammelcase(name, space){","    // converting client-user to ClientUser ","    if(!name) return name;","    var parts = name.split(\"-\");","    name = \"\";","    for(var i=0;i< parts.length;i++){","        if(parts[i] && parts[i].length>0){","            name = name && space ? name+\" \":name;","            name+= parts[i].substring(0,1).toUpperCase() + parts[i].substring(1);","        } ","    }","    return name;","}","","exports.decamelcase = function decamelcase(name){","    // convert ClientUser to client-user ","    if(!name) return name;","    var ret = \"\";","    for(var i=0;i<name.length;i++){","        var c = name.charAt(i);","        if(c.toLowerCase() != c && ret.length>0) ret+=\"-\"","        ret += c;","    }","    return ret.toLowerCase();","}",""," "," ","// **async**","//","// Wrap a function so that it is called asynchronously. ","// This is necessary to ensure a call back is always asynchronous.","exports.async = function async(fn, scope){","    return function(){","        var args = arguments","        process.nextTick(function(){","            fn.apply(scope, args)    ","        })","    }","};","","","exports.getter = function (doc, path){","    if(!path || !doc) return undefined;","     var   pieces = path.split('.');","      var obj = doc;","      for (var i = 0, l = pieces.length; i < l; i++) {","        obj = undefined === obj || null === obj","          ? undefined","          : obj[pieces[i]];","      }","      return obj;","}","","exports.setter = function(doc, path, val){","    if(!path || !doc ) return;","     var   pieces = path.split('.');","      var obj = doc;","      for (var i = 0, len = pieces.length; i < len; i++) {","          if(i+1  == len ) // last one","          {","              obj[ pieces[i]] = val;","              return;","          }","          obj[pieces[i]] = obj[pieces[i]] || {};","          obj = obj[pieces[i]] || {};","      }","}","exports.patchQ = function(){","        ","    /** Workaround for Q module with CLS */","    function matroshka(fn) {","      var babushka = fn;","      Object.keys(process.namespaces).forEach(function (name) {","        babushka = process.namespaces[name].bind(babushka);","      });","    ","      return babushka;","    }","    function patchQueue() {","      var Q = require('q');","      var proto = Q && Q.makePromise && Q.makePromise.prototype;","      function wrapperFunc(then) {","        return function nsThen(fulfilled, rejected, progressed) {","          if (typeof fulfilled === 'function') fulfilled = matroshka(fulfilled);","          if (typeof rejected === 'function') rejected = matroshka(rejected);","          if (typeof progressed === 'function') progressed = matroshka(progressed);","          return then.call(this, fulfilled, rejected, progressed);","        };","      }","      require(\"shimmer\").wrap(proto, 'then', wrapperFunc);","      require(\"shimmer\").wrap(proto, 'done', wrapperFunc);","    }","    ","    patchQueue();","","};","","exports.patchMongoCallback = function(){","\tvar mongodbs = [];","\t","\ttry{","        mongodbs.push( require(process.cwd() + \"/node_modules/mongoose/node_modules/mongodb/lib/mongodb/db\").Db );","    }","    catch(err){","    }","\ttry{","\t\tmongodbs.push( require(\"mongoose/node_modules/mongodb/lib/mongodb/db\").Db );","\t}","\tcatch(err){","\t}","\ttry{","        mongodbs.push( require(\"mongodb/lib/mongodb/db\").Db );","    }","    catch(err){","    }","    try{","        mongodbs.push( require(\"../mongodb/lib/mongodb/db\").Db );","    }","    catch(err){","    }","    ","\tfor(var i=0;i<mongodbs.length;i++){","\t\tvar mongodb = mongodbs[i];","\t\tmongodb.prototype._executeInsertCommand = bindMongoCallback(mongodb.prototype._executeInsertCommand);","\t\tmongodb.prototype._executeQueryCommand = bindMongoCallback(mongodb.prototype._executeQueryCommand);","\t\tmongodb.prototype._executeUpdateCommand = mongodb.prototype._executeInsertCommand ;","\t\tmongodb.prototype._executeRemoveCommand = mongodb.prototype._executeInsertCommand ;","\t}","\tvar domain = require(\"domain\");","\tfunction bindMongoCallback(fn){","\t\treturn function(cmd, options, callback){","\t\t\tif(domain.active){","\t\t\t\tif(typeof(callback) ==='function') callback = domain.active.bind(callback);","\t\t\t\telse if(!callback && typeof(options) === 'function') options = domain.active.bind(options);","\t\t\t}","\t\t\telse{","\t\t\t    //console.error(\"DOMAIN LOST\", cmd.collectionName, cmd.query);","\t\t\t}","\t\t\tfn.call(this, cmd, options,callback  );","\t\t};","\t};","","};","","exports.bindCallback = function(scope, fn){","    return function(){","        var lastArg = arguments.length? arguments[arguments.length-1]: null;","        if(typeof(lastArg) != 'function') return fn.apply(scope || this, arguments);","        var domain =require(\"domain\");","        if(domain.active){","            arguments[arguments.length-1] = domain.active.bind(lastArg);","        }","        return fn.apply(scope || this, arguments);","    }","}","exports.addHookPoints = function(clazz, hookables){","    var hooks = require(\"hooks\");","    hookables = hookables || clazz.hookables;","    for (var k in hooks) { clazz[k] = hooks[k];}","","    _.each(hookables, function(hookable){","        clazz.hook(hookable, clazz.prototype[hookable]);","    });","    clazz.removePost = removePost;","};","","exports.removeHookPoints = function(clazz, hookables){","    hookables = hookables || clazz.hookables;","    _.each(hookables, function(hookable){","        clazz.removePre(hookable).removePost(hookable); ","    });    ","};","","","function removePost(name, fnToRemove) {","    var proto = this.prototype || this","      , posts = proto._posts || (proto._posts || {});","    if (!posts[name]) return this;","    if (arguments.length === 1) {","      // Remove all pre callbacks for hook `name`","      posts[name].length = 0;","    } else {","      posts[name] = posts[name].filter( function (currFn) {","        return currFn !== fnToRemove;","      });","    }","    return this;","};","","","","","","","","/**@todo move to schema util */","","","exports.parseDeclaredArguments = function(funcBody){","    if(typeof funcBody === 'function') funcBody = funcBody.toString();","    if(funcBody && typeof funcBody === \"string\"  && funcBody.substr(0,8) == \"function\") {","        var startArgs = funcBody.indexOf('(') + 1;","        var endArgs = funcBody.indexOf(')');","        return  funcBody.substring(startArgs, endArgs)","    }","    return \"\";","}","var FunctionNamePattern = /^function\\s+(remote|local|portable)/i;","exports.typeOf = function(funcBody){","    funcBody = typeof(funcBody) == 'function' ? funcBody.toString() : funcBody;","    if(funcBody.indexOf(\"function\")!=0) return \"unknown\";","    var matcher = FunctionNamePattern.exec(funcBody);","    return matcher? matcher[1]: 'remote'; //default is remote","}","","exports.methodType = exports.typeOf;","","exports.stringifySchema = function(schemaObj ){","    //logger.trace(\"stringifySchema\", moduleName);","    var funcs = {};","    function funcStringifier(key, value) {","        if (typeof value !== 'function') return value;","        var body =  value.toString();","        var funcType = exports.typeOf(body);","        if(!funcType) return; //'not-available';","        if(funcType.indexOf(\"local\")>=0) return 'This method can be invoked from server side only';","        ","        if(funcType.indexOf(\"portable\")>=0){","            /** the function can be executed client side */","           return body;","        }","        else{","            /** stub the function */","            return '$PROXIED$'; //constructProxyFunc(key,args, funcType);","        }","    }","    return JSON.stringify( schemaObj,  funcStringifier, \"\\t\"  );","}","","function getReference(pathSchema){","    var opts = pathSchema.options;","    ","    /** Mongoose, array of ObjectIDs */","    if( Array.isArray(opts.type) && opts.type.length>0  &&  opts.type[0] && opts.type[0].ref ) ","        return opts.type[0].ref;","    /** Single ObjectID Reference*/","    if(pathSchema.instance == 'ObjectID' && opts.ref) return opts.ref;","    ","    ","    if(pathSchema.options.ref && pathSchema.instance == 'CustomRef'){","        /** deform custom ref*/","       return pathSchema.options.ref;    ","    }","    /** deform rich reference, array */","    if(Array.isArray(opts.type ) && pathSchema.caster && ","            pathSchema.caster.instance == 'CustomRef' && pathSchema.caster.options.ref ){ ","        return pathSchema.caster.options.ref;","    }","        ","    return null;","}","","/**"," * Merge data recursively from src to dst, return dst"," * @param {Object} dst"," * @param {Object} src"," */","exports.merge = function(dst, src){","    dst = dst || {};","    src = src || {};","    var traverse = require(\"traverse\");","    var source = traverse(src);","    var destination = traverse(dst);","    source.paths().forEach(function(path){","        var val = source.get(path);","        if(typeof(val) != 'object')","            destination.set(path, val);","    });","    return dst;","}","","// Default implementation of exporting a module's methods to client","exports.exportModuleMethods = function(moduleName, mod){","    var ret = {};","    var schemaObj =  mod.schema || (mod.getSchema && mod.getSchema());","    if(!schemaObj)","        return null;  ","    ret.moduleName = moduleName;","    ret.methods = _.clone( schemaObj.methods ) || {};","    ret.statics = _.clone( schemaObj.statics) || {};","    return ret;","};","",""],"l":{"6":1,"9":1,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"20":0,"23":1,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"32":0,"41":1,"42":0,"43":0,"44":0,"45":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"60":0,"63":1,"64":0,"65":0,"66":0,"67":0,"68":0,"70":0,"71":0,"73":0,"74":0,"77":1,"80":1,"81":0,"82":0,"83":0,"86":0,"88":1,"89":0,"90":0,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"99":0,"100":0,"103":0,"107":1,"108":2,"110":2,"111":2,"115":2,"116":2,"120":2,"121":2,"125":2,"126":2,"131":2,"132":2,"133":2,"134":2,"135":2,"136":2,"138":2,"139":1,"140":4,"141":0,"142":0,"143":0,"148":0,"154":1,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"162":0,"165":1,"166":1,"167":1,"168":5,"170":1,"171":7,"173":1,"176":1,"177":0,"178":0,"179":0,"184":1,"185":0,"187":0,"188":0,"190":0,"192":0,"193":0,"196":0,"208":1,"209":0,"210":0,"211":0,"212":0,"213":0,"215":0,"217":1,"218":1,"219":0,"220":0,"221":0,"222":0,"225":1,"227":1,"229":0,"230":1,"231":0,"232":0,"233":0,"234":0,"235":0,"237":0,"239":0,"243":0,"246":0,"249":1,"250":0,"253":0,"254":0,"256":0,"259":0,"261":0,"264":0,"266":0,"269":0,"277":1,"278":5,"279":5,"280":5,"281":5,"282":5,"283":5,"284":18,"285":18,"286":13,"288":5,"292":1,"293":0,"294":0,"295":0,"296":0,"297":0,"298":0,"299":0,"300":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Context.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Context.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"Context","line":5,"loc":{"start":{"line":5,"column":0},"end":{"line":5,"column":28}}},"2":{"name":"(anonymous_2)","line":16,"loc":{"start":{"line":16,"column":22},"end":{"line":16,"column":32}}},"3":{"name":"(anonymous_3)","line":23,"loc":{"start":{"line":23,"column":23},"end":{"line":23,"column":33}}},"4":{"name":"(anonymous_4)","line":30,"loc":{"start":{"line":30,"column":25},"end":{"line":30,"column":35}}},"5":{"name":"(anonymous_5)","line":34,"loc":{"start":{"line":34,"column":19},"end":{"line":34,"column":33}}},"6":{"name":"(anonymous_6)","line":37,"loc":{"start":{"line":37,"column":19},"end":{"line":37,"column":29}}},"7":{"name":"(anonymous_7)","line":41,"loc":{"start":{"line":41,"column":24},"end":{"line":41,"column":43}}},"8":{"name":"(anonymous_8)","line":45,"loc":{"start":{"line":45,"column":24},"end":{"line":45,"column":34}}},"9":{"name":"(anonymous_9)","line":50,"loc":{"start":{"line":50,"column":20},"end":{"line":50,"column":30}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"2":{"start":{"line":4,"column":0},"end":{"line":4,"column":17}},"3":{"start":{"line":5,"column":0},"end":{"line":53,"column":1}},"4":{"start":{"line":6,"column":4},"end":{"line":6,"column":51}},"5":{"start":{"line":7,"column":4},"end":{"line":7,"column":27}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":33}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":35}},"8":{"start":{"line":16,"column":4},"end":{"line":18,"column":5}},"9":{"start":{"line":17,"column":8},"end":{"line":17,"column":29}},"10":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"11":{"start":{"line":24,"column":8},"end":{"line":24,"column":30}},"12":{"start":{"line":30,"column":4},"end":{"line":32,"column":5}},"13":{"start":{"line":31,"column":8},"end":{"line":31,"column":31}},"14":{"start":{"line":34,"column":4},"end":{"line":36,"column":5}},"15":{"start":{"line":35,"column":8},"end":{"line":35,"column":25}},"16":{"start":{"line":37,"column":4},"end":{"line":39,"column":5}},"17":{"start":{"line":38,"column":8},"end":{"line":38,"column":25}},"18":{"start":{"line":41,"column":4},"end":{"line":43,"column":5}},"19":{"start":{"line":42,"column":8},"end":{"line":42,"column":36}},"20":{"start":{"line":45,"column":4},"end":{"line":48,"column":5}},"21":{"start":{"line":46,"column":8},"end":{"line":46,"column":51}},"22":{"start":{"line":46,"column":28},"end":{"line":46,"column":51}},"23":{"start":{"line":47,"column":8},"end":{"line":47,"column":31}},"24":{"start":{"line":50,"column":4},"end":{"line":52,"column":5}},"25":{"start":{"line":51,"column":8},"end":{"line":51,"column":43}},"26":{"start":{"line":55,"column":0},"end":{"line":55,"column":25}}},"branchMap":{"1":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":19},"end":{"line":6,"column":36}},{"start":{"line":6,"column":41},"end":{"line":6,"column":49}}]},"2":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]}},"code":["// ### API References","","var Principal = require(\"./Principal\");","var seqnum = 100;","function Context(properties){","    this.seqnum =  properties.seqnum || (++seqnum);","    var props = properties;","    ","    this.request = props.request;","    this.response = props.response;","    ","    ","    // ** getRequest() ** ","    //","    // Returns the express request object","    this.getRequest = function(){","        return props.request;","    }","    ","    // ** getResponse **","    //","    // Returns the express response object","    this.getResponse = function(){","        return props.response;","    }","    ","    // ** getInvocation **","    //","    // Returns the invocation object associated with current context","    this.getInvocation = function(){","        return this.invocation;","    }","    ","    this.setUser = function(user){","        this.user = user;","    }","    this.getUser = function(){","        return this.user;","    }","    ","    this.setPrincipal = function(principal){","        props.principal = principal;","    }","    // not used yet","    this.getPrincipal = function(){","        if(props.principal) return props.principal;","        return new Principal();","    }","    ","    this.toString = function(){","        return \"[Context@\"+ this.seqnum+\"]\"","    }","}","","module.exports = Context;"],"l":{"3":1,"4":1,"5":1,"6":0,"7":0,"9":0,"10":0,"16":0,"17":0,"23":0,"24":0,"30":0,"31":0,"34":0,"35":0,"37":0,"38":0,"41":0,"42":0,"45":0,"46":0,"47":0,"50":0,"51":0,"55":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Principal.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Principal.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":19,"loc":{"start":{"line":19,"column":17},"end":{"line":19,"column":40}}},"2":{"name":"(anonymous_2)","line":33,"loc":{"start":{"line":33,"column":20},"end":{"line":33,"column":30}}},"3":{"name":"(anonymous_3)","line":38,"loc":{"start":{"line":38,"column":21},"end":{"line":38,"column":31}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":52}},"2":{"start":{"line":19,"column":0},"end":{"line":39,"column":2}},"3":{"start":{"line":20,"column":4},"end":{"line":24,"column":5}},"4":{"start":{"line":33,"column":4},"end":{"line":33,"column":58}},"5":{"start":{"line":33,"column":32},"end":{"line":33,"column":56}},"6":{"start":{"line":38,"column":4},"end":{"line":38,"column":53}},"7":{"start":{"line":38,"column":33},"end":{"line":38,"column":51}},"8":{"start":{"line":41,"column":0},"end":{"line":41,"column":27}}},"branchMap":{"1":{"line":23,"type":"cond-expr","locations":[{"start":{"line":23,"column":36},"end":{"line":23,"column":41}},{"start":{"line":23,"column":44},"end":{"line":23,"column":67}}]},"2":{"line":23,"type":"cond-expr","locations":[{"start":{"line":23,"column":50},"end":{"line":23,"column":57}},{"start":{"line":23,"column":58},"end":{"line":23,"column":67}}]},"3":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":39},"end":{"line":33,"column":49}},{"start":{"line":33,"column":53},"end":{"line":33,"column":55}}]}},"code":["var logger = require(\"log4js\").getLogger(\"angoose\");","","//  This is currently not used as of 0.2.14","//","// This class encapsulates authenticated user information. ","// To obtain an instance of this object, you may use `getContext` method","// defined on the Model/Service class or instance:","//","//     MySchema.methods.updateStatus = function(){","//          var user = this.getContext().getPrincipal();","//          console.log(\"User is \", user.getUsername());     ","//     }","//","// ","","// ### API References","","","var  Principal = function(userId, roles){","    var user = {","        userId: userId,","        //username: username,","        roles: Array.isArray(roles)?roles: (roles?[roles]:undefined)","    }","    // ** getUsername() **","    // ","    // get current logged in user's name/login","    //this.getUsername = function(){ return user.username};","","    // ** getRoles **","    //","    // get current logged in user's roles, always returns an array","    this.getRoles = function(){ return user.roles || [] };","    ","    // ** getUserId **","    //","    // get current logged in user's ID","    this.getUserId = function(){ return user.userId};","};","","module.exports = Principal;"],"l":{"1":1,"19":1,"20":0,"33":0,"38":0,"41":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Exception.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Exception.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"Exception","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":29}}},"2":{"name":"(anonymous_2)","line":7,"loc":{"start":{"line":7,"column":41},"end":{"line":7,"column":51}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":27}},"2":{"start":{"line":3,"column":0},"end":{"line":18,"column":1}},"3":{"start":{"line":4,"column":4},"end":{"line":17,"column":5}},"4":{"start":{"line":5,"column":8},"end":{"line":5,"column":35}},"5":{"start":{"line":6,"column":8},"end":{"line":6,"column":37}},"6":{"start":{"line":7,"column":8},"end":{"line":9,"column":10}},"7":{"start":{"line":8,"column":12},"end":{"line":8,"column":44}},"8":{"start":{"line":8,"column":30},"end":{"line":8,"column":44}},"9":{"start":{"line":10,"column":8},"end":{"line":10,"column":25}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":27}},"11":{"start":{"line":16,"column":8},"end":{"line":16,"column":32}},"12":{"start":{"line":19,"column":0},"end":{"line":19,"column":32}},"13":{"start":{"line":20,"column":0},"end":{"line":20,"column":27}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":4,"column":4}},{"start":{"line":4,"column":4},"end":{"line":4,"column":4}}]},"2":{"line":6,"type":"binary-expr","locations":[{"start":{"line":6,"column":20},"end":{"line":6,"column":24}},{"start":{"line":6,"column":28},"end":{"line":6,"column":36}}]},"3":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":12},"end":{"line":8,"column":12}},{"start":{"line":8,"column":12},"end":{"line":8,"column":12}}]},"4":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":21},"end":{"line":16,"column":25}},{"start":{"line":16,"column":29},"end":{"line":16,"column":31}}]}},"code":["var util = require(\"util\");","","function Exception(err, name){","    if(err instanceof Error){","        this.message = err.message;","        this.name = name || err.name;","        require('traverse')(err).forEach(function(){","            if(this.circular) this.remove();","        })","        this.cause = err;","        //this.cause = err;","        //delete this.cause.domain;  ","    } ","    else{","        this.message = err;","        this.name =  name || '';    ","    } ","}","util.inherits(Exception, Error);","module.exports = Exception;",""," "],"l":{"1":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"10":0,"15":0,"16":0,"19":1,"20":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Bundle.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Bundle.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":1,"24":0,"25":1,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":1,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":1,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":1,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":1,"97":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"Bundle","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":17}}},"2":{"name":"initHooks","line":10,"loc":{"start":{"line":10,"column":0},"end":{"line":10,"column":20}}},"3":{"name":"(anonymous_3)","line":13,"loc":{"start":{"line":13,"column":92},"end":{"line":13,"column":106}}},"4":{"name":"addHook","line":21,"loc":{"start":{"line":21,"column":0},"end":{"line":21,"column":35}}},"5":{"name":"(anonymous_5)","line":28,"loc":{"start":{"line":28,"column":13},"end":{"line":28,"column":35}}},"6":{"name":"(anonymous_6)","line":31,"loc":{"start":{"line":31,"column":14},"end":{"line":31,"column":36}}},"7":{"name":"invokeHook","line":35,"loc":{"start":{"line":35,"column":0},"end":{"line":35,"column":44}}},"8":{"name":"(anonymous_8)","line":38,"loc":{"start":{"line":38,"column":18},"end":{"line":38,"column":32}}},"9":{"name":"angoose","line":46,"loc":{"start":{"line":46,"column":0},"end":{"line":46,"column":18}}},"10":{"name":"(anonymous_10)","line":62,"loc":{"start":{"line":62,"column":21},"end":{"line":62,"column":49}}},"11":{"name":"(anonymous_11)","line":75,"loc":{"start":{"line":75,"column":22},"end":{"line":75,"column":38}}},"12":{"name":"(anonymous_12)","line":86,"loc":{"start":{"line":86,"column":18},"end":{"line":86,"column":38}}},"13":{"name":"(anonymous_13)","line":97,"loc":{"start":{"line":97,"column":21},"end":{"line":97,"column":37}}},"14":{"name":"(anonymous_14)","line":124,"loc":{"start":{"line":124,"column":21},"end":{"line":124,"column":37}}},"15":{"name":"(anonymous_15)","line":134,"loc":{"start":{"line":134,"column":30},"end":{"line":134,"column":43}}},"16":{"name":"(anonymous_16)","line":141,"loc":{"start":{"line":141,"column":23},"end":{"line":141,"column":43}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":92}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":40}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":36}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":19}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":15}},"8":{"start":{"line":10,"column":0},"end":{"line":17,"column":1}},"9":{"start":{"line":11,"column":4},"end":{"line":11,"column":19}},"10":{"start":{"line":12,"column":4},"end":{"line":12,"column":20}},"11":{"start":{"line":13,"column":4},"end":{"line":16,"column":6}},"12":{"start":{"line":14,"column":8},"end":{"line":14,"column":29}},"13":{"start":{"line":15,"column":8},"end":{"line":15,"column":30}},"14":{"start":{"line":21,"column":0},"end":{"line":27,"column":1}},"15":{"start":{"line":22,"column":4},"end":{"line":22,"column":33}},"16":{"start":{"line":23,"column":4},"end":{"line":23,"column":62}},"17":{"start":{"line":24,"column":4},"end":{"line":24,"column":26}},"18":{"start":{"line":24,"column":13},"end":{"line":24,"column":26}},"19":{"start":{"line":25,"column":4},"end":{"line":25,"column":19}},"20":{"start":{"line":26,"column":4},"end":{"line":26,"column":16}},"21":{"start":{"line":28,"column":0},"end":{"line":30,"column":1}},"22":{"start":{"line":29,"column":4},"end":{"line":29,"column":39}},"23":{"start":{"line":31,"column":0},"end":{"line":33,"column":1}},"24":{"start":{"line":32,"column":4},"end":{"line":32,"column":40}},"25":{"start":{"line":35,"column":0},"end":{"line":42,"column":1}},"26":{"start":{"line":37,"column":4},"end":{"line":37,"column":40}},"27":{"start":{"line":38,"column":4},"end":{"line":41,"column":7}},"28":{"start":{"line":39,"column":8},"end":{"line":39,"column":61}},"29":{"start":{"line":40,"column":8},"end":{"line":40,"column":36}},"30":{"start":{"line":46,"column":0},"end":{"line":48,"column":1}},"31":{"start":{"line":47,"column":4},"end":{"line":47,"column":32}},"32":{"start":{"line":55,"column":0},"end":{"line":55,"column":29}},"33":{"start":{"line":62,"column":0},"end":{"line":73,"column":2}},"34":{"start":{"line":63,"column":4},"end":{"line":63,"column":58}},"35":{"start":{"line":65,"column":4},"end":{"line":65,"column":48}},"36":{"start":{"line":66,"column":4},"end":{"line":66,"column":42}},"37":{"start":{"line":66,"column":35},"end":{"line":66,"column":42}},"38":{"start":{"line":67,"column":4},"end":{"line":67,"column":43}},"39":{"start":{"line":68,"column":4},"end":{"line":68,"column":62}},"40":{"start":{"line":69,"column":4},"end":{"line":70,"column":45}},"41":{"start":{"line":69,"column":16},"end":{"line":69,"column":89}},"42":{"start":{"line":70,"column":9},"end":{"line":70,"column":45}},"43":{"start":{"line":72,"column":4},"end":{"line":72,"column":59}},"44":{"start":{"line":75,"column":0},"end":{"line":95,"column":2}},"45":{"start":{"line":76,"column":4},"end":{"line":76,"column":47}},"46":{"start":{"line":78,"column":4},"end":{"line":78,"column":42}},"47":{"start":{"line":79,"column":4},"end":{"line":79,"column":42}},"48":{"start":{"line":80,"column":4},"end":{"line":80,"column":18}},"49":{"start":{"line":82,"column":4},"end":{"line":82,"column":40}},"50":{"start":{"line":83,"column":4},"end":{"line":83,"column":38}},"51":{"start":{"line":84,"column":4},"end":{"line":84,"column":22}},"52":{"start":{"line":84,"column":15},"end":{"line":84,"column":22}},"53":{"start":{"line":86,"column":4},"end":{"line":92,"column":8}},"54":{"start":{"line":87,"column":8},"end":{"line":87,"column":49}},"55":{"start":{"line":88,"column":8},"end":{"line":88,"column":70}},"56":{"start":{"line":88,"column":63},"end":{"line":88,"column":70}},"57":{"start":{"line":90,"column":8},"end":{"line":90,"column":44}},"58":{"start":{"line":94,"column":4},"end":{"line":94,"column":48}},"59":{"start":{"line":97,"column":0},"end":{"line":118,"column":1}},"60":{"start":{"line":98,"column":4},"end":{"line":98,"column":40}},"61":{"start":{"line":100,"column":4},"end":{"line":100,"column":29}},"62":{"start":{"line":100,"column":22},"end":{"line":100,"column":29}},"63":{"start":{"line":101,"column":4},"end":{"line":101,"column":64}},"64":{"start":{"line":102,"column":4},"end":{"line":102,"column":72}},"65":{"start":{"line":103,"column":4},"end":{"line":103,"column":54}},"66":{"start":{"line":104,"column":4},"end":{"line":104,"column":71}},"67":{"start":{"line":105,"column":4},"end":{"line":105,"column":91}},"68":{"start":{"line":108,"column":4},"end":{"line":108,"column":81}},"69":{"start":{"line":109,"column":4},"end":{"line":109,"column":58}},"70":{"start":{"line":111,"column":4},"end":{"line":111,"column":76}},"71":{"start":{"line":112,"column":4},"end":{"line":112,"column":58}},"72":{"start":{"line":114,"column":4},"end":{"line":114,"column":74}},"73":{"start":{"line":115,"column":4},"end":{"line":115,"column":58}},"74":{"start":{"line":117,"column":4},"end":{"line":117,"column":28}},"75":{"start":{"line":124,"column":0},"end":{"line":138,"column":2}},"76":{"start":{"line":125,"column":4},"end":{"line":125,"column":41}},"77":{"start":{"line":126,"column":4},"end":{"line":126,"column":42}},"78":{"start":{"line":128,"column":4},"end":{"line":128,"column":41}},"79":{"start":{"line":129,"column":4},"end":{"line":129,"column":54}},"80":{"start":{"line":131,"column":4},"end":{"line":131,"column":49}},"81":{"start":{"line":132,"column":4},"end":{"line":132,"column":57}},"82":{"start":{"line":134,"column":4},"end":{"line":136,"column":7}},"83":{"start":{"line":135,"column":8},"end":{"line":135,"column":47}},"84":{"start":{"line":141,"column":0},"end":{"line":159,"column":2}},"85":{"start":{"line":142,"column":4},"end":{"line":142,"column":52}},"86":{"start":{"line":145,"column":4},"end":{"line":145,"column":50}},"87":{"start":{"line":146,"column":4},"end":{"line":146,"column":34}},"88":{"start":{"line":147,"column":4},"end":{"line":147,"column":51}},"89":{"start":{"line":149,"column":4},"end":{"line":149,"column":51}},"90":{"start":{"line":150,"column":4},"end":{"line":150,"column":35}},"91":{"start":{"line":151,"column":4},"end":{"line":151,"column":52}},"92":{"start":{"line":153,"column":4},"end":{"line":153,"column":50}},"93":{"start":{"line":154,"column":4},"end":{"line":154,"column":34}},"94":{"start":{"line":155,"column":4},"end":{"line":155,"column":51}},"95":{"start":{"line":157,"column":4},"end":{"line":157,"column":53}},"96":{"start":{"line":164,"column":0},"end":{"line":164,"column":31}},"97":{"start":{"line":165,"column":0},"end":{"line":165,"column":24}}},"branchMap":{"1":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":4},"end":{"line":24,"column":4}},{"start":{"line":24,"column":4},"end":{"line":24,"column":4}}]},"2":{"line":37,"type":"binary-expr","locations":[{"start":{"line":37,"column":16},"end":{"line":37,"column":34}},{"start":{"line":37,"column":38},"end":{"line":37,"column":40}}]},"3":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":4},"end":{"line":66,"column":4}},{"start":{"line":66,"column":4},"end":{"line":66,"column":4}}]},"4":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":4},"end":{"line":69,"column":4}},{"start":{"line":69,"column":4},"end":{"line":69,"column":4}}]},"5":{"line":79,"type":"binary-expr","locations":[{"start":{"line":79,"column":21},"end":{"line":79,"column":35}},{"start":{"line":79,"column":39},"end":{"line":79,"column":41}}]},"6":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":16},"end":{"line":83,"column":21}},{"start":{"line":83,"column":25},"end":{"line":83,"column":37}}]},"7":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":4},"end":{"line":84,"column":4}},{"start":{"line":84,"column":4},"end":{"line":84,"column":4}}]},"8":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":8},"end":{"line":88,"column":8}},{"start":{"line":88,"column":8},"end":{"line":88,"column":8}}]},"9":{"line":88,"type":"binary-expr","locations":[{"start":{"line":88,"column":11},"end":{"line":88,"column":21}},{"start":{"line":88,"column":25},"end":{"line":88,"column":61}}]},"10":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":4},"end":{"line":100,"column":4}},{"start":{"line":100,"column":4},"end":{"line":100,"column":4}}]},"11":{"line":126,"type":"binary-expr","locations":[{"start":{"line":126,"column":21},"end":{"line":126,"column":35}},{"start":{"line":126,"column":39},"end":{"line":126,"column":41}}]}},"code":["var logger = require(\"log4js\").getLogger(\"angoose\"), path=require(\"path\"), fs=require(\"fs\");","var _ =require(\"underscore\");","var toolbox = require(\"./util/toolbox\");","var traverse  = require(\"traverse\");","","function Bundle(){}","Bundle.initHooks = initHooks;","","var hooks = {};","function initHooks(){","    hooks.pre = {};","    hooks.post = {};","    ['generateClient','configClient','exportModules','exportModule','createBundle'].forEach(function(name){","        hooks.pre[name] = [];           ","        hooks.post[name] = [];","    })","}","","// synchronous hooks","","function addHook(loc, method, func){","    var tmp = hooks[loc][method];","    logger.debug(\"ADdding bundle hook to\", loc, method, tmp );","    if(!tmp) return false;","    tmp.push(func);","    return true;","}","Bundle.pre = function(method, func){","    return addHook('pre', method, func)","}","Bundle.post = function(method, func){","    return addHook('post', method, func)","}","","function invokeHook(loc, method, arg1, arg2){","    //console.log(\"***** Bundle.invokeHook ******* \", loc, method)","    var funcs = hooks[loc][method] || []","    funcs.forEach(function(func){","        logger.trace(\"calling hook\", loc, method, func.name);","        func.call(null, arg1, arg2);","    });","}","","","","function angoose(){","    return require(\"./angoose\");","}","//AngooseSchema.prototype =   {","    //stringify: stringify,","    //parseDeclaredArguments:toolbox.parseDeclaredArguments,","    //getReference:getReference,","    //getFunctionName: getFunctionName","//};","var proto = Bundle.prototype;  ","/**"," * prepare the schema for the module"," * "," * @param {String} moduleName"," * @param {Object} module"," */","proto.exportModule = function(client, moduleName){","    invokeHook('pre', 'exportModule', client, moduleName);","    ","    logger.trace(\"in exportModule\", moduleName);","    if(client.schemas[moduleName]) return; // already handled","    var mod = angoose().module(moduleName);","    var schema = toolbox.exportModuleMethods(moduleName, mod);","    if(!schema) logger.error(\"Module\", moduleName, \" has no schema, export failed\", mod);","    else client.schemas[moduleName] = schema;","    ","    invokeHook('post', 'exportModule', client, moduleName);","};","","proto.exportModules = function(client){","    invokeHook('pre', 'exportModules', client);","    ","    logger.debug(\"Exporting all modules\");","    client.schemas = client.schemas || {};","    var me = this;","   ","    var names = angoose().moduleNames();","    var total = names && names.length;","    if(!total) return;","   ","    names.forEach(function(moduleName){","        var mod = angoose().getClass(moduleName);","        if(mod.config && mod.config(\"visibility\") === 'local') return;","        ","        me.exportModule(client, moduleName); ","       ","    }) ;","    ","    invokeHook('post', 'exportModules', client);","};","","proto.createBundle = function(client){","    logger.debug(\"Bundle client files\");","    ","    if(client.source) return; // already generated source","    var jsonSchemas = toolbox.stringifySchema( client.schemas );","    var template = path.resolve(__dirname , \"client/angoose-client.js\");","    var content = fs.readFileSync(template , 'ascii');","    content = content.replace(\"/**SCHEMA_PLACEHOLDER*/\",  jsonSchemas);","    content = content.replace(\"/**CONFIG_PLACEHOLDER*/\", JSON.stringify( client.options ));  ","    ","    /**  include client specific extensions*/","    var clientModuleFile = path.resolve(__dirname , \"client/angoose-angular.js\");","    content += fs.readFileSync(clientModuleFile, 'ascii');","","    clientModuleFile = path.resolve(__dirname , \"client/angoose-jquery.js\");","    content += fs.readFileSync(clientModuleFile, 'ascii');","    ","    clientModuleFile = path.resolve(__dirname , \"client/angoose-node.js\");","    content += fs.readFileSync(clientModuleFile, 'ascii');","    ","    client.source = content;","}","","/**"," * This method configures an options object which will be served as Angoose client's initial configurations"," * Must set the `client.options` property after the method finishes"," */","proto.configClient = function(client){","    logger.debug(\"Setup client options\");","    client.options = client.options || {};","    ","    var angooseOpts = angoose().config();","    var clientOptionNames = ['url-prefix', 'logging'];","    ","    _.extend(client.options, angooseOpts.client);","    client.options.urlPrefix = angooseOpts['url-prefix'];","    ","    clientOptionNames.forEach(function(key){","        client.options[key] = angooseOpts[key];","    });","    //client.options.logging = angoose().config()['logging'] || 'INFO';","};","/**"," */","proto.generateClient = function(clientData){","    invokeHook('pre', 'generateClient', clientData);","    // client side configurations","    ","    invokeHook('pre', 'configClient', clientData);","    this.configClient(clientData);","    invokeHook('post', 'configClient', clientData);","    ","    invokeHook('pre', 'exportModules', clientData);","    this.exportModules(clientData);","    invokeHook('post', 'exportModules', clientData);","    ","    invokeHook('pre', 'createBundle', clientData);","    this.createBundle(clientData);","    invokeHook('post', 'createBundle', clientData);","    ","    invokeHook('post', 'generateClient', clientData);","    ","};","//@tood: ,serializeModules,serializeModule,prepareSchema","// Bundle.hookables = 'generateClient,configClient,exportModules,exportModule,createBundle'.split(\",\");","// toolbox.addHookPoints(Bundle);","","Bundle.typeOf = toolbox.typeOf;","module.exports = Bundle;"],"l":{"1":1,"2":1,"3":1,"4":1,"6":1,"7":1,"9":1,"10":1,"11":0,"12":0,"13":0,"14":0,"15":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"28":1,"29":0,"31":1,"32":0,"35":1,"37":0,"38":0,"39":0,"40":0,"46":1,"47":0,"55":1,"62":1,"63":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"72":0,"75":1,"76":0,"78":0,"79":0,"80":0,"82":0,"83":0,"84":0,"86":0,"87":0,"88":0,"90":0,"94":0,"97":1,"98":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"108":0,"109":0,"111":0,"112":0,"114":0,"115":0,"117":0,"124":1,"125":0,"126":0,"128":0,"129":0,"131":0,"132":0,"134":0,"135":0,"141":1,"142":0,"145":0,"146":0,"147":0,"149":0,"150":0,"151":0,"153":0,"154":0,"155":0,"157":0,"164":1,"165":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Remotable.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Remotable.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":2,"14":2,"15":2,"16":2,"17":2,"18":0,"19":0,"20":0,"21":2,"22":2,"23":2,"24":2,"25":1,"26":0,"27":1,"28":2,"29":16,"30":16,"31":2,"32":14,"33":8,"34":6,"35":0,"36":0,"37":6,"38":2,"39":2,"40":2,"41":1,"42":14,"43":1,"44":1,"45":1,"46":1,"47":5,"48":5,"49":5,"50":5,"51":5,"52":5,"53":5,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":1,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0},"b":{"1":[2,0],"2":[0,2],"3":[0,2],"4":[2,14],"5":[16,16],"6":[8,6],"7":[0,6],"8":[14,14,10],"9":[5,0],"10":[5,0],"11":[0,5],"12":[0,0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0]},"f":{"1":0,"2":2,"3":0,"4":2,"5":14,"6":5,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":24,"loc":{"start":{"line":24,"column":17},"end":{"line":24,"column":27}}},"2":{"name":"extend","line":40,"loc":{"start":{"line":40,"column":0},"end":{"line":40,"column":32}}},"3":{"name":"mixinInstance","line":65,"loc":{"start":{"line":65,"column":0},"end":{"line":65,"column":54}}},"4":{"name":"mixinStatic","line":71,"loc":{"start":{"line":71,"column":0},"end":{"line":71,"column":52}}},"5":{"name":"isRemotableReserved","line":96,"loc":{"start":{"line":96,"column":0},"end":{"line":96,"column":40}}},"6":{"name":"(anonymous_6)","line":109,"loc":{"start":{"line":109,"column":18},"end":{"line":109,"column":40}}},"7":{"name":"config","line":120,"loc":{"start":{"line":120,"column":0},"end":{"line":120,"column":27}}},"8":{"name":"getSchema","line":129,"loc":{"start":{"line":129,"column":0},"end":{"line":129,"column":20}}},"9":{"name":"filter","line":145,"loc":{"start":{"line":145,"column":0},"end":{"line":145,"column":27}}},"10":{"name":"bindMongooseMethods","line":151,"loc":{"start":{"line":151,"column":0},"end":{"line":151,"column":40}}},"11":{"name":"(anonymous_11)","line":153,"loc":{"start":{"line":153,"column":26},"end":{"line":153,"column":42}}},"12":{"name":"(anonymous_12)","line":160,"loc":{"start":{"line":160,"column":28},"end":{"line":160,"column":44}}}},"statementMap":{"1":{"start":{"line":5,"column":0},"end":{"line":5,"column":52}},"2":{"start":{"line":6,"column":0},"end":{"line":6,"column":30}},"3":{"start":{"line":7,"column":0},"end":{"line":7,"column":37}},"4":{"start":{"line":9,"column":0},"end":{"line":9,"column":40}},"5":{"start":{"line":24,"column":0},"end":{"line":26,"column":1}},"6":{"start":{"line":25,"column":4},"end":{"line":25,"column":44}},"7":{"start":{"line":28,"column":0},"end":{"line":28,"column":35}},"8":{"start":{"line":29,"column":0},"end":{"line":31,"column":1}},"9":{"start":{"line":33,"column":0},"end":{"line":33,"column":50}},"10":{"start":{"line":34,"column":0},"end":{"line":34,"column":26}},"11":{"start":{"line":35,"column":0},"end":{"line":35,"column":34}},"12":{"start":{"line":40,"column":0},"end":{"line":64,"column":1}},"13":{"start":{"line":41,"column":4},"end":{"line":41,"column":26}},"14":{"start":{"line":42,"column":4},"end":{"line":42,"column":27}},"15":{"start":{"line":43,"column":4},"end":{"line":43,"column":78}},"16":{"start":{"line":44,"column":4},"end":{"line":44,"column":18}},"17":{"start":{"line":45,"column":4},"end":{"line":55,"column":5}},"18":{"start":{"line":46,"column":8},"end":{"line":46,"column":20}},"19":{"start":{"line":47,"column":8},"end":{"line":47,"column":48}},"20":{"start":{"line":50,"column":8},"end":{"line":50,"column":32}},"21":{"start":{"line":54,"column":8},"end":{"line":54,"column":43}},"22":{"start":{"line":58,"column":4},"end":{"line":58,"column":47}},"23":{"start":{"line":59,"column":4},"end":{"line":62,"column":5}},"24":{"start":{"line":63,"column":4},"end":{"line":63,"column":14}},"25":{"start":{"line":65,"column":0},"end":{"line":70,"column":1}},"26":{"start":{"line":66,"column":4},"end":{"line":66,"column":47}},"27":{"start":{"line":71,"column":0},"end":{"line":93,"column":1}},"28":{"start":{"line":76,"column":4},"end":{"line":86,"column":5}},"29":{"start":{"line":77,"column":8},"end":{"line":77,"column":36}},"30":{"start":{"line":78,"column":8},"end":{"line":78,"column":84}},"31":{"start":{"line":78,"column":75},"end":{"line":78,"column":84}},"32":{"start":{"line":79,"column":8},"end":{"line":79,"column":47}},"33":{"start":{"line":79,"column":38},"end":{"line":79,"column":47}},"34":{"start":{"line":80,"column":8},"end":{"line":83,"column":9}},"35":{"start":{"line":81,"column":12},"end":{"line":81,"column":98}},"36":{"start":{"line":82,"column":12},"end":{"line":82,"column":71}},"37":{"start":{"line":85,"column":8},"end":{"line":85,"column":29}},"38":{"start":{"line":89,"column":4},"end":{"line":89,"column":67}},"39":{"start":{"line":90,"column":4},"end":{"line":90,"column":68}},"40":{"start":{"line":92,"column":4},"end":{"line":92,"column":20}},"41":{"start":{"line":96,"column":0},"end":{"line":99,"column":1}},"42":{"start":{"line":98,"column":2},"end":{"line":98,"column":137}},"43":{"start":{"line":103,"column":0},"end":{"line":103,"column":34}},"44":{"start":{"line":104,"column":0},"end":{"line":104,"column":50}},"45":{"start":{"line":106,"column":0},"end":{"line":106,"column":26}},"46":{"start":{"line":109,"column":0},"end":{"line":118,"column":1}},"47":{"start":{"line":110,"column":4},"end":{"line":110,"column":22}},"48":{"start":{"line":111,"column":4},"end":{"line":111,"column":33}},"49":{"start":{"line":112,"column":4},"end":{"line":112,"column":69}},"50":{"start":{"line":113,"column":4},"end":{"line":113,"column":79}},"51":{"start":{"line":114,"column":4},"end":{"line":114,"column":35}},"52":{"start":{"line":115,"column":4},"end":{"line":115,"column":27}},"53":{"start":{"line":116,"column":4},"end":{"line":117,"column":36}},"54":{"start":{"line":117,"column":8},"end":{"line":117,"column":36}},"55":{"start":{"line":120,"column":0},"end":{"line":128,"column":1}},"56":{"start":{"line":121,"column":4},"end":{"line":121,"column":33}},"57":{"start":{"line":122,"column":4},"end":{"line":126,"column":5}},"58":{"start":{"line":123,"column":16},"end":{"line":123,"column":28}},"59":{"start":{"line":124,"column":16},"end":{"line":124,"column":50}},"60":{"start":{"line":125,"column":16},"end":{"line":125,"column":49}},"61":{"start":{"line":127,"column":4},"end":{"line":127,"column":16}},"62":{"start":{"line":129,"column":0},"end":{"line":142,"column":1}},"63":{"start":{"line":130,"column":4},"end":{"line":130,"column":25}},"64":{"start":{"line":131,"column":4},"end":{"line":131,"column":44}},"65":{"start":{"line":132,"column":4},"end":{"line":137,"column":5}},"66":{"start":{"line":133,"column":8},"end":{"line":133,"column":34}},"67":{"start":{"line":134,"column":8},"end":{"line":134,"column":36}},"68":{"start":{"line":134,"column":27},"end":{"line":134,"column":36}},"69":{"start":{"line":135,"column":8},"end":{"line":135,"column":48}},"70":{"start":{"line":135,"column":39},"end":{"line":135,"column":48}},"71":{"start":{"line":136,"column":8},"end":{"line":136,"column":35}},"72":{"start":{"line":138,"column":4},"end":{"line":140,"column":5}},"73":{"start":{"line":139,"column":8},"end":{"line":139,"column":58}},"74":{"start":{"line":141,"column":4},"end":{"line":141,"column":18}},"75":{"start":{"line":145,"column":0},"end":{"line":149,"column":1}},"76":{"start":{"line":146,"column":5},"end":{"line":146,"column":63}},"77":{"start":{"line":146,"column":51},"end":{"line":146,"column":63}},"78":{"start":{"line":147,"column":5},"end":{"line":147,"column":100}},"79":{"start":{"line":147,"column":88},"end":{"line":147,"column":100}},"80":{"start":{"line":148,"column":5},"end":{"line":148,"column":18}},"81":{"start":{"line":151,"column":0},"end":{"line":166,"column":1}},"82":{"start":{"line":152,"column":4},"end":{"line":152,"column":186}},"83":{"start":{"line":153,"column":4},"end":{"line":158,"column":7}},"84":{"start":{"line":154,"column":8},"end":{"line":154,"column":36}},"85":{"start":{"line":155,"column":8},"end":{"line":157,"column":9}},"86":{"start":{"line":156,"column":12},"end":{"line":156,"column":71}},"87":{"start":{"line":159,"column":4},"end":{"line":159,"column":67}},"88":{"start":{"line":160,"column":4},"end":{"line":165,"column":7}},"89":{"start":{"line":161,"column":8},"end":{"line":161,"column":46}},"90":{"start":{"line":162,"column":8},"end":{"line":164,"column":9}},"91":{"start":{"line":163,"column":12},"end":{"line":163,"column":75}}},"branchMap":{"1":{"line":41,"type":"binary-expr","locations":[{"start":{"line":41,"column":14},"end":{"line":41,"column":21}},{"start":{"line":41,"column":23},"end":{"line":41,"column":25}}]},"2":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":4},"end":{"line":45,"column":4}},{"start":{"line":45,"column":4},"end":{"line":45,"column":4}}]},"3":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":4},"end":{"line":59,"column":4}},{"start":{"line":59,"column":4},"end":{"line":59,"column":4}}]},"4":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":8},"end":{"line":78,"column":8}},{"start":{"line":78,"column":8},"end":{"line":78,"column":8}}]},"5":{"line":78,"type":"binary-expr","locations":[{"start":{"line":78,"column":11},"end":{"line":78,"column":44}},{"start":{"line":78,"column":48},"end":{"line":78,"column":73}}]},"6":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":8},"end":{"line":79,"column":8}},{"start":{"line":79,"column":8},"end":{"line":79,"column":8}}]},"7":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":8},"end":{"line":80,"column":8}},{"start":{"line":80,"column":8},"end":{"line":80,"column":8}}]},"8":{"line":98,"type":"binary-expr","locations":[{"start":{"line":98,"column":9},"end":{"line":98,"column":37}},{"start":{"line":98,"column":41},"end":{"line":98,"column":69}},{"start":{"line":98,"column":73},"end":{"line":98,"column":136}}]},"9":{"line":110,"type":"binary-expr","locations":[{"start":{"line":110,"column":11},"end":{"line":110,"column":15}},{"start":{"line":110,"column":19},"end":{"line":110,"column":21}}]},"10":{"line":113,"type":"binary-expr","locations":[{"start":{"line":113,"column":36},"end":{"line":113,"column":65}},{"start":{"line":113,"column":69},"end":{"line":113,"column":78}}]},"11":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":4},"end":{"line":116,"column":4}},{"start":{"line":116,"column":4},"end":{"line":116,"column":4}}]},"12":{"line":122,"type":"switch","locations":[{"start":{"line":123,"column":8},"end":{"line":123,"column":28}},{"start":{"line":124,"column":8},"end":{"line":124,"column":50}},{"start":{"line":125,"column":8},"end":{"line":125,"column":49}}]},"13":{"line":134,"type":"if","locations":[{"start":{"line":134,"column":8},"end":{"line":134,"column":8}},{"start":{"line":134,"column":8},"end":{"line":134,"column":8}}]},"14":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":8},"end":{"line":135,"column":8}},{"start":{"line":135,"column":8},"end":{"line":135,"column":8}}]},"15":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":4},"end":{"line":138,"column":4}},{"start":{"line":138,"column":4},"end":{"line":138,"column":4}}]},"16":{"line":146,"type":"if","locations":[{"start":{"line":146,"column":5},"end":{"line":146,"column":5}},{"start":{"line":146,"column":5},"end":{"line":146,"column":5}}]},"17":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":5},"end":{"line":147,"column":5}},{"start":{"line":147,"column":5},"end":{"line":147,"column":5}}]},"18":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":8},"end":{"line":155,"column":8}},{"start":{"line":155,"column":8},"end":{"line":155,"column":8}}]},"19":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":8},"end":{"line":162,"column":8}},{"start":{"line":162,"column":8},"end":{"line":162,"column":8}}]}},"code":["// This is the base class for Angoose model classes and service classes. ","// This is used internally and it's here only for listing the APIs common","// to all Model and Service classes.  ","","var logger = require(\"log4js\").getLogger(\"angoose\");","var _ = require(\"underscore\");","var Class = require(\"./util/classy\");","","var toolbox = require(\"./util/toolbox\");","","// ### API Rereferences","// **getContext()**","//","// This method allows you obtain the execution context.","// See [Context](Context.html) for more. ","//  ","// Note this method is also available on the class(function) as well. i.e.,","//","//      /** MyModel is subclass of Remotable */","//      var instance = new MyModel(); ","//      /** Following yields true */","//      MyModel.getContext() === instance.getContext(); ","//","var getContext = function(){","    return require(\"./angoose\").getContext()","}","","var  Remotable = Class.$extend({});","Remotable.prototype = {","    getContext: getContext","}","","Remotable._angoosemeta ={ baseClass: 'Remotable' }","Remotable.extend = extend;","Remotable.getContext = getContext;","// ** extend **","//","// This static method is used to create Angoose model or service classes.","// All classes created using this method is a subclass of `Remotable`","function extend(target, options){","    options = options||{};","    var parentClass = this;","    logger.trace(\"Extending from \",   parentClass._angoosemeta.name, options);","    var rv = null;","    if(typeof (target) == 'function'){","        rv = target;","        mixinInstance(parentClass, rv, options);","        ","        /**@todo: temp hack */","        bindMongooseMethods(rv);       ","    }","    else{ ","        /** schema object */ ","        rv = parentClass.$extend( target );","    }","   ","    /** mixin Angoose class level functions */       ","    rv = mixinStatic(parentClass, rv, options);   ","    if(rv._angoosemeta.name){","        /**  register it with Angoose */","       //require(\"./angoose\").registerClass(rv._angoosemeta.name, rv);","    }","    return rv;","}","function mixinInstance(parentClass, subClass, options){","    subClass.prototype.getContext = getContext;","    ","    /** look for static classes*/","   ","}","function mixinStatic(parentClass, subClass, options){","    /** mixin Angoose functions to the new class */","   /** if(subClass.extend || subClass.getContext ) throw \"Class already has 'extend' or 'getContext' property/method\" */","   ","    /** mixing static properties from parentClass to subClass */","    for(var prop in parentClass){","        var val = parentClass[prop];","        if(!parentClass.hasOwnProperty(prop) || typeof(val) != 'function') continue;","        if(isRemotableReserved(prop)) continue;","        if(subClass[prop]) {","            logger.warn(\"Cannot mixin subclass: property '\"+ prop+\"' already exists on subclass\");","            throw \"Subclass already has property '\"+ prop+\"' defined.\";","        }","        //logger.trace(\"Mixing: \", prop)","        subClass[prop] = val;","    }   ","    // subClass.extend = extend;","    // subClass.getContext = getContext;","    subClass._angoosemeta = _.extend({}, parentClass._angoosemeta);","    subClass._angoosemeta = _.extend(subClass._angoosemeta, options)","   ","    return subClass;","}","","","function isRemotableReserved(methodName){","    /** check if method is reserved by the Remotable interface */","  return methodName.indexOf(\"_\") == 0 || methodName.indexOf(\"$\") == 0 || ['constructor',   'isRemotableReserved'].indexOf(methodName)>=0;   ","}","/** a$ is Angoose's internal property*/","//Remotable.prototype._angoosemeta = {};","","Remotable.getContext = getContext;","Remotable.isRemotableReserved=isRemotableReserved;","","module.exports = Remotable","","","Remotable.mixin = function(opts, target){","    opts = opts || {};","    target.getSchema = getSchema;","    target._angoosemeta  = toolbox.merge(target._angoosemeta , opts);","    target._angoosemeta.baseClass = target._angoosemeta.baseClass || 'Service';","    target.getContext = getContext; //deprecated","    target.config = config;","    if(target._angoosemeta.baseClass == 'Model')","        bindMongooseMethods(target);","}","","function config(path, opts){","    var conf = this._angoosemeta;","    switch(arguments.length){","        case 0: return conf;","        case 1: return toolbox.getter(conf, path);","        case 2: toolbox.setter(conf, path, opts);","    }","    return this;        ","}","function getSchema(){","    var thisClass = this;","    var schema = {statics: {}, methods:{} };","    for(var name in thisClass){","        var val = thisClass[name];","        if( filter(name) ) continue;","        if(typeof (val) != 'function') continue;","        schema.statics[name] = val;","    }","    if(typeof(thisClass) == 'function'){","        schema.methods = _.extend({}, thisClass.prototype)","    }","    return schema;","}","","","function filter(methodName){","     if(Remotable.isRemotableReserved(methodName)) return true;","     if(['extend', 'getContext', 'getSchema','mixin','toJSON' ].indexOf(methodName)>=0) return true;","     return false;","}","","function bindMongooseMethods(modelClass){","    var staticMethods = \"populate,find,findOne,findById,findByIdAndRemove,findByIdAndUpdate,findOneAndRemove,findOneAndUpdate,update,remove,count,geoNear,geoSearch,aggregate\".split(\",\");","    _.each(staticMethods, function(method){ ","        var fn = modelClass[method];","        if( typeof(fn) == 'function'){","            modelClass[method] =  toolbox.bindCallback(modelClass, fn )","        }","    });","    var instanceMethods = \"save,remove,populate,update\".split(\",\");","    _.each(instanceMethods, function(method){ ","        var fn = modelClass.prototype[method];","        if( typeof(fn) == 'function'){","            modelClass.prototype[method] =  toolbox.bindCallback(null, fn )","        }","    }); ","}",""],"l":{"5":1,"6":1,"7":1,"9":1,"24":1,"25":0,"28":1,"29":1,"33":1,"34":1,"35":1,"40":1,"41":2,"42":2,"43":2,"44":2,"45":2,"46":0,"47":0,"50":0,"54":2,"58":2,"59":2,"63":2,"65":1,"66":0,"71":1,"76":2,"77":16,"78":16,"79":14,"80":6,"81":0,"82":0,"85":6,"89":2,"90":2,"92":2,"96":1,"98":14,"103":1,"104":1,"106":1,"109":1,"110":5,"111":5,"112":5,"113":5,"114":5,"115":5,"116":5,"117":0,"120":1,"121":0,"122":0,"123":0,"124":0,"125":0,"127":0,"129":1,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"138":0,"139":0,"141":0,"145":1,"146":0,"147":0,"148":0,"151":1,"152":0,"153":0,"154":0,"155":0,"156":0,"159":0,"160":0,"161":0,"162":0,"163":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/util/classy.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/util/classy.js","s":{"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":1,"8":1,"9":0,"10":1,"11":1,"12":1,"13":0,"14":0,"15":0,"16":1,"17":4,"18":1,"19":3,"20":3,"21":3,"22":3,"23":1,"24":1,"25":0,"26":0,"27":0,"28":0,"29":1,"30":1,"31":3,"32":3,"33":3,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":3,"41":3,"42":0,"43":0,"44":0,"45":0,"46":3,"47":4,"48":4,"49":0,"50":4,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":3,"58":2,"59":2,"60":0,"61":0,"62":0,"63":0,"64":0,"65":3,"66":0,"67":0,"68":0,"69":3,"70":3,"71":3,"72":3,"73":3,"74":1,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":1},"b":{"1":[1,0],"2":[1,1],"3":[0,0],"4":[0,0],"5":[1,1],"6":[0,0],"7":[4,0],"8":[0,3],"9":[0,0],"10":[3,3],"11":[0,3],"12":[0,0],"13":[0,4],"14":[4,4],"15":[0,4],"16":[4,1],"17":[2,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0]},"f":{"1":1,"2":1,"3":0,"4":1,"5":0,"6":4,"7":3,"8":1,"9":0,"10":3,"11":0,"12":0,"13":2,"14":0},"fnMap":{"1":{"name":"(anonymous_1)","line":7,"loc":{"start":{"line":7,"column":1},"end":{"line":7,"column":23}}},"2":{"name":"(anonymous_2)","line":11,"loc":{"start":{"line":11,"column":2},"end":{"line":11,"column":23}}},"3":{"name":"(anonymous_3)","line":22,"loc":{"start":{"line":22,"column":21},"end":{"line":22,"column":31}}},"4":{"name":"usesSuper","line":23,"loc":{"start":{"line":23,"column":2},"end":{"line":23,"column":26}}},"5":{"name":"setOrUnset","line":29,"loc":{"start":{"line":29,"column":2},"end":{"line":29,"column":39}}},"6":{"name":"getOwnProperty","line":37,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":37}}},"7":{"name":"cheapNew","line":43,"loc":{"start":{"line":43,"column":2},"end":{"line":43,"column":25}}},"8":{"name":"(anonymous_8)","line":51,"loc":{"start":{"line":51,"column":14},"end":{"line":51,"column":25}}},"9":{"name":"(anonymous_9)","line":56,"loc":{"start":{"line":56,"column":22},"end":{"line":56,"column":33}}},"10":{"name":"(anonymous_10)","line":71,"loc":{"start":{"line":71,"column":18},"end":{"line":71,"column":39}}},"11":{"name":"(anonymous_11)","line":107,"loc":{"start":{"line":107,"column":9},"end":{"line":107,"column":30}}},"12":{"name":"(anonymous_12)","line":108,"loc":{"start":{"line":108,"column":17},"end":{"line":108,"column":28}}},"13":{"name":"(anonymous_13)","line":122,"loc":{"start":{"line":122,"column":13},"end":{"line":122,"column":24}}},"14":{"name":"(anonymous_14)","line":149,"loc":{"start":{"line":149,"column":20},"end":{"line":149,"column":35}}}},"statementMap":{"1":{"start":{"line":7,"column":0},"end":{"line":161,"column":3}},"2":{"start":{"line":8,"column":2},"end":{"line":10,"column":32}},"3":{"start":{"line":8,"column":54},"end":{"line":8,"column":83}},"4":{"start":{"line":9,"column":7},"end":{"line":10,"column":32}},"5":{"start":{"line":9,"column":73},"end":{"line":9,"column":91}},"6":{"start":{"line":10,"column":7},"end":{"line":10,"column":32}},"7":{"start":{"line":12,"column":2},"end":{"line":16,"column":32}},"8":{"start":{"line":22,"column":2},"end":{"line":22,"column":77}},"9":{"start":{"line":22,"column":32},"end":{"line":22,"column":41}},"10":{"start":{"line":23,"column":2},"end":{"line":25,"column":3}},"11":{"start":{"line":24,"column":4},"end":{"line":24,"column":62}},"12":{"start":{"line":29,"column":2},"end":{"line":34,"column":3}},"13":{"start":{"line":30,"column":4},"end":{"line":33,"column":23}},"14":{"start":{"line":31,"column":6},"end":{"line":31,"column":22}},"15":{"start":{"line":33,"column":6},"end":{"line":33,"column":23}},"16":{"start":{"line":37,"column":2},"end":{"line":40,"column":3}},"17":{"start":{"line":38,"column":4},"end":{"line":39,"column":30}},"18":{"start":{"line":43,"column":2},"end":{"line":48,"column":3}},"19":{"start":{"line":44,"column":4},"end":{"line":44,"column":31}},"20":{"start":{"line":45,"column":4},"end":{"line":45,"column":21}},"21":{"start":{"line":46,"column":4},"end":{"line":46,"column":32}},"22":{"start":{"line":47,"column":4},"end":{"line":47,"column":14}},"23":{"start":{"line":51,"column":2},"end":{"line":51,"column":28}},"24":{"start":{"line":56,"column":2},"end":{"line":65,"column":4}},"25":{"start":{"line":57,"column":4},"end":{"line":63,"column":5}},"26":{"start":{"line":58,"column":6},"end":{"line":58,"column":40}},"27":{"start":{"line":62,"column":6},"end":{"line":62,"column":26}},"28":{"start":{"line":64,"column":4},"end":{"line":64,"column":17}},"29":{"start":{"line":68,"column":2},"end":{"line":68,"column":40}},"30":{"start":{"line":71,"column":2},"end":{"line":146,"column":4}},"31":{"start":{"line":72,"column":4},"end":{"line":72,"column":41}},"32":{"start":{"line":77,"column":4},"end":{"line":77,"column":35}},"33":{"start":{"line":80,"column":4},"end":{"line":88,"column":7}},"34":{"start":{"line":81,"column":6},"end":{"line":88,"column":7}},"35":{"start":{"line":82,"column":8},"end":{"line":82,"column":46}},"36":{"start":{"line":83,"column":8},"end":{"line":87,"column":9}},"37":{"start":{"line":84,"column":10},"end":{"line":84,"column":50}},"38":{"start":{"line":85,"column":10},"end":{"line":86,"column":42}},"39":{"start":{"line":86,"column":12},"end":{"line":86,"column":42}},"40":{"start":{"line":91,"column":4},"end":{"line":91,"column":62}},"41":{"start":{"line":92,"column":4},"end":{"line":97,"column":9}},"42":{"start":{"line":93,"column":6},"end":{"line":97,"column":9}},"43":{"start":{"line":94,"column":8},"end":{"line":97,"column":9}},"44":{"start":{"line":95,"column":10},"end":{"line":95,"column":67}},"45":{"start":{"line":96,"column":10},"end":{"line":96,"column":48}},"46":{"start":{"line":100,"column":4},"end":{"line":119,"column":5}},"47":{"start":{"line":101,"column":6},"end":{"line":101,"column":51}},"48":{"start":{"line":102,"column":6},"end":{"line":104,"column":17}},"49":{"start":{"line":104,"column":8},"end":{"line":104,"column":17}},"50":{"start":{"line":106,"column":6},"end":{"line":118,"column":31}},"51":{"start":{"line":108,"column":10},"end":{"line":117,"column":12}},"52":{"start":{"line":109,"column":12},"end":{"line":109,"column":59}},"53":{"start":{"line":110,"column":12},"end":{"line":110,"column":48}},"54":{"start":{"line":111,"column":12},"end":{"line":116,"column":13}},"55":{"start":{"line":112,"column":14},"end":{"line":112,"column":49}},"56":{"start":{"line":115,"column":14},"end":{"line":115,"column":52}},"57":{"start":{"line":122,"column":4},"end":{"line":130,"column":5}},"58":{"start":{"line":123,"column":6},"end":{"line":124,"column":15}},"59":{"start":{"line":124,"column":8},"end":{"line":124,"column":15}},"60":{"start":{"line":125,"column":6},"end":{"line":125,"column":77}},"61":{"start":{"line":126,"column":6},"end":{"line":127,"column":59}},"62":{"start":{"line":127,"column":8},"end":{"line":127,"column":59}},"63":{"start":{"line":128,"column":6},"end":{"line":128,"column":30}},"64":{"start":{"line":129,"column":6},"end":{"line":129,"column":25}},"65":{"start":{"line":133,"column":4},"end":{"line":137,"column":5}},"66":{"start":{"line":134,"column":6},"end":{"line":134,"column":64}},"67":{"start":{"line":135,"column":6},"end":{"line":136,"column":24}},"68":{"start":{"line":136,"column":8},"end":{"line":136,"column":24}},"69":{"start":{"line":141,"column":4},"end":{"line":141,"column":29}},"70":{"start":{"line":142,"column":4},"end":{"line":142,"column":24}},"71":{"start":{"line":143,"column":4},"end":{"line":143,"column":31}},"72":{"start":{"line":144,"column":4},"end":{"line":144,"column":35}},"73":{"start":{"line":145,"column":4},"end":{"line":145,"column":14}},"74":{"start":{"line":149,"column":2},"end":{"line":157,"column":4}},"75":{"start":{"line":150,"column":4},"end":{"line":150,"column":28}},"76":{"start":{"line":151,"column":4},"end":{"line":155,"column":5}},"77":{"start":{"line":152,"column":6},"end":{"line":152,"column":44}},"78":{"start":{"line":153,"column":6},"end":{"line":154,"column":24}},"79":{"start":{"line":154,"column":8},"end":{"line":154,"column":24}},"80":{"start":{"line":156,"column":4},"end":{"line":156,"column":14}},"81":{"start":{"line":160,"column":2},"end":{"line":160,"column":15}}},"branchMap":{"1":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":2},"end":{"line":8,"column":2}},{"start":{"line":8,"column":2},"end":{"line":8,"column":2}}]},"2":{"line":8,"type":"binary-expr","locations":[{"start":{"line":8,"column":6},"end":{"line":8,"column":34}},{"start":{"line":8,"column":38},"end":{"line":8,"column":52}}]},"3":{"line":9,"type":"if","locations":[{"start":{"line":9,"column":7},"end":{"line":9,"column":7}},{"start":{"line":9,"column":7},"end":{"line":9,"column":7}}]},"4":{"line":9,"type":"binary-expr","locations":[{"start":{"line":9,"column":11},"end":{"line":9,"column":38}},{"start":{"line":9,"column":42},"end":{"line":9,"column":71}}]},"5":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":11},"end":{"line":24,"column":23}},{"start":{"line":24,"column":27},"end":{"line":24,"column":61}}]},"6":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":4},"end":{"line":30,"column":4}},{"start":{"line":30,"column":4},"end":{"line":30,"column":4}}]},"7":{"line":38,"type":"cond-expr","locations":[{"start":{"line":39,"column":8},"end":{"line":39,"column":17}},{"start":{"line":39,"column":20},"end":{"line":39,"column":29}}]},"8":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":4},"end":{"line":80,"column":4}},{"start":{"line":80,"column":4},"end":{"line":80,"column":4}}]},"9":{"line":85,"type":"if","locations":[{"start":{"line":85,"column":10},"end":{"line":85,"column":10}},{"start":{"line":85,"column":10},"end":{"line":85,"column":10}}]},"10":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":31},"end":{"line":91,"column":55}},{"start":{"line":91,"column":59},"end":{"line":91,"column":61}}]},"11":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":4},"end":{"line":92,"column":4}},{"start":{"line":92,"column":4},"end":{"line":92,"column":4}}]},"12":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":8},"end":{"line":94,"column":8}},{"start":{"line":94,"column":8},"end":{"line":94,"column":8}}]},"13":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":6},"end":{"line":102,"column":6}},{"start":{"line":102,"column":6},"end":{"line":102,"column":6}}]},"14":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":10},"end":{"line":102,"column":32}},{"start":{"line":103,"column":10},"end":{"line":103,"column":29}}]},"15":{"line":106,"type":"cond-expr","locations":[{"start":{"line":107,"column":8},"end":{"line":118,"column":23}},{"start":{"line":118,"column":26},"end":{"line":118,"column":31}}]},"16":{"line":106,"type":"binary-expr","locations":[{"start":{"line":106,"column":24},"end":{"line":106,"column":51}},{"start":{"line":106,"column":55},"end":{"line":106,"column":71}}]},"17":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":6},"end":{"line":123,"column":6}},{"start":{"line":123,"column":6},"end":{"line":123,"column":6}}]},"18":{"line":125,"type":"cond-expr","locations":[{"start":{"line":125,"column":43},"end":{"line":125,"column":69}},{"start":{"line":125,"column":72},"end":{"line":125,"column":76}}]},"19":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":6},"end":{"line":126,"column":6}},{"start":{"line":126,"column":6},"end":{"line":126,"column":6}}]},"20":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":6},"end":{"line":135,"column":6}},{"start":{"line":135,"column":6},"end":{"line":135,"column":6}}]},"21":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":6},"end":{"line":153,"column":6}},{"start":{"line":153,"column":6},"end":{"line":153,"column":6}}]}},"code":["/**"," * Classy - classy classes for JavaScript.  Docs: http://classy.pocoo.org/"," *"," * :copyright: (c) 2011 by Armin Ronacher. "," * :license: BSD."," */","!function (definition) {","  if (typeof module != 'undefined' && module.exports) module.exports = definition()","  else if (typeof define == 'function' && typeof define.amd == 'object') define(definition)","  else this.Class = definition()","}(function (undefined) {","  var","    CLASSY_VERSION = '1.4',","    context = this,","    old = context.Class,","    disable_constructor = false;","","  /* we check if $super is in use by a class if we can.  But first we have to","     check if the JavaScript interpreter supports that.  This also matches","     to false positives later, but that does not do any harm besides slightly","     slowing calls down. */","  var probe_super = (function(){$super();}).toString().indexOf('$super') > 0;","  function usesSuper(obj) {","    return !probe_super || /\\B\\$super\\b/.test(obj.toString());","  }","","  /* helper function to set the attribute of something to a value or","     removes it if the value is undefined. */","  function setOrUnset(obj, key, value) {","    if (value === undefined)","      delete obj[key];","    else","      obj[key] = value;","  }","","  /* gets the own property of an object */","  function getOwnProperty(obj, name) {","    return Object.prototype.hasOwnProperty.call(obj, name)","      ? obj[name] : undefined;","  }","","  /* instanciate a class without calling the constructor */","  function cheapNew(cls) {","    disable_constructor = true;","    var rv = new cls;","    disable_constructor = false;","    return rv;","  }","","  /* the base class we export */","  var Class = function() {};","","  /* restore the global Class name and pass it to a function.  This allows","     different versions of the classy library to be used side by side and","     in combination with other libraries. */","  Class.$noConflict = function() {","    try {","      setOrUnset(context, 'Class', old);","    }","    catch (e) {","      // fix for IE that does not support delete on window","      context.Class = old;","    }","    return Class;","  };","","  /* what version of classy are we using? */","  Class.$classyVersion = CLASSY_VERSION;","","  /* extend functionality */","  Class.$extend = function(properties) {","    var super_prototype = this.prototype;","","    /* disable constructors and instanciate prototype.  Because the","       prototype can't raise an exception when created, we are safe","       without a try/finally here. */","    var prototype = cheapNew(this);","","    /* copy all properties of the includes over if there are any */","    if (properties.__include__)","      for (var i = 0, n = properties.__include__.length; i != n; ++i) {","        var mixin = properties.__include__[i];","        for (var name in mixin) {","          var value = getOwnProperty(mixin, name);","          if (value !== undefined)","            prototype[name] = mixin[name];","        }","      }"," ","    /* copy class vars from the superclass */","    properties.__classvars__ = properties.__classvars__ || {};","    if (prototype.__classvars__)","      for (var key in prototype.__classvars__)","        if (!properties.__classvars__[key]) {","          var value = getOwnProperty(prototype.__classvars__, key);","          properties.__classvars__[key] = value;","        }","","    /* copy all properties over to the new prototype */","    for (var name in properties) {","      var value = getOwnProperty(properties, name);","      if (name === '__include__' ||","          value === undefined)","        continue;","","      prototype[name] = typeof value === 'function' && usesSuper(value) ?","        (function(meth, name) {","          return function() {","            var old_super = getOwnProperty(this, '$super');","            this.$super = super_prototype[name];","            try {","              return meth.apply(this, arguments);","            }","            finally {","              setOrUnset(this, '$super', old_super);","            }","          };","        })(value, name) : value","    }","","    /* dummy constructor */","    var rv = function() {","      if (disable_constructor)","        return;","      var proper_this = context === this ? cheapNew(arguments.callee) : this;","      if (proper_this.__init__)","        proper_this.__init__.apply(proper_this, arguments);","      proper_this.$class = rv;","      return proper_this;","    }","","    /* copy all class vars over of any */","    for (var key in properties.__classvars__) {","      var value = getOwnProperty(properties.__classvars__, key);","      if (value !== undefined)","        rv[key] = value;","    }","","    /* copy prototype and constructor over, reattach $extend and","       return the class */","    rv.prototype = prototype;","    rv.constructor = rv;","    rv.$extend = Class.$extend;","    rv.$withData = Class.$withData;","    return rv;","  };","","  /* instanciate with data functionality */","  Class.$withData = function(data) {","    var rv = cheapNew(this);","    for (var key in data) {","      var value = getOwnProperty(data, key);","      if (value !== undefined)","        rv[key] = value;","    }","    return rv;","  };","","  /* export the class */","  return Class;","});"],"l":{"7":1,"8":1,"9":0,"10":0,"12":1,"22":1,"23":1,"24":1,"29":1,"30":0,"31":0,"33":0,"37":1,"38":4,"43":1,"44":3,"45":3,"46":3,"47":3,"51":1,"56":1,"57":0,"58":0,"62":0,"64":0,"68":1,"71":1,"72":3,"77":3,"80":3,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"91":3,"92":3,"93":0,"94":0,"95":0,"96":0,"100":3,"101":4,"102":4,"104":0,"106":4,"108":0,"109":0,"110":0,"111":0,"112":0,"115":0,"122":3,"123":2,"124":2,"125":0,"126":0,"127":0,"128":0,"129":0,"133":3,"134":0,"135":0,"136":0,"141":3,"142":3,"143":3,"144":3,"145":3,"149":1,"150":0,"151":0,"152":0,"153":0,"154":0,"156":0,"160":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Model.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Model.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":30,"loc":{"start":{"line":30,"column":18},"end":{"line":30,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":52}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"4":{"start":{"line":28,"column":0},"end":{"line":28,"column":55}},"5":{"start":{"line":30,"column":0},"end":{"line":32,"column":1}},"6":{"start":{"line":31,"column":4},"end":{"line":31,"column":23}},"7":{"start":{"line":38,"column":0},"end":{"line":38,"column":23}}},"branchMap":{},"code":["var logger = require(\"log4js\").getLogger(\"angoose\");","var _ =require(\"underscore\");","var Remotable = require(\"./Remotable\")","","// ## angoose.MODEL","// Model is one of two main artifacts in Angoose. Model classes define the data schema ","// as well as CRUD operations and other related functions. ","//","// Angoose Model is built on top of Mongoose model and adds a few capabilities to allow","// the remote invocation. To create a Model class, simply define a regular Mongoose model schema","// and export the Mongoose model class like below:  ","//  ","//","//      var mongoose = require('mongoose');","//      var SampleSchema = mongoose.Schema({","//          email:  {type: String, required: true},","//          firstname: {type: String, required:true },","//          lastname: {type: String, required:true },","//      })","//      module.exports = mongoose.model('SampleUser', SampleSchema);","//","//","// Requirements for creating models:","// - Model/schema file must be located under one of the `modelDir` directories.","// - Each file defines one model","// - `module.exports` must be set to the return value of `mongoose.model('name', schema)` call.","","var Model = Remotable.extend({}, {baseClass: 'Model'});","","Model.getSchema = function(){","    return this.schema;","}","","// ### API References","//",""," ","module.exports = Model;","// ","// function getData(doc, path){","    // if(!path || !doc) return undefined;","     // var   pieces = path.split('.');","      // var obj = doc;","      // for (var i = 0, l = pieces.length; i < l; i++) {","        // obj = undefined === obj || null === obj","          // ? undefined","          // : obj[pieces[i]];","      // }","      // return obj;","// }","// ","// function setData(doc, path, val){","    // if(!path || !doc ) return;","     // var   pieces = path.split('.');","      // var obj = doc;","      // for (var i = 0, len = pieces.length; i < len; i++) {","          // if(i+1  == len ) // last one","          // {","              // obj[ pieces[i]] = val;","              // return;","          // }","          // obj[pieces[i]] = obj[pieces[i]] || {};","          // obj = obj[pieces[i]] || {};","      // }","// }"],"l":{"1":1,"2":1,"3":1,"28":1,"30":1,"31":0,"38":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Service.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/Service.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":23,"loc":{"start":{"line":23,"column":12},"end":{"line":23,"column":22}}},"2":{"name":"(anonymous_2)","line":29,"loc":{"start":{"line":29,"column":20},"end":{"line":29,"column":30}}},"3":{"name":"filter","line":53,"loc":{"start":{"line":53,"column":0},"end":{"line":53,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":52}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":29}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":38}},"4":{"start":{"line":22,"column":0},"end":{"line":26,"column":1}},"5":{"start":{"line":24,"column":8},"end":{"line":24,"column":18}},"6":{"start":{"line":27,"column":0},"end":{"line":27,"column":67}},"7":{"start":{"line":29,"column":0},"end":{"line":51,"column":1}},"8":{"start":{"line":30,"column":4},"end":{"line":30,"column":25}},"9":{"start":{"line":31,"column":4},"end":{"line":31,"column":32}},"10":{"start":{"line":33,"column":4},"end":{"line":33,"column":54}},"11":{"start":{"line":35,"column":4},"end":{"line":41,"column":5}},"12":{"start":{"line":36,"column":8},"end":{"line":36,"column":36}},"13":{"start":{"line":36,"column":27},"end":{"line":36,"column":36}},"14":{"start":{"line":37,"column":8},"end":{"line":37,"column":63}},"15":{"start":{"line":37,"column":54},"end":{"line":37,"column":63}},"16":{"start":{"line":38,"column":8},"end":{"line":38,"column":44}},"17":{"start":{"line":39,"column":8},"end":{"line":39,"column":45}},"18":{"start":{"line":39,"column":36},"end":{"line":39,"column":45}},"19":{"start":{"line":40,"column":8},"end":{"line":40,"column":35}},"20":{"start":{"line":43,"column":4},"end":{"line":49,"column":5}},"21":{"start":{"line":44,"column":8},"end":{"line":44,"column":53}},"22":{"start":{"line":44,"column":44},"end":{"line":44,"column":53}},"23":{"start":{"line":45,"column":8},"end":{"line":45,"column":34}},"24":{"start":{"line":46,"column":8},"end":{"line":46,"column":36}},"25":{"start":{"line":46,"column":27},"end":{"line":46,"column":36}},"26":{"start":{"line":47,"column":8},"end":{"line":47,"column":48}},"27":{"start":{"line":47,"column":39},"end":{"line":47,"column":48}},"28":{"start":{"line":48,"column":8},"end":{"line":48,"column":35}},"29":{"start":{"line":50,"column":4},"end":{"line":50,"column":18}},"30":{"start":{"line":53,"column":0},"end":{"line":57,"column":1}},"31":{"start":{"line":54,"column":5},"end":{"line":54,"column":63}},"32":{"start":{"line":54,"column":51},"end":{"line":54,"column":63}},"33":{"start":{"line":55,"column":5},"end":{"line":55,"column":92}},"34":{"start":{"line":55,"column":80},"end":{"line":55,"column":92}},"35":{"start":{"line":56,"column":5},"end":{"line":56,"column":18}},"36":{"start":{"line":58,"column":0},"end":{"line":58,"column":25}}},"branchMap":{"1":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":8},"end":{"line":36,"column":8}},{"start":{"line":36,"column":8},"end":{"line":36,"column":8}}]},"2":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":8},"end":{"line":37,"column":8}},{"start":{"line":37,"column":8},"end":{"line":37,"column":8}}]},"3":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":8},"end":{"line":39,"column":8}},{"start":{"line":39,"column":8},"end":{"line":39,"column":8}}]},"4":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":8},"end":{"line":44,"column":8}},{"start":{"line":44,"column":8},"end":{"line":44,"column":8}}]},"5":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]},"6":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":47,"column":8}},{"start":{"line":47,"column":8},"end":{"line":47,"column":8}}]},"7":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":5},"end":{"line":54,"column":5}},{"start":{"line":54,"column":5},"end":{"line":54,"column":5}}]},"8":{"line":55,"type":"if","locations":[{"start":{"line":55,"column":5},"end":{"line":55,"column":5}},{"start":{"line":55,"column":5},"end":{"line":55,"column":5}}]}},"code":["var logger = require(\"log4js\").getLogger(\"angoose\");","var _ =require(\"underscore\");","var Remotable = require(\"./Remotable\")","","// ## angoose.Service","// Service is one of two main artifacts in Angoose. Service classes are used to define business operations that ","// are not necessarily tied to database models.","// ","// To create an angoose Service, you just need to extend from this class:","//","//      var angoose = require(\"angoose\");","//      var service = {","//          geoEncode: function(stringAddress){","//                  /** call google API */","//                  return coordinates","//          }    ","//      }","//      module.export = angoose.service('GeoService', service);","//","// The Service class file must be located under one of the `modelDir` or `serviceDir` directories.","//","var serviceProto = {","    toJSON: function(){","        return {};","    }","}","var Service = Remotable.extend(serviceProto,{baseClass:'Service'});","","Service.getSchema = function(){","    var thisClass = this;","    var schema = {statics: {} };","    ","    schema.methods = _.extend({}, thisClass.prototype)","    ","    for(var name in thisClass.prototype){","        if( filter(name) ) continue;","        if(!thisClass.prototype.hasOwnProperty(name)) continue;","        var val = thisClass.prototype[name];","        if(typeof(val)!='function') continue;","        schema.methods[name] = val;   ","    }","    ","    for(var name in thisClass){","        if(!thisClass.hasOwnProperty(name)) continue;","        var val = thisClass[name];","        if( filter(name) ) continue;","        if(typeof (val) != 'function') continue;","        schema.statics[name] = val;","    }","    return schema;","}","","function filter(methodName){","     if(Remotable.isRemotableReserved(methodName)) return true;","     if(['extend', 'getContext', 'getSchema','toJSON' ].indexOf(methodName)>=0) return true;","     return false;","}","module.exports = Service;"],"l":{"1":1,"2":1,"3":1,"22":1,"24":0,"27":1,"29":1,"30":0,"31":0,"33":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"50":0,"53":1,"54":0,"55":0,"56":0,"58":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/angoose-client-generated.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/angoose-client-generated.js","s":{"1":2,"2":1,"3":2,"4":0,"5":2,"6":2,"7":2,"8":0,"9":2,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":2,"23":0,"24":0,"25":0,"26":0,"27":0,"28":2,"29":0,"30":0,"31":0,"32":1,"33":0,"34":1,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":1,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":1,"118":0,"119":0,"120":0,"121":0,"122":1,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":1,"132":0,"133":0,"134":0,"135":1,"136":0,"137":1,"138":0,"139":2,"140":2,"141":2,"142":2,"143":2,"144":2,"145":2,"146":1,"147":0,"148":2,"149":2,"150":2,"151":2,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":1,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":1,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":1,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":1,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":1,"207":0,"208":2,"209":2,"210":0,"211":2,"212":2,"213":0,"214":0,"215":0,"216":0,"217":0,"218":1,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":1,"229":0,"230":1,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":1,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":0,"292":0,"293":0,"294":0,"295":0,"296":1,"297":0,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"324":0,"325":1,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":0,"333":0,"334":0,"335":0,"336":1,"337":0,"338":1,"339":0,"340":0,"341":0,"342":0,"343":0,"344":0,"345":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":1,"352":0,"353":0,"354":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":1,"361":0,"362":0,"363":0,"364":0,"365":0,"366":0,"367":0,"368":1,"369":0,"370":1,"371":0,"372":0,"373":0,"374":0,"375":0,"376":0,"377":0,"378":0,"379":0,"380":1,"381":0,"382":0,"383":0,"384":0,"385":0,"386":0,"387":1,"388":0,"389":0,"390":0,"391":0,"392":0,"393":0,"394":0,"395":0,"396":0,"397":0,"398":0,"399":1,"400":0,"401":0,"402":0,"403":0,"404":1,"405":0,"406":0,"407":0,"408":0,"409":0,"410":0,"411":0,"412":0,"413":0,"414":1,"415":0,"416":0,"417":0,"418":0,"419":0,"420":0,"421":0,"422":0,"423":0,"424":0,"425":0,"426":0,"427":0,"428":0,"429":0,"430":0,"431":0,"432":0,"433":0,"434":0,"435":0,"436":0,"437":0,"438":0,"439":0,"440":0,"441":1,"442":0,"443":0,"444":0,"445":0,"446":0,"447":0,"448":0,"449":0,"450":0,"451":0,"452":0,"453":0,"454":0,"455":0,"456":0,"457":0,"458":0,"459":0,"460":0,"461":0,"462":0,"463":0,"464":0,"465":0,"466":0,"467":0,"468":0,"469":0,"470":0,"471":0,"472":0,"473":0,"474":0,"475":0,"476":0,"477":0,"478":1,"479":0,"480":0,"481":0,"482":0,"483":0,"484":0,"485":0,"486":0,"487":0,"488":0,"489":0,"490":0,"491":0,"492":0,"493":0,"494":0,"495":0,"496":0,"497":0,"498":1,"499":0,"500":0,"501":0,"502":0,"503":0,"504":0,"505":1,"506":0,"507":0,"508":0,"509":0,"510":0,"511":0,"512":0,"513":0,"514":0,"515":0,"516":0,"517":0,"518":0,"519":0,"520":0,"521":0,"522":0,"523":0,"524":0,"525":0,"526":0,"527":0,"528":0,"529":0,"530":0,"531":0,"532":0,"533":0,"534":0,"535":0,"536":0,"537":0,"538":0,"539":1,"540":0,"541":0,"542":0,"543":1,"544":0,"545":0,"546":0,"547":0,"548":0,"549":0,"550":1,"551":0,"552":0,"553":0,"554":0,"555":0,"556":0,"557":0,"558":0,"559":0,"560":0,"561":0,"562":0,"563":0,"564":0,"565":0,"566":0,"567":0,"568":0,"569":0,"570":0,"571":0,"572":0,"573":0,"574":0,"575":1,"576":0,"577":0,"578":0,"579":0,"580":0,"581":0,"582":0,"583":0,"584":0,"585":0,"586":0,"587":0,"588":1,"589":0,"590":0,"591":0,"592":0,"593":0,"594":0,"595":1,"596":0,"597":0,"598":1,"599":0,"600":0,"601":1,"602":0,"603":0,"604":0,"605":0,"606":1,"607":0,"608":0,"609":0,"610":0,"611":1,"612":0,"613":0,"614":0,"615":0,"616":0,"617":0,"618":0,"619":1,"620":0,"621":0,"622":0,"623":1,"624":0,"625":0,"626":0,"627":1,"628":0,"629":0,"630":0,"631":0,"632":0,"633":0,"634":0,"635":1,"636":0,"637":0,"638":0,"639":0,"640":0,"641":0,"642":0,"643":1,"644":0,"645":0,"646":0,"647":0,"648":0,"649":0,"650":0,"651":0,"652":0,"653":0,"654":0,"655":0,"656":0,"657":0,"658":0,"659":0,"660":1,"661":0,"662":0,"663":0,"664":0,"665":0,"666":0,"667":0,"668":0,"669":0,"670":1,"671":0,"672":0,"673":0,"674":0,"675":0,"676":0,"677":0,"678":0,"679":0,"680":0,"681":0,"682":1,"683":0,"684":0,"685":0,"686":0,"687":0,"688":0,"689":0,"690":1,"691":0,"692":0,"693":0,"694":0,"695":1,"696":0,"697":0,"698":0,"699":0,"700":0,"701":1,"702":0,"703":1,"704":0,"705":0,"706":0,"707":0,"708":0,"709":0,"710":0,"711":0,"712":0,"713":0,"714":0,"715":0,"716":0,"717":0,"718":0,"719":0,"720":0,"721":0,"722":0,"723":1,"724":0,"725":0,"726":1,"727":0,"728":0,"729":1,"730":0,"731":0,"732":0,"733":0,"734":1,"735":0,"736":0,"737":0,"738":0,"739":0,"740":0,"741":0,"742":0,"743":0,"744":0,"745":0,"746":0,"747":0,"748":0,"749":0,"750":0,"751":0,"752":0,"753":0,"754":0,"755":0,"756":0,"757":0,"758":0,"759":0,"760":0,"761":0,"762":0,"763":0,"764":0,"765":0,"766":0,"767":0,"768":0,"769":0,"770":0,"771":0,"772":0,"773":0,"774":0,"775":0,"776":0,"777":0,"778":0,"779":0,"780":0,"781":0,"782":0,"783":0,"784":0,"785":1,"786":0,"787":0,"788":0,"789":0,"790":0,"791":0,"792":0,"793":0,"794":0,"795":0,"796":0,"797":0,"798":0,"799":0,"800":0,"801":0,"802":0,"803":0,"804":0,"805":1,"806":0,"807":0,"808":0,"809":0,"810":0,"811":0,"812":0,"813":0,"814":1,"815":0,"816":0,"817":0,"818":0,"819":0,"820":1,"821":0,"822":0,"823":0,"824":0,"825":0,"826":0,"827":0,"828":1,"829":0,"830":0,"831":0,"832":0,"833":0,"834":0,"835":0,"836":0,"837":0,"838":0,"839":0,"840":0,"841":0,"842":0,"843":0,"844":0,"845":0,"846":0,"847":0,"848":0,"849":0,"850":0,"851":0,"852":0,"853":0,"854":0,"855":0,"856":0,"857":0,"858":0,"859":0,"860":0,"861":0,"862":0,"863":0,"864":0,"865":0,"866":0,"867":0,"868":0,"869":0,"870":0,"871":0,"872":0,"873":0,"874":0,"875":0,"876":0,"877":0,"878":0,"879":0,"880":0,"881":0,"882":0,"883":0,"884":0,"885":0,"886":0,"887":0,"888":0,"889":0,"890":0,"891":0,"892":0,"893":0,"894":0,"895":0,"896":0,"897":0,"898":0,"899":0,"900":0,"901":0,"902":0,"903":0,"904":0,"905":0,"906":0,"907":0,"908":0,"909":0,"910":0,"911":0,"912":1,"913":0,"914":0,"915":0,"916":0,"917":0,"918":0,"919":0,"920":0,"921":0,"922":0,"923":0,"924":0,"925":0,"926":0,"927":0,"928":0,"929":0,"930":0,"931":0,"932":0,"933":0,"934":0,"935":0,"936":0,"937":0,"938":0,"939":0,"940":0,"941":1,"942":0,"943":0,"944":0,"945":0,"946":0,"947":0,"948":0,"949":0,"950":0,"951":0,"952":0,"953":2,"954":2,"955":0,"956":2,"957":2,"958":2,"959":1,"960":0,"961":0,"962":0,"963":0,"964":0,"965":0,"966":0,"967":0,"968":0,"969":0,"970":0,"971":0,"972":0,"973":0,"974":0,"975":0,"976":0,"977":0,"978":0,"979":0,"980":0,"981":0,"982":0,"983":1,"984":2,"985":0,"986":0,"987":0,"988":0,"989":0,"990":0,"991":0,"992":0,"993":0,"994":0,"995":0,"996":0,"997":0,"998":0,"999":0,"1000":0,"1001":0,"1002":0,"1003":0,"1004":0},"b":{"1":[0,2],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0,0,0],"19":[0,0],"20":[0,0],"21":[0,0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[2,0],"40":[2,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,2],"46":[2,0],"47":[2,2],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0,0,0,0,0],"77":[0,0],"78":[0,0],"79":[0,0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0],"84":[0,0],"85":[0,0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0],"97":[0,0],"98":[0,0],"99":[0,0],"100":[0,0],"101":[0,0],"102":[0,0],"103":[0,0],"104":[0,0],"105":[0,0],"106":[0,0],"107":[0,0],"108":[0,0],"109":[0,0],"110":[0,0],"111":[0,0],"112":[0,0],"113":[0,0],"114":[0,0],"115":[0,0],"116":[0,0],"117":[0,0],"118":[0,0],"119":[0,0],"120":[0,0],"121":[0,0],"122":[0,0],"123":[0,0],"124":[0,0],"125":[0,0],"126":[0,0,0],"127":[0,0],"128":[0,0],"129":[0,0],"130":[0,0],"131":[0,0],"132":[0,0,0],"133":[0,0],"134":[0,0],"135":[0,0],"136":[0,0],"137":[0,0],"138":[0,0],"139":[0,0],"140":[0,0],"141":[0,0],"142":[0,0],"143":[0,0],"144":[0,0],"145":[0,0],"146":[0,0],"147":[0,0],"148":[0,0],"149":[0,0],"150":[0,0],"151":[0,0],"152":[0,0],"153":[0,0],"154":[0,0],"155":[0,0],"156":[0,0,0],"157":[0,0],"158":[0,0,0],"159":[0,0],"160":[0,0],"161":[0,0],"162":[0,0],"163":[0,2],"164":[2,2],"165":[0,0],"166":[0,0],"167":[0,0],"168":[0,0],"169":[0,0]},"f":{"1":0,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":2,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":2,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":2,"259":0,"260":0,"261":0,"262":0,"263":0,"264":2,"265":0,"266":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":20},"end":{"line":3,"column":31}}},"2":{"name":"BootstrapAngoose","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":27}}},"3":{"name":"(anonymous_3)","line":6,"loc":{"start":{"line":6,"column":29},"end":{"line":6,"column":39}}},"4":{"name":"(anonymous_4)","line":20,"loc":{"start":{"line":20,"column":22},"end":{"line":20,"column":33}}},"5":{"name":"(anonymous_5)","line":23,"loc":{"start":{"line":23,"column":18},"end":{"line":23,"column":31}}},"6":{"name":"(anonymous_6)","line":43,"loc":{"start":{"line":43,"column":17},"end":{"line":43,"column":33}}},"7":{"name":"(anonymous_7)","line":55,"loc":{"start":{"line":55,"column":23},"end":{"line":55,"column":66}}},"8":{"name":"staticInvoker","line":60,"loc":{"start":{"line":60,"column":4},"end":{"line":60,"column":63}}},"9":{"name":"instanceInvoker","line":64,"loc":{"start":{"line":64,"column":4},"end":{"line":64,"column":72}}},"10":{"name":"invoker","line":68,"loc":{"start":{"line":68,"column":4},"end":{"line":68,"column":72}}},"11":{"name":"(anonymous_11)","line":103,"loc":{"start":{"line":103,"column":17},"end":{"line":103,"column":35}}},"12":{"name":"(anonymous_12)","line":133,"loc":{"start":{"line":133,"column":11},"end":{"line":133,"column":29}}},"13":{"name":"createProxy","line":143,"loc":{"start":{"line":143,"column":4},"end":{"line":143,"column":58}}},"14":{"name":"proxy","line":150,"loc":{"start":{"line":150,"column":19},"end":{"line":150,"column":35}}},"15":{"name":"proxy","line":155,"loc":{"start":{"line":155,"column":19},"end":{"line":155,"column":35}}},"16":{"name":"compile","line":162,"loc":{"start":{"line":162,"column":4},"end":{"line":162,"column":54}}},"17":{"name":"AngooseModule","line":164,"loc":{"start":{"line":164,"column":20},"end":{"line":164,"column":49}}},"18":{"name":"(anonymous_18)","line":190,"loc":{"start":{"line":190,"column":36},"end":{"line":190,"column":53}}},"19":{"name":"modelNames","line":203,"loc":{"start":{"line":203,"column":4},"end":{"line":203,"column":26}}},"20":{"name":"init","line":211,"loc":{"start":{"line":211,"column":4},"end":{"line":211,"column":32}}},"21":{"name":"getClass","line":223,"loc":{"start":{"line":223,"column":4},"end":{"line":223,"column":28}}},"22":{"name":"getConfigs","line":228,"loc":{"start":{"line":228,"column":4},"end":{"line":228,"column":26}}},"23":{"name":"getSchemas","line":229,"loc":{"start":{"line":229,"column":4},"end":{"line":229,"column":26}}},"24":{"name":"angoose","line":616,"loc":{"start":{"line":616,"column":4},"end":{"line":616,"column":26}}},"25":{"name":"(anonymous_25)","line":630,"loc":{"start":{"line":630,"column":1},"end":{"line":630,"column":11}}},"26":{"name":"(anonymous_26)","line":643,"loc":{"start":{"line":643,"column":37},"end":{"line":643,"column":56}}},"27":{"name":"factoryFunc","line":651,"loc":{"start":{"line":651,"column":4},"end":{"line":651,"column":35}}},"28":{"name":"(anonymous_28)","line":653,"loc":{"start":{"line":653,"column":42},"end":{"line":653,"column":92}}},"29":{"name":"addDoneMethod","line":661,"loc":{"start":{"line":661,"column":4},"end":{"line":661,"column":30}}},"30":{"name":"(anonymous_30)","line":663,"loc":{"start":{"line":663,"column":20},"end":{"line":663,"column":30}}},"31":{"name":"(anonymous_31)","line":666,"loc":{"start":{"line":666,"column":31},"end":{"line":666,"column":71}}},"32":{"name":"angularHttpWrapper","line":673,"loc":{"start":{"line":673,"column":4},"end":{"line":673,"column":42}}},"33":{"name":"(anonymous_33)","line":675,"loc":{"start":{"line":675,"column":19},"end":{"line":675,"column":29}}},"34":{"name":"(anonymous_34)","line":677,"loc":{"start":{"line":677,"column":55},"end":{"line":677,"column":69}}},"35":{"name":"(anonymous_35)","line":679,"loc":{"start":{"line":679,"column":21},"end":{"line":679,"column":34}}},"36":{"name":"resourceAdapt","line":686,"loc":{"start":{"line":686,"column":4},"end":{"line":686,"column":60}}},"37":{"name":"(anonymous_37)","line":688,"loc":{"start":{"line":688,"column":25},"end":{"line":688,"column":35}}},"38":{"name":"(anonymous_38)","line":691,"loc":{"start":{"line":691,"column":65},"end":{"line":691,"column":81}}},"39":{"name":"(anonymous_39)","line":696,"loc":{"start":{"line":696,"column":15},"end":{"line":696,"column":28}}},"40":{"name":"(anonymous_40)","line":702,"loc":{"start":{"line":702,"column":26},"end":{"line":702,"column":36}}},"41":{"name":"(anonymous_41)","line":705,"loc":{"start":{"line":705,"column":62},"end":{"line":705,"column":81}}},"42":{"name":"(anonymous_42)","line":712,"loc":{"start":{"line":712,"column":15},"end":{"line":712,"column":28}}},"43":{"name":"$anget","line":721,"loc":{"start":{"line":721,"column":0},"end":{"line":721,"column":28}}},"44":{"name":"(anonymous_44)","line":725,"loc":{"start":{"line":725,"column":1},"end":{"line":725,"column":11}}},"45":{"name":"ajaxHttpWrapper","line":737,"loc":{"start":{"line":737,"column":5},"end":{"line":737,"column":32}}},"46":{"name":"(anonymous_46)","line":739,"loc":{"start":{"line":739,"column":19},"end":{"line":739,"column":29}}},"47":{"name":"(anonymous_47)","line":741,"loc":{"start":{"line":741,"column":44},"end":{"line":741,"column":78}}},"48":{"name":"(anonymous_48)","line":744,"loc":{"start":{"line":744,"column":20},"end":{"line":744,"column":53}}},"49":{"name":"$anget","line":755,"loc":{"start":{"line":755,"column":0},"end":{"line":755,"column":28}}},"50":{"name":"createQ","line":760,"loc":{"start":{"line":760,"column":0},"end":{"line":760,"column":19}}},"51":{"name":"(anonymous_51)","line":778,"loc":{"start":{"line":778,"column":11},"end":{"line":778,"column":23}}},"52":{"name":"(anonymous_52)","line":782,"loc":{"start":{"line":782,"column":15},"end":{"line":782,"column":27}}},"53":{"name":"flush","line":790,"loc":{"start":{"line":790,"column":4},"end":{"line":790,"column":21}}},"54":{"name":"(anonymous_54)","line":828,"loc":{"start":{"line":828,"column":31},"end":{"line":828,"column":42}}},"55":{"name":"(anonymous_55)","line":842,"loc":{"start":{"line":842,"column":15},"end":{"line":842,"column":31}}},"56":{"name":"(anonymous_56)","line":860,"loc":{"start":{"line":860,"column":22},"end":{"line":860,"column":34}}},"57":{"name":"(anonymous_57)","line":869,"loc":{"start":{"line":869,"column":26},"end":{"line":869,"column":38}}},"58":{"name":"(anonymous_58)","line":880,"loc":{"start":{"line":880,"column":34},"end":{"line":880,"column":46}}},"59":{"name":"(anonymous_59)","line":885,"loc":{"start":{"line":885,"column":30},"end":{"line":885,"column":42}}},"60":{"name":"(anonymous_60)","line":890,"loc":{"start":{"line":890,"column":22},"end":{"line":890,"column":34}}},"61":{"name":"(anonymous_61)","line":897,"loc":{"start":{"line":897,"column":22},"end":{"line":897,"column":34}}},"62":{"name":"uncurryThis","line":916,"loc":{"start":{"line":916,"column":0},"end":{"line":916,"column":24}}},"63":{"name":"(anonymous_63)","line":917,"loc":{"start":{"line":917,"column":11},"end":{"line":917,"column":23}}},"64":{"name":"(anonymous_64)","line":928,"loc":{"start":{"line":928,"column":30},"end":{"line":928,"column":57}}},"65":{"name":"(anonymous_65)","line":957,"loc":{"start":{"line":957,"column":31},"end":{"line":957,"column":48}}},"66":{"name":"(anonymous_66)","line":969,"loc":{"start":{"line":969,"column":27},"end":{"line":969,"column":54}}},"67":{"name":"(anonymous_67)","line":972,"loc":{"start":{"line":972,"column":27},"end":{"line":972,"column":62}}},"68":{"name":"(anonymous_68)","line":979,"loc":{"start":{"line":979,"column":37},"end":{"line":979,"column":58}}},"69":{"name":"Type","line":980,"loc":{"start":{"line":980,"column":4},"end":{"line":980,"column":20}}},"70":{"name":"(anonymous_70)","line":987,"loc":{"start":{"line":987,"column":33},"end":{"line":987,"column":51}}},"71":{"name":"isObject","line":999,"loc":{"start":{"line":999,"column":0},"end":{"line":999,"column":25}}},"72":{"name":"isStopIteration","line":1006,"loc":{"start":{"line":1006,"column":0},"end":{"line":1006,"column":36}}},"73":{"name":"(anonymous_73)","line":1019,"loc":{"start":{"line":1019,"column":19},"end":{"line":1019,"column":36}}},"74":{"name":"makeStackTraceLong","line":1044,"loc":{"start":{"line":1044,"column":0},"end":{"line":1044,"column":44}}},"75":{"name":"filterStackString","line":1067,"loc":{"start":{"line":1067,"column":0},"end":{"line":1067,"column":40}}},"76":{"name":"isNodeFrame","line":1080,"loc":{"start":{"line":1080,"column":0},"end":{"line":1080,"column":32}}},"77":{"name":"getFileNameAndLineNumber","line":1085,"loc":{"start":{"line":1085,"column":0},"end":{"line":1085,"column":45}}},"78":{"name":"isInternalFrame","line":1106,"loc":{"start":{"line":1106,"column":0},"end":{"line":1106,"column":36}}},"79":{"name":"captureLine","line":1123,"loc":{"start":{"line":1123,"column":0},"end":{"line":1123,"column":23}}},"80":{"name":"deprecate","line":1143,"loc":{"start":{"line":1143,"column":0},"end":{"line":1143,"column":48}}},"81":{"name":"(anonymous_81)","line":1144,"loc":{"start":{"line":1144,"column":11},"end":{"line":1144,"column":23}}},"82":{"name":"Q","line":1162,"loc":{"start":{"line":1162,"column":0},"end":{"line":1162,"column":18}}},"83":{"name":"defer","line":1201,"loc":{"start":{"line":1201,"column":0},"end":{"line":1201,"column":17}}},"84":{"name":"(anonymous_84)","line":1213,"loc":{"start":{"line":1213,"column":30},"end":{"line":1213,"column":63}}},"85":{"name":"(anonymous_85)","line":1221,"loc":{"start":{"line":1221,"column":21},"end":{"line":1221,"column":33}}},"86":{"name":"(anonymous_86)","line":1228,"loc":{"start":{"line":1228,"column":22},"end":{"line":1228,"column":34}}},"87":{"name":"(anonymous_87)","line":1239,"loc":{"start":{"line":1239,"column":22},"end":{"line":1239,"column":34}}},"88":{"name":"become","line":1264,"loc":{"start":{"line":1264,"column":4},"end":{"line":1264,"column":32}}},"89":{"name":"(anonymous_89)","line":1268,"loc":{"start":{"line":1268,"column":31},"end":{"line":1268,"column":61}}},"90":{"name":"(anonymous_90)","line":1269,"loc":{"start":{"line":1269,"column":21},"end":{"line":1269,"column":33}}},"91":{"name":"(anonymous_91)","line":1279,"loc":{"start":{"line":1279,"column":23},"end":{"line":1279,"column":40}}},"92":{"name":"(anonymous_92)","line":1287,"loc":{"start":{"line":1287,"column":23},"end":{"line":1287,"column":40}}},"93":{"name":"(anonymous_93)","line":1294,"loc":{"start":{"line":1294,"column":22},"end":{"line":1294,"column":40}}},"94":{"name":"(anonymous_94)","line":1301,"loc":{"start":{"line":1301,"column":22},"end":{"line":1301,"column":42}}},"95":{"name":"(anonymous_95)","line":1306,"loc":{"start":{"line":1306,"column":40},"end":{"line":1306,"column":79}}},"96":{"name":"(anonymous_96)","line":1307,"loc":{"start":{"line":1307,"column":21},"end":{"line":1307,"column":33}}},"97":{"name":"(anonymous_97)","line":1321,"loc":{"start":{"line":1321,"column":35},"end":{"line":1321,"column":47}}},"98":{"name":"(anonymous_98)","line":1323,"loc":{"start":{"line":1323,"column":11},"end":{"line":1323,"column":35}}},"99":{"name":"promise","line":1341,"loc":{"start":{"line":1341,"column":0},"end":{"line":1341,"column":27}}},"100":{"name":"(anonymous_100)","line":1357,"loc":{"start":{"line":1357,"column":15},"end":{"line":1357,"column":33}}},"101":{"name":"(anonymous_101)","line":1363,"loc":{"start":{"line":1363,"column":31},"end":{"line":1363,"column":43}}},"102":{"name":"(anonymous_102)","line":1378,"loc":{"start":{"line":1378,"column":9},"end":{"line":1378,"column":25}}},"103":{"name":"(anonymous_103)","line":1382,"loc":{"start":{"line":1382,"column":25},"end":{"line":1382,"column":41}}},"104":{"name":"(anonymous_104)","line":1383,"loc":{"start":{"line":1383,"column":34},"end":{"line":1383,"column":50}}},"105":{"name":"race","line":1399,"loc":{"start":{"line":1399,"column":0},"end":{"line":1399,"column":24}}},"106":{"name":"(anonymous_106)","line":1400,"loc":{"start":{"line":1400,"column":19},"end":{"line":1400,"column":45}}},"107":{"name":"(anonymous_107)","line":1412,"loc":{"start":{"line":1412,"column":25},"end":{"line":1412,"column":37}}},"108":{"name":"Promise","line":1428,"loc":{"start":{"line":1428,"column":0},"end":{"line":1428,"column":48}}},"109":{"name":"(anonymous_109)","line":1430,"loc":{"start":{"line":1430,"column":19},"end":{"line":1430,"column":33}}},"110":{"name":"(anonymous_110)","line":1437,"loc":{"start":{"line":1437,"column":18},"end":{"line":1437,"column":30}}},"111":{"name":"(anonymous_111)","line":1444,"loc":{"start":{"line":1444,"column":30},"end":{"line":1444,"column":59}}},"112":{"name":"(anonymous_112)","line":1469,"loc":{"start":{"line":1469,"column":26},"end":{"line":1469,"column":38}}},"113":{"name":"(anonymous_113)","line":1482,"loc":{"start":{"line":1482,"column":29},"end":{"line":1482,"column":41}}},"114":{"name":"(anonymous_114)","line":1486,"loc":{"start":{"line":1486,"column":25},"end":{"line":1486,"column":68}}},"115":{"name":"_fulfilled","line":1492,"loc":{"start":{"line":1492,"column":4},"end":{"line":1492,"column":31}}},"116":{"name":"_rejected","line":1500,"loc":{"start":{"line":1500,"column":4},"end":{"line":1500,"column":34}}},"117":{"name":"_progressed","line":1512,"loc":{"start":{"line":1512,"column":4},"end":{"line":1512,"column":32}}},"118":{"name":"(anonymous_118)","line":1516,"loc":{"start":{"line":1516,"column":13},"end":{"line":1516,"column":25}}},"119":{"name":"(anonymous_119)","line":1517,"loc":{"start":{"line":1517,"column":29},"end":{"line":1517,"column":46}}},"120":{"name":"(anonymous_120)","line":1524,"loc":{"start":{"line":1524,"column":20},"end":{"line":1524,"column":41}}},"121":{"name":"(anonymous_121)","line":1535,"loc":{"start":{"line":1535,"column":50},"end":{"line":1535,"column":67}}},"122":{"name":"when","line":1574,"loc":{"start":{"line":1574,"column":0},"end":{"line":1574,"column":54}}},"123":{"name":"(anonymous_123)","line":1578,"loc":{"start":{"line":1578,"column":32},"end":{"line":1578,"column":49}}},"124":{"name":"(anonymous_124)","line":1579,"loc":{"start":{"line":1579,"column":21},"end":{"line":1579,"column":33}}},"125":{"name":"(anonymous_125)","line":1582,"loc":{"start":{"line":1582,"column":16},"end":{"line":1582,"column":42}}},"126":{"name":"(anonymous_126)","line":1586,"loc":{"start":{"line":1586,"column":31},"end":{"line":1586,"column":49}}},"127":{"name":"(anonymous_127)","line":1587,"loc":{"start":{"line":1587,"column":21},"end":{"line":1587,"column":33}}},"128":{"name":"(anonymous_128)","line":1590,"loc":{"start":{"line":1590,"column":15},"end":{"line":1590,"column":42}}},"129":{"name":"nearer","line":1606,"loc":{"start":{"line":1606,"column":0},"end":{"line":1606,"column":23}}},"130":{"name":"isPromise","line":1621,"loc":{"start":{"line":1621,"column":0},"end":{"line":1621,"column":27}}},"131":{"name":"isPromiseAlike","line":1628,"loc":{"start":{"line":1628,"column":0},"end":{"line":1628,"column":32}}},"132":{"name":"isPending","line":1637,"loc":{"start":{"line":1637,"column":0},"end":{"line":1637,"column":27}}},"133":{"name":"(anonymous_133)","line":1641,"loc":{"start":{"line":1641,"column":30},"end":{"line":1641,"column":42}}},"134":{"name":"isFulfilled","line":1650,"loc":{"start":{"line":1650,"column":0},"end":{"line":1650,"column":29}}},"135":{"name":"(anonymous_135)","line":1654,"loc":{"start":{"line":1654,"column":32},"end":{"line":1654,"column":44}}},"136":{"name":"isRejected","line":1662,"loc":{"start":{"line":1662,"column":0},"end":{"line":1662,"column":28}}},"137":{"name":"(anonymous_137)","line":1666,"loc":{"start":{"line":1666,"column":31},"end":{"line":1666,"column":43}}},"138":{"name":"displayUnhandledReasons","line":1680,"loc":{"start":{"line":1680,"column":0},"end":{"line":1680,"column":35}}},"139":{"name":"logUnhandledReasons","line":1693,"loc":{"start":{"line":1693,"column":0},"end":{"line":1693,"column":31}}},"140":{"name":"resetUnhandledRejections","line":1700,"loc":{"start":{"line":1700,"column":0},"end":{"line":1700,"column":36}}},"141":{"name":"trackRejection","line":1717,"loc":{"start":{"line":1717,"column":0},"end":{"line":1717,"column":41}}},"142":{"name":"untrackRejection","line":1731,"loc":{"start":{"line":1731,"column":0},"end":{"line":1731,"column":35}}},"143":{"name":"(anonymous_143)","line":1745,"loc":{"start":{"line":1745,"column":24},"end":{"line":1745,"column":36}}},"144":{"name":"(anonymous_144)","line":1750,"loc":{"start":{"line":1750,"column":35},"end":{"line":1750,"column":47}}},"145":{"name":"reject","line":1767,"loc":{"start":{"line":1767,"column":0},"end":{"line":1767,"column":24}}},"146":{"name":"(anonymous_146)","line":1769,"loc":{"start":{"line":1769,"column":16},"end":{"line":1769,"column":36}}},"147":{"name":"fallback","line":1776,"loc":{"start":{"line":1776,"column":7},"end":{"line":1776,"column":27}}},"148":{"name":"inspect","line":1778,"loc":{"start":{"line":1778,"column":7},"end":{"line":1778,"column":26}}},"149":{"name":"fulfill","line":1793,"loc":{"start":{"line":1793,"column":0},"end":{"line":1793,"column":24}}},"150":{"name":"(anonymous_150)","line":1795,"loc":{"start":{"line":1795,"column":16},"end":{"line":1795,"column":28}}},"151":{"name":"(anonymous_151)","line":1798,"loc":{"start":{"line":1798,"column":15},"end":{"line":1798,"column":31}}},"152":{"name":"(anonymous_152)","line":1801,"loc":{"start":{"line":1801,"column":15},"end":{"line":1801,"column":36}}},"153":{"name":"(anonymous_153)","line":1804,"loc":{"start":{"line":1804,"column":18},"end":{"line":1804,"column":34}}},"154":{"name":"(anonymous_154)","line":1807,"loc":{"start":{"line":1807,"column":16},"end":{"line":1807,"column":38}}},"155":{"name":"(anonymous_155)","line":1816,"loc":{"start":{"line":1816,"column":17},"end":{"line":1816,"column":40}}},"156":{"name":"(anonymous_156)","line":1819,"loc":{"start":{"line":1819,"column":16},"end":{"line":1819,"column":28}}},"157":{"name":"inspect","line":1822,"loc":{"start":{"line":1822,"column":15},"end":{"line":1822,"column":34}}},"158":{"name":"coerce","line":1832,"loc":{"start":{"line":1832,"column":0},"end":{"line":1832,"column":25}}},"159":{"name":"(anonymous_159)","line":1834,"loc":{"start":{"line":1834,"column":13},"end":{"line":1834,"column":25}}},"160":{"name":"master","line":1854,"loc":{"start":{"line":1854,"column":0},"end":{"line":1854,"column":24}}},"161":{"name":"(anonymous_161)","line":1856,"loc":{"start":{"line":1856,"column":17},"end":{"line":1856,"column":29}}},"162":{"name":"fallback","line":1857,"loc":{"start":{"line":1857,"column":7},"end":{"line":1857,"column":35}}},"163":{"name":"(anonymous_163)","line":1859,"loc":{"start":{"line":1859,"column":7},"end":{"line":1859,"column":19}}},"164":{"name":"spread","line":1875,"loc":{"start":{"line":1875,"column":0},"end":{"line":1875,"column":44}}},"165":{"name":"(anonymous_165)","line":1879,"loc":{"start":{"line":1879,"column":27},"end":{"line":1879,"column":58}}},"166":{"name":"(anonymous_166)","line":1880,"loc":{"start":{"line":1880,"column":27},"end":{"line":1880,"column":44}}},"167":{"name":"async","line":1912,"loc":{"start":{"line":1912,"column":0},"end":{"line":1912,"column":30}}},"168":{"name":"(anonymous_168)","line":1913,"loc":{"start":{"line":1913,"column":11},"end":{"line":1913,"column":23}}},"169":{"name":"continuer","line":1916,"loc":{"start":{"line":1916,"column":8},"end":{"line":1916,"column":38}}},"170":{"name":"spawn","line":1958,"loc":{"start":{"line":1958,"column":0},"end":{"line":1958,"column":30}}},"171":{"name":"_return","line":1988,"loc":{"start":{"line":1988,"column":0},"end":{"line":1988,"column":24}}},"172":{"name":"promised","line":2008,"loc":{"start":{"line":2008,"column":0},"end":{"line":2008,"column":28}}},"173":{"name":"(anonymous_173)","line":2009,"loc":{"start":{"line":2009,"column":11},"end":{"line":2009,"column":23}}},"174":{"name":"(anonymous_174)","line":2010,"loc":{"start":{"line":2010,"column":46},"end":{"line":2010,"column":68}}},"175":{"name":"dispatch","line":2024,"loc":{"start":{"line":2024,"column":0},"end":{"line":2024,"column":36}}},"176":{"name":"(anonymous_176)","line":2028,"loc":{"start":{"line":2028,"column":29},"end":{"line":2028,"column":49}}},"177":{"name":"(anonymous_177)","line":2031,"loc":{"start":{"line":2031,"column":13},"end":{"line":2031,"column":25}}},"178":{"name":"(anonymous_178)","line":2043,"loc":{"start":{"line":2043,"column":8},"end":{"line":2043,"column":31}}},"179":{"name":"(anonymous_179)","line":2047,"loc":{"start":{"line":2047,"column":24},"end":{"line":2047,"column":39}}},"180":{"name":"(anonymous_180)","line":2058,"loc":{"start":{"line":2058,"column":8},"end":{"line":2058,"column":38}}},"181":{"name":"(anonymous_181)","line":2062,"loc":{"start":{"line":2062,"column":24},"end":{"line":2062,"column":46}}},"182":{"name":"(anonymous_182)","line":2073,"loc":{"start":{"line":2073,"column":14},"end":{"line":2073,"column":37}}},"183":{"name":"(anonymous_183)","line":2078,"loc":{"start":{"line":2078,"column":30},"end":{"line":2078,"column":45}}},"184":{"name":"(anonymous_184)","line":2096,"loc":{"start":{"line":2096,"column":9},"end":{"line":2096,"column":39}}},"185":{"name":"(anonymous_185)","line":2101,"loc":{"start":{"line":2101,"column":25},"end":{"line":2101,"column":47}}},"186":{"name":"(anonymous_186)","line":2114,"loc":{"start":{"line":2114,"column":11},"end":{"line":2114,"column":47}}},"187":{"name":"(anonymous_187)","line":2120,"loc":{"start":{"line":2120,"column":27},"end":{"line":2120,"column":55}}},"188":{"name":"(anonymous_188)","line":2129,"loc":{"start":{"line":2129,"column":11},"end":{"line":2129,"column":35}}},"189":{"name":"(anonymous_189)","line":2133,"loc":{"start":{"line":2133,"column":27},"end":{"line":2133,"column":43}}},"190":{"name":"(anonymous_190)","line":2143,"loc":{"start":{"line":2143,"column":10},"end":{"line":2143,"column":41}}},"191":{"name":"(anonymous_191)","line":2147,"loc":{"start":{"line":2147,"column":26},"end":{"line":2147,"column":49}}},"192":{"name":"(anonymous_192)","line":2157,"loc":{"start":{"line":2157,"column":10},"end":{"line":2157,"column":40}}},"193":{"name":"fbound","line":2160,"loc":{"start":{"line":2160,"column":11},"end":{"line":2160,"column":29}}},"194":{"name":"(anonymous_194)","line":2167,"loc":{"start":{"line":2167,"column":26},"end":{"line":2167,"column":49}}},"195":{"name":"fbound","line":2170,"loc":{"start":{"line":2170,"column":11},"end":{"line":2170,"column":29}}},"196":{"name":"(anonymous_196)","line":2184,"loc":{"start":{"line":2184,"column":9},"end":{"line":2184,"column":27}}},"197":{"name":"(anonymous_197)","line":2188,"loc":{"start":{"line":2188,"column":25},"end":{"line":2188,"column":37}}},"198":{"name":"all","line":2202,"loc":{"start":{"line":2202,"column":0},"end":{"line":2202,"column":23}}},"199":{"name":"(anonymous_199)","line":2203,"loc":{"start":{"line":2203,"column":26},"end":{"line":2203,"column":46}}},"200":{"name":"(anonymous_200)","line":2206,"loc":{"start":{"line":2206,"column":31},"end":{"line":2206,"column":68}}},"201":{"name":"(anonymous_201)","line":2217,"loc":{"start":{"line":2217,"column":20},"end":{"line":2217,"column":37}}},"202":{"name":"(anonymous_202)","line":2224,"loc":{"start":{"line":2224,"column":20},"end":{"line":2224,"column":40}}},"203":{"name":"(anonymous_203)","line":2237,"loc":{"start":{"line":2237,"column":24},"end":{"line":2237,"column":36}}},"204":{"name":"allResolved","line":2251,"loc":{"start":{"line":2251,"column":0},"end":{"line":2251,"column":31}}},"205":{"name":"(anonymous_205)","line":2252,"loc":{"start":{"line":2252,"column":26},"end":{"line":2252,"column":46}}},"206":{"name":"(anonymous_206)","line":2254,"loc":{"start":{"line":2254,"column":44},"end":{"line":2254,"column":63}}},"207":{"name":"(anonymous_207)","line":2256,"loc":{"start":{"line":2256,"column":13},"end":{"line":2256,"column":25}}},"208":{"name":"(anonymous_208)","line":2262,"loc":{"start":{"line":2262,"column":32},"end":{"line":2262,"column":44}}},"209":{"name":"allSettled","line":2270,"loc":{"start":{"line":2270,"column":0},"end":{"line":2270,"column":30}}},"210":{"name":"(anonymous_210)","line":2281,"loc":{"start":{"line":2281,"column":31},"end":{"line":2281,"column":43}}},"211":{"name":"(anonymous_211)","line":2282,"loc":{"start":{"line":2282,"column":21},"end":{"line":2282,"column":41}}},"212":{"name":"(anonymous_212)","line":2283,"loc":{"start":{"line":2283,"column":39},"end":{"line":2283,"column":58}}},"213":{"name":"regardless","line":2285,"loc":{"start":{"line":2285,"column":12},"end":{"line":2285,"column":34}}},"214":{"name":"(anonymous_214)","line":2303,"loc":{"start":{"line":2303,"column":13},"end":{"line":2303,"column":41}}},"215":{"name":"(anonymous_215)","line":2308,"loc":{"start":{"line":2308,"column":29},"end":{"line":2308,"column":49}}},"216":{"name":"progress","line":2321,"loc":{"start":{"line":2321,"column":0},"end":{"line":2321,"column":38}}},"217":{"name":"(anonymous_217)","line":2325,"loc":{"start":{"line":2325,"column":29},"end":{"line":2325,"column":51}}},"218":{"name":"(anonymous_218)","line":2341,"loc":{"start":{"line":2341,"column":15},"end":{"line":2341,"column":43}}},"219":{"name":"(anonymous_219)","line":2346,"loc":{"start":{"line":2346,"column":31},"end":{"line":2346,"column":51}}},"220":{"name":"(anonymous_220)","line":2348,"loc":{"start":{"line":2348,"column":21},"end":{"line":2348,"column":38}}},"221":{"name":"(anonymous_221)","line":2349,"loc":{"start":{"line":2349,"column":37},"end":{"line":2349,"column":49}}},"222":{"name":"(anonymous_222)","line":2352,"loc":{"start":{"line":2352,"column":7},"end":{"line":2352,"column":25}}},"223":{"name":"(anonymous_223)","line":2354,"loc":{"start":{"line":2354,"column":37},"end":{"line":2354,"column":49}}},"224":{"name":"(anonymous_224)","line":2366,"loc":{"start":{"line":2366,"column":9},"end":{"line":2366,"column":58}}},"225":{"name":"(anonymous_225)","line":2370,"loc":{"start":{"line":2370,"column":25},"end":{"line":2370,"column":66}}},"226":{"name":"(anonymous_226)","line":2371,"loc":{"start":{"line":2371,"column":27},"end":{"line":2371,"column":44}}},"227":{"name":"(anonymous_227)","line":2374,"loc":{"start":{"line":2374,"column":17},"end":{"line":2374,"column":29}}},"228":{"name":"(anonymous_228)","line":2405,"loc":{"start":{"line":2405,"column":12},"end":{"line":2405,"column":43}}},"229":{"name":"(anonymous_229)","line":2409,"loc":{"start":{"line":2409,"column":28},"end":{"line":2409,"column":51}}},"230":{"name":"(anonymous_230)","line":2411,"loc":{"start":{"line":2411,"column":31},"end":{"line":2411,"column":43}}},"231":{"name":"(anonymous_231)","line":2415,"loc":{"start":{"line":2415,"column":14},"end":{"line":2415,"column":31}}},"232":{"name":"(anonymous_232)","line":2418,"loc":{"start":{"line":2418,"column":7},"end":{"line":2418,"column":28}}},"233":{"name":"(anonymous_233)","line":2435,"loc":{"start":{"line":2435,"column":10},"end":{"line":2435,"column":37}}},"234":{"name":"(anonymous_234)","line":2443,"loc":{"start":{"line":2443,"column":26},"end":{"line":2443,"column":45}}},"235":{"name":"(anonymous_235)","line":2444,"loc":{"start":{"line":2444,"column":21},"end":{"line":2444,"column":38}}},"236":{"name":"(anonymous_236)","line":2446,"loc":{"start":{"line":2446,"column":19},"end":{"line":2446,"column":31}}},"237":{"name":"(anonymous_237)","line":2462,"loc":{"start":{"line":2462,"column":12},"end":{"line":2462,"column":38}}},"238":{"name":"(anonymous_238)","line":2466,"loc":{"start":{"line":2466,"column":28},"end":{"line":2466,"column":44}}},"239":{"name":"(anonymous_239)","line":2483,"loc":{"start":{"line":2483,"column":11},"end":{"line":2483,"column":43}}},"240":{"name":"(anonymous_240)","line":2488,"loc":{"start":{"line":2488,"column":27},"end":{"line":2488,"column":50}}},"241":{"name":"(anonymous_241)","line":2505,"loc":{"start":{"line":2505,"column":14},"end":{"line":2505,"column":46}}},"242":{"name":"(anonymous_242)","line":2507,"loc":{"start":{"line":2507,"column":11},"end":{"line":2507,"column":23}}},"243":{"name":"(anonymous_243)","line":2517,"loc":{"start":{"line":2517,"column":30},"end":{"line":2517,"column":53}}},"244":{"name":"(anonymous_244)","line":2523,"loc":{"start":{"line":2523,"column":10},"end":{"line":2523,"column":49}}},"245":{"name":"(anonymous_245)","line":2525,"loc":{"start":{"line":2525,"column":11},"end":{"line":2525,"column":23}}},"246":{"name":"bound","line":2529,"loc":{"start":{"line":2529,"column":8},"end":{"line":2529,"column":25}}},"247":{"name":"(anonymous_247)","line":2537,"loc":{"start":{"line":2537,"column":26},"end":{"line":2537,"column":56}}},"248":{"name":"(anonymous_248)","line":2553,"loc":{"start":{"line":2553,"column":10},"end":{"line":2553,"column":40}}},"249":{"name":"(anonymous_249)","line":2558,"loc":{"start":{"line":2558,"column":26},"end":{"line":2558,"column":48}}},"250":{"name":"(anonymous_250)","line":2578,"loc":{"start":{"line":2578,"column":12},"end":{"line":2578,"column":48}}},"251":{"name":"(anonymous_251)","line":2588,"loc":{"start":{"line":2588,"column":28},"end":{"line":2588,"column":56}}},"252":{"name":"nodeify","line":2607,"loc":{"start":{"line":2607,"column":0},"end":{"line":2607,"column":35}}},"253":{"name":"(anonymous_253)","line":2611,"loc":{"start":{"line":2611,"column":28},"end":{"line":2611,"column":48}}},"254":{"name":"(anonymous_254)","line":2613,"loc":{"start":{"line":2613,"column":18},"end":{"line":2613,"column":35}}},"255":{"name":"(anonymous_255)","line":2614,"loc":{"start":{"line":2614,"column":21},"end":{"line":2614,"column":33}}},"256":{"name":"(anonymous_256)","line":2617,"loc":{"start":{"line":2617,"column":11},"end":{"line":2617,"column":28}}},"257":{"name":"(anonymous_257)","line":2618,"loc":{"start":{"line":2618,"column":21},"end":{"line":2618,"column":33}}},"258":{"name":"(anonymous_258)","line":2634,"loc":{"start":{"line":2634,"column":1},"end":{"line":2634,"column":11}}},"259":{"name":"realHttp","line":2644,"loc":{"start":{"line":2644,"column":4},"end":{"line":2644,"column":23}}},"260":{"name":"(anonymous_260)","line":2651,"loc":{"start":{"line":2651,"column":25},"end":{"line":2651,"column":41}}},"261":{"name":"(anonymous_261)","line":2652,"loc":{"start":{"line":2652,"column":19},"end":{"line":2652,"column":48}}},"262":{"name":"(anonymous_262)","line":2661,"loc":{"start":{"line":2661,"column":33},"end":{"line":2661,"column":57}}},"263":{"name":"(anonymous_263)","line":2671,"loc":{"start":{"line":2671,"column":24},"end":{"line":2671,"column":40}}},"264":{"name":"mockHttp","line":2677,"loc":{"start":{"line":2677,"column":4},"end":{"line":2677,"column":23}}},"265":{"name":"(anonymous_265)","line":2681,"loc":{"start":{"line":2681,"column":20},"end":{"line":2681,"column":39}}},"266":{"name":"(anonymous_266)","line":2707,"loc":{"start":{"line":2707,"column":27},"end":{"line":2707,"column":47}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}},"2":{"start":{"line":4,"column":0},"end":{"line":611,"column":1}},"3":{"start":{"line":5,"column":7},"end":{"line":7,"column":8}},"4":{"start":{"line":6,"column":12},"end":{"line":6,"column":43}},"5":{"start":{"line":8,"column":7},"end":{"line":8,"column":50}},"6":{"start":{"line":19,"column":4},"end":{"line":19,"column":64}},"7":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"8":{"start":{"line":21,"column":8},"end":{"line":21,"column":29}},"9":{"start":{"line":23,"column":4},"end":{"line":42,"column":5}},"10":{"start":{"line":24,"column":8},"end":{"line":24,"column":54}},"11":{"start":{"line":24,"column":43},"end":{"line":24,"column":54}},"12":{"start":{"line":25,"column":8},"end":{"line":40,"column":9}},"13":{"start":{"line":26,"column":12},"end":{"line":28,"column":13}},"14":{"start":{"line":27,"column":16},"end":{"line":27,"column":41}},"15":{"start":{"line":32,"column":12},"end":{"line":39,"column":13}},"16":{"start":{"line":33,"column":16},"end":{"line":33,"column":44}},"17":{"start":{"line":34,"column":16},"end":{"line":37,"column":17}},"18":{"start":{"line":35,"column":20},"end":{"line":35,"column":36}},"19":{"start":{"line":36,"column":20},"end":{"line":36,"column":40}},"20":{"start":{"line":38,"column":16},"end":{"line":38,"column":31}},"21":{"start":{"line":41,"column":8},"end":{"line":41,"column":19}},"22":{"start":{"line":43,"column":4},"end":{"line":52,"column":6}},"23":{"start":{"line":44,"column":6},"end":{"line":44,"column":37}},"24":{"start":{"line":45,"column":6},"end":{"line":45,"column":21}},"25":{"start":{"line":46,"column":6},"end":{"line":50,"column":7}},"26":{"start":{"line":47,"column":8},"end":{"line":49,"column":27}},"27":{"start":{"line":51,"column":6},"end":{"line":51,"column":17}},"28":{"start":{"line":55,"column":4},"end":{"line":58,"column":5}},"29":{"start":{"line":56,"column":8},"end":{"line":56,"column":52}},"30":{"start":{"line":56,"column":21},"end":{"line":56,"column":52}},"31":{"start":{"line":57,"column":8},"end":{"line":57,"column":73}},"32":{"start":{"line":60,"column":4},"end":{"line":63,"column":5}},"33":{"start":{"line":61,"column":8},"end":{"line":61,"column":67}},"34":{"start":{"line":64,"column":4},"end":{"line":67,"column":5}},"35":{"start":{"line":66,"column":8},"end":{"line":66,"column":67}},"36":{"start":{"line":68,"column":4},"end":{"line":141,"column":5}},"37":{"start":{"line":70,"column":8},"end":{"line":70,"column":46}},"38":{"start":{"line":71,"column":9},"end":{"line":71,"column":81}},"39":{"start":{"line":72,"column":8},"end":{"line":72,"column":28}},"40":{"start":{"line":73,"column":8},"end":{"line":73,"column":43}},"41":{"start":{"line":74,"column":8},"end":{"line":74,"column":47}},"42":{"start":{"line":75,"column":8},"end":{"line":81,"column":9}},"43":{"start":{"line":82,"column":8},"end":{"line":90,"column":9}},"44":{"start":{"line":83,"column":12},"end":{"line":89,"column":13}},"45":{"start":{"line":84,"column":16},"end":{"line":84,"column":46}},"46":{"start":{"line":86,"column":16},"end":{"line":86,"column":40}},"47":{"start":{"line":87,"column":16},"end":{"line":87,"column":43}},"48":{"start":{"line":88,"column":16},"end":{"line":88,"column":49}},"49":{"start":{"line":91,"column":8},"end":{"line":93,"column":9}},"50":{"start":{"line":92,"column":12},"end":{"line":92,"column":42}},"51":{"start":{"line":96,"column":8},"end":{"line":96,"column":29}},"52":{"start":{"line":97,"column":9},"end":{"line":97,"column":95}},"53":{"start":{"line":98,"column":8},"end":{"line":98,"column":35}},"54":{"start":{"line":99,"column":8},"end":{"line":99,"column":38}},"55":{"start":{"line":100,"column":8},"end":{"line":100,"column":71}},"56":{"start":{"line":100,"column":28},"end":{"line":100,"column":71}},"57":{"start":{"line":101,"column":8},"end":{"line":101,"column":36}},"58":{"start":{"line":102,"column":8},"end":{"line":102,"column":115}},"59":{"start":{"line":103,"column":8},"end":{"line":139,"column":10}},"60":{"start":{"line":104,"column":13},"end":{"line":104,"column":90}},"61":{"start":{"line":105,"column":12},"end":{"line":105,"column":32}},"62":{"start":{"line":107,"column":12},"end":{"line":122,"column":13}},"63":{"start":{"line":109,"column":16},"end":{"line":118,"column":17}},"64":{"start":{"line":110,"column":20},"end":{"line":110,"column":57}},"65":{"start":{"line":113,"column":20},"end":{"line":113,"column":36}},"66":{"start":{"line":114,"column":20},"end":{"line":116,"column":21}},"67":{"start":{"line":115,"column":24},"end":{"line":115,"column":73}},"68":{"start":{"line":117,"column":20},"end":{"line":117,"column":33}},"69":{"start":{"line":123,"column":12},"end":{"line":127,"column":13}},"70":{"start":{"line":125,"column":16},"end":{"line":125,"column":58}},"71":{"start":{"line":126,"column":17},"end":{"line":126,"column":56}},"72":{"start":{"line":128,"column":12},"end":{"line":129,"column":79}},"73":{"start":{"line":129,"column":16},"end":{"line":129,"column":79}},"74":{"start":{"line":130,"column":12},"end":{"line":130,"column":106}},"75":{"start":{"line":131,"column":12},"end":{"line":131,"column":62}},"76":{"start":{"line":134,"column":13},"end":{"line":134,"column":89}},"77":{"start":{"line":135,"column":12},"end":{"line":135,"column":129}},"78":{"start":{"line":135,"column":25},"end":{"line":135,"column":129}},"79":{"start":{"line":136,"column":12},"end":{"line":136,"column":106}},"80":{"start":{"line":137,"column":12},"end":{"line":137,"column":62}},"81":{"start":{"line":140,"column":8},"end":{"line":140,"column":46}},"82":{"start":{"line":140,"column":22},"end":{"line":140,"column":46}},"83":{"start":{"line":143,"column":4},"end":{"line":160,"column":5}},"84":{"start":{"line":144,"column":8},"end":{"line":144,"column":51}},"85":{"start":{"line":144,"column":39},"end":{"line":144,"column":51}},"86":{"start":{"line":145,"column":8},"end":{"line":148,"column":9}},"87":{"start":{"line":146,"column":12},"end":{"line":146,"column":22}},"88":{"start":{"line":147,"column":12},"end":{"line":147,"column":39}},"89":{"start":{"line":149,"column":8},"end":{"line":153,"column":9}},"90":{"start":{"line":150,"column":12},"end":{"line":152,"column":13}},"91":{"start":{"line":151,"column":16},"end":{"line":151,"column":66}},"92":{"start":{"line":154,"column":8},"end":{"line":158,"column":9}},"93":{"start":{"line":155,"column":12},"end":{"line":157,"column":13}},"94":{"start":{"line":156,"column":16},"end":{"line":156,"column":74}},"95":{"start":{"line":162,"column":4},"end":{"line":201,"column":5}},"96":{"start":{"line":163,"column":9},"end":{"line":163,"column":61}},"97":{"start":{"line":164,"column":8},"end":{"line":169,"column":10}},"98":{"start":{"line":166,"column":12},"end":{"line":168,"column":13}},"99":{"start":{"line":167,"column":16},"end":{"line":167,"column":34}},"100":{"start":{"line":172,"column":8},"end":{"line":174,"column":9}},"101":{"start":{"line":173,"column":12},"end":{"line":173,"column":84}},"102":{"start":{"line":175,"column":8},"end":{"line":177,"column":9}},"103":{"start":{"line":176,"column":12},"end":{"line":176,"column":96}},"104":{"start":{"line":180,"column":8},"end":{"line":180,"column":43}},"105":{"start":{"line":181,"column":8},"end":{"line":181,"column":30}},"106":{"start":{"line":185,"column":8},"end":{"line":185,"column":37}},"107":{"start":{"line":186,"column":8},"end":{"line":186,"column":36}},"108":{"start":{"line":187,"column":8},"end":{"line":187,"column":31}},"109":{"start":{"line":190,"column":8},"end":{"line":197,"column":9}},"110":{"start":{"line":191,"column":12},"end":{"line":192,"column":73}},"111":{"start":{"line":192,"column":16},"end":{"line":192,"column":73}},"112":{"start":{"line":194,"column":12},"end":{"line":196,"column":13}},"113":{"start":{"line":195,"column":16},"end":{"line":195,"column":36}},"114":{"start":{"line":198,"column":8},"end":{"line":198,"column":58}},"115":{"start":{"line":199,"column":8},"end":{"line":199,"column":48}},"116":{"start":{"line":200,"column":8},"end":{"line":200,"column":21}},"117":{"start":{"line":203,"column":4},"end":{"line":209,"column":5}},"118":{"start":{"line":204,"column":8},"end":{"line":204,"column":21}},"119":{"start":{"line":205,"column":8},"end":{"line":207,"column":9}},"120":{"start":{"line":206,"column":12},"end":{"line":206,"column":26}},"121":{"start":{"line":208,"column":8},"end":{"line":208,"column":19}},"122":{"start":{"line":211,"column":4},"end":{"line":222,"column":5}},"123":{"start":{"line":212,"column":8},"end":{"line":215,"column":9}},"124":{"start":{"line":213,"column":13},"end":{"line":213,"column":49}},"125":{"start":{"line":214,"column":12},"end":{"line":214,"column":19}},"126":{"start":{"line":216,"column":8},"end":{"line":216,"column":50}},"127":{"start":{"line":217,"column":9},"end":{"line":217,"column":58}},"128":{"start":{"line":218,"column":8},"end":{"line":220,"column":9}},"129":{"start":{"line":219,"column":12},"end":{"line":219,"column":62}},"130":{"start":{"line":221,"column":8},"end":{"line":221,"column":41}},"131":{"start":{"line":223,"column":4},"end":{"line":227,"column":5}},"132":{"start":{"line":224,"column":8},"end":{"line":225,"column":55}},"133":{"start":{"line":225,"column":12},"end":{"line":225,"column":55}},"134":{"start":{"line":226,"column":8},"end":{"line":226,"column":42}},"135":{"start":{"line":228,"column":4},"end":{"line":228,"column":63}},"136":{"start":{"line":228,"column":29},"end":{"line":228,"column":62}},"137":{"start":{"line":229,"column":4},"end":{"line":603,"column":3}},"138":{"start":{"line":229,"column":29},"end":{"line":603,"column":2}},"139":{"start":{"line":605,"column":4},"end":{"line":605,"column":38}},"140":{"start":{"line":606,"column":4},"end":{"line":606,"column":35}},"141":{"start":{"line":607,"column":4},"end":{"line":607,"column":42}},"142":{"start":{"line":608,"column":4},"end":{"line":608,"column":30}},"143":{"start":{"line":609,"column":4},"end":{"line":609,"column":36}},"144":{"start":{"line":613,"column":0},"end":{"line":613,"column":19}},"145":{"start":{"line":615,"column":0},"end":{"line":619,"column":1}},"146":{"start":{"line":616,"column":4},"end":{"line":618,"column":5}},"147":{"start":{"line":617,"column":8},"end":{"line":617,"column":44}},"148":{"start":{"line":630,"column":0},"end":{"line":718,"column":5}},"149":{"start":{"line":631,"column":4},"end":{"line":634,"column":5}},"150":{"start":{"line":632,"column":8},"end":{"line":632,"column":33}},"151":{"start":{"line":633,"column":8},"end":{"line":633,"column":15}},"152":{"start":{"line":635,"column":4},"end":{"line":635,"column":48}},"153":{"start":{"line":636,"column":4},"end":{"line":636,"column":62}},"154":{"start":{"line":637,"column":4},"end":{"line":637,"column":35}},"155":{"start":{"line":643,"column":4},"end":{"line":650,"column":6}},"156":{"start":{"line":644,"column":12},"end":{"line":644,"column":40}},"157":{"start":{"line":645,"column":12},"end":{"line":648,"column":15}},"158":{"start":{"line":649,"column":12},"end":{"line":649,"column":33}},"159":{"start":{"line":651,"column":4},"end":{"line":658,"column":5}},"160":{"start":{"line":652,"column":8},"end":{"line":652,"column":59}},"161":{"start":{"line":653,"column":8},"end":{"line":657,"column":11}},"162":{"start":{"line":654,"column":12},"end":{"line":654,"column":57}},"163":{"start":{"line":655,"column":12},"end":{"line":655,"column":57}},"164":{"start":{"line":656,"column":12},"end":{"line":656,"column":27}},"165":{"start":{"line":659,"column":4},"end":{"line":659,"column":63}},"166":{"start":{"line":661,"column":4},"end":{"line":672,"column":5}},"167":{"start":{"line":662,"column":8},"end":{"line":662,"column":40}},"168":{"start":{"line":663,"column":8},"end":{"line":670,"column":9}},"169":{"start":{"line":664,"column":12},"end":{"line":664,"column":52}},"170":{"start":{"line":665,"column":12},"end":{"line":665,"column":44}},"171":{"start":{"line":665,"column":33},"end":{"line":665,"column":44}},"172":{"start":{"line":666,"column":12},"end":{"line":668,"column":13}},"173":{"start":{"line":667,"column":16},"end":{"line":667,"column":65}},"174":{"start":{"line":669,"column":12},"end":{"line":669,"column":23}},"175":{"start":{"line":671,"column":8},"end":{"line":671,"column":19}},"176":{"start":{"line":673,"column":4},"end":{"line":685,"column":5}},"177":{"start":{"line":674,"column":8},"end":{"line":674,"column":21}},"178":{"start":{"line":675,"column":8},"end":{"line":683,"column":9}},"179":{"start":{"line":676,"column":12},"end":{"line":676,"column":38}},"180":{"start":{"line":677,"column":12},"end":{"line":681,"column":15}},"181":{"start":{"line":678,"column":16},"end":{"line":678,"column":42}},"182":{"start":{"line":680,"column":16},"end":{"line":680,"column":37}},"183":{"start":{"line":682,"column":12},"end":{"line":682,"column":36}},"184":{"start":{"line":684,"column":8},"end":{"line":684,"column":19}},"185":{"start":{"line":686,"column":4},"end":{"line":717,"column":5}},"186":{"start":{"line":688,"column":8},"end":{"line":701,"column":10}},"187":{"start":{"line":689,"column":12},"end":{"line":689,"column":85}},"188":{"start":{"line":689,"column":36},"end":{"line":689,"column":85}},"189":{"start":{"line":690,"column":12},"end":{"line":690,"column":49}},"190":{"start":{"line":691,"column":12},"end":{"line":698,"column":15}},"191":{"start":{"line":693,"column":16},"end":{"line":693,"column":48}},"192":{"start":{"line":695,"column":16},"end":{"line":695,"column":79}},"193":{"start":{"line":697,"column":16},"end":{"line":697,"column":65}},"194":{"start":{"line":700,"column":12},"end":{"line":700,"column":33}},"195":{"start":{"line":702,"column":8},"end":{"line":716,"column":10}},"196":{"start":{"line":703,"column":12},"end":{"line":703,"column":79}},"197":{"start":{"line":703,"column":33},"end":{"line":703,"column":79}},"198":{"start":{"line":704,"column":12},"end":{"line":704,"column":28}},"199":{"start":{"line":705,"column":12},"end":{"line":714,"column":15}},"200":{"start":{"line":707,"column":16},"end":{"line":707,"column":34}},"201":{"start":{"line":708,"column":16},"end":{"line":709,"column":45}},"202":{"start":{"line":709,"column":20},"end":{"line":709,"column":45}},"203":{"start":{"line":711,"column":16},"end":{"line":711,"column":64}},"204":{"start":{"line":713,"column":16},"end":{"line":713,"column":65}},"205":{"start":{"line":715,"column":12},"end":{"line":715,"column":26}},"206":{"start":{"line":721,"column":0},"end":{"line":723,"column":1}},"207":{"start":{"line":722,"column":4},"end":{"line":722,"column":64}},"208":{"start":{"line":725,"column":0},"end":{"line":752,"column":5}},"209":{"start":{"line":726,"column":4},"end":{"line":726,"column":36}},"210":{"start":{"line":726,"column":29},"end":{"line":726,"column":36}},"211":{"start":{"line":727,"column":4},"end":{"line":727,"column":73}},"212":{"start":{"line":727,"column":66},"end":{"line":727,"column":73}},"213":{"start":{"line":728,"column":4},"end":{"line":728,"column":36}},"214":{"start":{"line":729,"column":4},"end":{"line":729,"column":24}},"215":{"start":{"line":730,"column":4},"end":{"line":730,"column":53}},"216":{"start":{"line":732,"column":4},"end":{"line":732,"column":64}},"217":{"start":{"line":733,"column":5},"end":{"line":736,"column":15}},"218":{"start":{"line":737,"column":5},"end":{"line":750,"column":5}},"219":{"start":{"line":738,"column":8},"end":{"line":738,"column":21}},"220":{"start":{"line":739,"column":8},"end":{"line":748,"column":9}},"221":{"start":{"line":740,"column":12},"end":{"line":740,"column":38}},"222":{"start":{"line":741,"column":12},"end":{"line":746,"column":15}},"223":{"start":{"line":742,"column":16},"end":{"line":742,"column":49}},"224":{"start":{"line":743,"column":16},"end":{"line":743,"column":42}},"225":{"start":{"line":745,"column":16},"end":{"line":745,"column":37}},"226":{"start":{"line":747,"column":12},"end":{"line":747,"column":36}},"227":{"start":{"line":749,"column":8},"end":{"line":749,"column":19}},"228":{"start":{"line":755,"column":0},"end":{"line":757,"column":1}},"229":{"start":{"line":756,"column":4},"end":{"line":756,"column":64}},"230":{"start":{"line":760,"column":0},"end":{"line":2632,"column":1}},"231":{"start":{"line":763,"column":0},"end":{"line":763,"column":22}},"232":{"start":{"line":764,"column":0},"end":{"line":768,"column":1}},"233":{"start":{"line":765,"column":4},"end":{"line":765,"column":22}},"234":{"start":{"line":767,"column":4},"end":{"line":767,"column":26}},"235":{"start":{"line":772,"column":0},"end":{"line":772,"column":34}},"236":{"start":{"line":773,"column":0},"end":{"line":773,"column":14}},"237":{"start":{"line":778,"column":0},"end":{"line":778,"column":26}},"238":{"start":{"line":782,"column":0},"end":{"line":903,"column":5}},"239":{"start":{"line":784,"column":4},"end":{"line":784,"column":42}},"240":{"start":{"line":785,"column":4},"end":{"line":785,"column":20}},"241":{"start":{"line":786,"column":4},"end":{"line":786,"column":25}},"242":{"start":{"line":787,"column":4},"end":{"line":787,"column":29}},"243":{"start":{"line":788,"column":4},"end":{"line":788,"column":25}},"244":{"start":{"line":790,"column":4},"end":{"line":840,"column":5}},"245":{"start":{"line":793,"column":8},"end":{"line":837,"column":9}},"246":{"start":{"line":794,"column":12},"end":{"line":794,"column":29}},"247":{"start":{"line":795,"column":12},"end":{"line":795,"column":33}},"248":{"start":{"line":796,"column":12},"end":{"line":796,"column":31}},"249":{"start":{"line":797,"column":12},"end":{"line":797,"column":37}},"250":{"start":{"line":799,"column":12},"end":{"line":802,"column":13}},"251":{"start":{"line":800,"column":16},"end":{"line":800,"column":37}},"252":{"start":{"line":801,"column":16},"end":{"line":801,"column":31}},"253":{"start":{"line":804,"column":12},"end":{"line":832,"column":13}},"254":{"start":{"line":805,"column":16},"end":{"line":805,"column":23}},"255":{"start":{"line":808,"column":16},"end":{"line":831,"column":17}},"256":{"start":{"line":815,"column":20},"end":{"line":817,"column":21}},"257":{"start":{"line":816,"column":24},"end":{"line":816,"column":38}},"258":{"start":{"line":818,"column":20},"end":{"line":818,"column":41}},"259":{"start":{"line":819,"column":20},"end":{"line":821,"column":21}},"260":{"start":{"line":820,"column":24},"end":{"line":820,"column":39}},"261":{"start":{"line":823,"column":20},"end":{"line":823,"column":28}},"262":{"start":{"line":828,"column":20},"end":{"line":830,"column":26}},"263":{"start":{"line":829,"column":23},"end":{"line":829,"column":31}},"264":{"start":{"line":834,"column":12},"end":{"line":836,"column":13}},"265":{"start":{"line":835,"column":16},"end":{"line":835,"column":30}},"266":{"start":{"line":839,"column":8},"end":{"line":839,"column":25}},"267":{"start":{"line":842,"column":4},"end":{"line":853,"column":6}},"268":{"start":{"line":843,"column":8},"end":{"line":847,"column":10}},"269":{"start":{"line":849,"column":8},"end":{"line":852,"column":9}},"270":{"start":{"line":850,"column":12},"end":{"line":850,"column":28}},"271":{"start":{"line":851,"column":12},"end":{"line":851,"column":26}},"272":{"start":{"line":855,"column":4},"end":{"line":900,"column":5}},"273":{"start":{"line":858,"column":8},"end":{"line":858,"column":24}},"274":{"start":{"line":860,"column":8},"end":{"line":862,"column":10}},"275":{"start":{"line":861,"column":12},"end":{"line":861,"column":36}},"276":{"start":{"line":864,"column":11},"end":{"line":900,"column":5}},"277":{"start":{"line":866,"column":8},"end":{"line":872,"column":9}},"278":{"start":{"line":867,"column":12},"end":{"line":867,"column":59}},"279":{"start":{"line":869,"column":12},"end":{"line":871,"column":14}},"280":{"start":{"line":870,"column":16},"end":{"line":870,"column":36}},"281":{"start":{"line":874,"column":11},"end":{"line":900,"column":5}},"282":{"start":{"line":877,"column":8},"end":{"line":877,"column":43}},"283":{"start":{"line":880,"column":8},"end":{"line":884,"column":10}},"284":{"start":{"line":881,"column":12},"end":{"line":881,"column":42}},"285":{"start":{"line":882,"column":12},"end":{"line":882,"column":44}},"286":{"start":{"line":883,"column":12},"end":{"line":883,"column":20}},"287":{"start":{"line":885,"column":8},"end":{"line":889,"column":10}},"288":{"start":{"line":888,"column":12},"end":{"line":888,"column":41}},"289":{"start":{"line":890,"column":8},"end":{"line":893,"column":10}},"290":{"start":{"line":891,"column":12},"end":{"line":891,"column":33}},"291":{"start":{"line":892,"column":12},"end":{"line":892,"column":30}},"292":{"start":{"line":897,"column":8},"end":{"line":899,"column":10}},"293":{"start":{"line":898,"column":12},"end":{"line":898,"column":33}},"294":{"start":{"line":902,"column":4},"end":{"line":902,"column":20}},"295":{"start":{"line":915,"column":0},"end":{"line":915,"column":25}},"296":{"start":{"line":916,"column":0},"end":{"line":920,"column":1}},"297":{"start":{"line":917,"column":4},"end":{"line":919,"column":6}},"298":{"start":{"line":918,"column":8},"end":{"line":918,"column":40}},"299":{"start":{"line":925,"column":0},"end":{"line":925,"column":53}},"300":{"start":{"line":927,"column":0},"end":{"line":954,"column":2}},"301":{"start":{"line":929,"column":8},"end":{"line":930,"column":33}},"302":{"start":{"line":932,"column":8},"end":{"line":944,"column":9}},"303":{"start":{"line":935,"column":12},"end":{"line":943,"column":24}},"304":{"start":{"line":936,"column":16},"end":{"line":939,"column":17}},"305":{"start":{"line":937,"column":20},"end":{"line":937,"column":42}},"306":{"start":{"line":938,"column":20},"end":{"line":938,"column":26}},"307":{"start":{"line":940,"column":16},"end":{"line":942,"column":17}},"308":{"start":{"line":941,"column":20},"end":{"line":941,"column":42}},"309":{"start":{"line":946,"column":8},"end":{"line":951,"column":9}},"310":{"start":{"line":948,"column":12},"end":{"line":950,"column":13}},"311":{"start":{"line":949,"column":16},"end":{"line":949,"column":60}},"312":{"start":{"line":952,"column":8},"end":{"line":952,"column":21}},"313":{"start":{"line":956,"column":0},"end":{"line":966,"column":2}},"314":{"start":{"line":959,"column":8},"end":{"line":963,"column":9}},"315":{"start":{"line":960,"column":12},"end":{"line":962,"column":13}},"316":{"start":{"line":961,"column":16},"end":{"line":961,"column":25}},"317":{"start":{"line":964,"column":8},"end":{"line":964,"column":18}},"318":{"start":{"line":968,"column":0},"end":{"line":977,"column":2}},"319":{"start":{"line":970,"column":8},"end":{"line":970,"column":24}},"320":{"start":{"line":971,"column":8},"end":{"line":971,"column":25}},"321":{"start":{"line":972,"column":8},"end":{"line":974,"column":19}},"322":{"start":{"line":973,"column":12},"end":{"line":973,"column":67}},"323":{"start":{"line":975,"column":8},"end":{"line":975,"column":23}},"324":{"start":{"line":979,"column":0},"end":{"line":983,"column":2}},"325":{"start":{"line":980,"column":4},"end":{"line":980,"column":23}},"326":{"start":{"line":981,"column":4},"end":{"line":981,"column":31}},"327":{"start":{"line":982,"column":4},"end":{"line":982,"column":22}},"328":{"start":{"line":985,"column":0},"end":{"line":985,"column":73}},"329":{"start":{"line":987,"column":0},"end":{"line":995,"column":2}},"330":{"start":{"line":988,"column":4},"end":{"line":988,"column":18}},"331":{"start":{"line":989,"column":4},"end":{"line":993,"column":5}},"332":{"start":{"line":990,"column":8},"end":{"line":992,"column":9}},"333":{"start":{"line":991,"column":12},"end":{"line":991,"column":27}},"334":{"start":{"line":994,"column":4},"end":{"line":994,"column":16}},"335":{"start":{"line":997,"column":0},"end":{"line":997,"column":61}},"336":{"start":{"line":999,"column":0},"end":{"line":1001,"column":1}},"337":{"start":{"line":1000,"column":4},"end":{"line":1000,"column":35}},"338":{"start":{"line":1006,"column":0},"end":{"line":1011,"column":1}},"339":{"start":{"line":1007,"column":4},"end":{"line":1010,"column":6}},"340":{"start":{"line":1015,"column":0},"end":{"line":1015,"column":17}},"341":{"start":{"line":1016,"column":0},"end":{"line":1022,"column":1}},"342":{"start":{"line":1017,"column":4},"end":{"line":1017,"column":31}},"343":{"start":{"line":1019,"column":4},"end":{"line":1021,"column":6}},"344":{"start":{"line":1020,"column":8},"end":{"line":1020,"column":27}},"345":{"start":{"line":1031,"column":0},"end":{"line":1031,"column":21}},"346":{"start":{"line":1032,"column":0},"end":{"line":1038,"column":1}},"347":{"start":{"line":1034,"column":4},"end":{"line":1034,"column":47}},"348":{"start":{"line":1035,"column":4},"end":{"line":1035,"column":28}},"349":{"start":{"line":1037,"column":4},"end":{"line":1037,"column":29}},"350":{"start":{"line":1042,"column":0},"end":{"line":1042,"column":50}},"351":{"start":{"line":1044,"column":0},"end":{"line":1065,"column":1}},"352":{"start":{"line":1047,"column":4},"end":{"line":1064,"column":5}},"353":{"start":{"line":1054,"column":8},"end":{"line":1054,"column":24}},"354":{"start":{"line":1055,"column":8},"end":{"line":1059,"column":9}},"355":{"start":{"line":1056,"column":12},"end":{"line":1058,"column":13}},"356":{"start":{"line":1057,"column":16},"end":{"line":1057,"column":40}},"357":{"start":{"line":1060,"column":8},"end":{"line":1060,"column":36}},"358":{"start":{"line":1062,"column":8},"end":{"line":1062,"column":77}},"359":{"start":{"line":1063,"column":8},"end":{"line":1063,"column":56}},"360":{"start":{"line":1067,"column":0},"end":{"line":1078,"column":1}},"361":{"start":{"line":1068,"column":4},"end":{"line":1068,"column":40}},"362":{"start":{"line":1069,"column":4},"end":{"line":1069,"column":26}},"363":{"start":{"line":1070,"column":4},"end":{"line":1076,"column":5}},"364":{"start":{"line":1071,"column":8},"end":{"line":1071,"column":28}},"365":{"start":{"line":1073,"column":8},"end":{"line":1075,"column":9}},"366":{"start":{"line":1074,"column":12},"end":{"line":1074,"column":36}},"367":{"start":{"line":1077,"column":4},"end":{"line":1077,"column":35}},"368":{"start":{"line":1080,"column":0},"end":{"line":1083,"column":1}},"369":{"start":{"line":1081,"column":4},"end":{"line":1082,"column":49}},"370":{"start":{"line":1085,"column":0},"end":{"line":1104,"column":1}},"371":{"start":{"line":1088,"column":4},"end":{"line":1088,"column":67}},"372":{"start":{"line":1089,"column":4},"end":{"line":1091,"column":5}},"373":{"start":{"line":1090,"column":8},"end":{"line":1090,"column":50}},"374":{"start":{"line":1094,"column":4},"end":{"line":1094,"column":63}},"375":{"start":{"line":1095,"column":4},"end":{"line":1097,"column":5}},"376":{"start":{"line":1096,"column":8},"end":{"line":1096,"column":50}},"377":{"start":{"line":1100,"column":4},"end":{"line":1100,"column":52}},"378":{"start":{"line":1101,"column":4},"end":{"line":1103,"column":5}},"379":{"start":{"line":1102,"column":8},"end":{"line":1102,"column":50}},"380":{"start":{"line":1106,"column":0},"end":{"line":1119,"column":1}},"381":{"start":{"line":1107,"column":4},"end":{"line":1107,"column":68}},"382":{"start":{"line":1109,"column":4},"end":{"line":1111,"column":5}},"383":{"start":{"line":1110,"column":8},"end":{"line":1110,"column":21}},"384":{"start":{"line":1113,"column":4},"end":{"line":1113,"column":44}},"385":{"start":{"line":1114,"column":4},"end":{"line":1114,"column":46}},"386":{"start":{"line":1116,"column":4},"end":{"line":1118,"column":34}},"387":{"start":{"line":1123,"column":0},"end":{"line":1141,"column":1}},"388":{"start":{"line":1124,"column":4},"end":{"line":1126,"column":5}},"389":{"start":{"line":1125,"column":8},"end":{"line":1125,"column":15}},"390":{"start":{"line":1128,"column":4},"end":{"line":1140,"column":5}},"391":{"start":{"line":1129,"column":8},"end":{"line":1129,"column":26}},"392":{"start":{"line":1131,"column":8},"end":{"line":1131,"column":40}},"393":{"start":{"line":1132,"column":8},"end":{"line":1132,"column":72}},"394":{"start":{"line":1133,"column":8},"end":{"line":1133,"column":72}},"395":{"start":{"line":1134,"column":8},"end":{"line":1136,"column":9}},"396":{"start":{"line":1135,"column":12},"end":{"line":1135,"column":19}},"397":{"start":{"line":1138,"column":8},"end":{"line":1138,"column":45}},"398":{"start":{"line":1139,"column":8},"end":{"line":1139,"column":40}},"399":{"start":{"line":1143,"column":0},"end":{"line":1152,"column":1}},"400":{"start":{"line":1144,"column":4},"end":{"line":1151,"column":6}},"401":{"start":{"line":1145,"column":8},"end":{"line":1149,"column":9}},"402":{"start":{"line":1147,"column":12},"end":{"line":1148,"column":59}},"403":{"start":{"line":1150,"column":8},"end":{"line":1150,"column":51}},"404":{"start":{"line":1162,"column":0},"end":{"line":1176,"column":1}},"405":{"start":{"line":1166,"column":4},"end":{"line":1168,"column":5}},"406":{"start":{"line":1167,"column":8},"end":{"line":1167,"column":21}},"407":{"start":{"line":1171,"column":4},"end":{"line":1175,"column":5}},"408":{"start":{"line":1172,"column":8},"end":{"line":1172,"column":29}},"409":{"start":{"line":1174,"column":8},"end":{"line":1174,"column":30}},"410":{"start":{"line":1177,"column":0},"end":{"line":1177,"column":14}},"411":{"start":{"line":1183,"column":0},"end":{"line":1183,"column":22}},"412":{"start":{"line":1188,"column":0},"end":{"line":1188,"column":27}},"413":{"start":{"line":1200,"column":0},"end":{"line":1200,"column":16}},"414":{"start":{"line":1201,"column":0},"end":{"line":1314,"column":1}},"415":{"start":{"line":1208,"column":4},"end":{"line":1208,"column":63}},"416":{"start":{"line":1210,"column":4},"end":{"line":1210,"column":50}},"417":{"start":{"line":1211,"column":4},"end":{"line":1211,"column":51}},"418":{"start":{"line":1213,"column":4},"end":{"line":1225,"column":6}},"419":{"start":{"line":1214,"column":8},"end":{"line":1214,"column":42}},"420":{"start":{"line":1215,"column":8},"end":{"line":1224,"column":9}},"421":{"start":{"line":1216,"column":12},"end":{"line":1216,"column":32}},"422":{"start":{"line":1217,"column":12},"end":{"line":1219,"column":13}},"423":{"start":{"line":1218,"column":16},"end":{"line":1218,"column":52}},"424":{"start":{"line":1221,"column":12},"end":{"line":1223,"column":15}},"425":{"start":{"line":1222,"column":16},"end":{"line":1222,"column":77}},"426":{"start":{"line":1228,"column":4},"end":{"line":1237,"column":6}},"427":{"start":{"line":1229,"column":8},"end":{"line":1231,"column":9}},"428":{"start":{"line":1230,"column":12},"end":{"line":1230,"column":27}},"429":{"start":{"line":1232,"column":8},"end":{"line":1232,"column":50}},"430":{"start":{"line":1233,"column":8},"end":{"line":1235,"column":9}},"431":{"start":{"line":1234,"column":12},"end":{"line":1234,"column":42}},"432":{"start":{"line":1236,"column":8},"end":{"line":1236,"column":27}},"433":{"start":{"line":1239,"column":4},"end":{"line":1244,"column":6}},"434":{"start":{"line":1240,"column":8},"end":{"line":1242,"column":9}},"435":{"start":{"line":1241,"column":12},"end":{"line":1241,"column":40}},"436":{"start":{"line":1243,"column":8},"end":{"line":1243,"column":41}},"437":{"start":{"line":1246,"column":4},"end":{"line":1258,"column":5}},"438":{"start":{"line":1247,"column":8},"end":{"line":1257,"column":9}},"439":{"start":{"line":1248,"column":12},"end":{"line":1248,"column":30}},"440":{"start":{"line":1256,"column":12},"end":{"line":1256,"column":73}},"441":{"start":{"line":1264,"column":4},"end":{"line":1276,"column":5}},"442":{"start":{"line":1265,"column":8},"end":{"line":1265,"column":37}},"443":{"start":{"line":1266,"column":8},"end":{"line":1266,"column":36}},"444":{"start":{"line":1268,"column":8},"end":{"line":1272,"column":19}},"445":{"start":{"line":1269,"column":12},"end":{"line":1271,"column":15}},"446":{"start":{"line":1270,"column":16},"end":{"line":1270,"column":70}},"447":{"start":{"line":1274,"column":8},"end":{"line":1274,"column":26}},"448":{"start":{"line":1275,"column":8},"end":{"line":1275,"column":35}},"449":{"start":{"line":1278,"column":4},"end":{"line":1278,"column":31}},"450":{"start":{"line":1279,"column":4},"end":{"line":1285,"column":6}},"451":{"start":{"line":1280,"column":8},"end":{"line":1282,"column":9}},"452":{"start":{"line":1281,"column":12},"end":{"line":1281,"column":19}},"453":{"start":{"line":1284,"column":8},"end":{"line":1284,"column":25}},"454":{"start":{"line":1287,"column":4},"end":{"line":1293,"column":6}},"455":{"start":{"line":1288,"column":8},"end":{"line":1290,"column":9}},"456":{"start":{"line":1289,"column":12},"end":{"line":1289,"column":19}},"457":{"start":{"line":1292,"column":8},"end":{"line":1292,"column":31}},"458":{"start":{"line":1294,"column":4},"end":{"line":1300,"column":6}},"459":{"start":{"line":1295,"column":8},"end":{"line":1297,"column":9}},"460":{"start":{"line":1296,"column":12},"end":{"line":1296,"column":19}},"461":{"start":{"line":1299,"column":8},"end":{"line":1299,"column":31}},"462":{"start":{"line":1301,"column":4},"end":{"line":1311,"column":6}},"463":{"start":{"line":1302,"column":8},"end":{"line":1304,"column":9}},"464":{"start":{"line":1303,"column":12},"end":{"line":1303,"column":19}},"465":{"start":{"line":1306,"column":8},"end":{"line":1310,"column":19}},"466":{"start":{"line":1307,"column":12},"end":{"line":1309,"column":15}},"467":{"start":{"line":1308,"column":16},"end":{"line":1308,"column":43}},"468":{"start":{"line":1313,"column":4},"end":{"line":1313,"column":20}},"469":{"start":{"line":1321,"column":0},"end":{"line":1332,"column":2}},"470":{"start":{"line":1322,"column":4},"end":{"line":1322,"column":20}},"471":{"start":{"line":1323,"column":4},"end":{"line":1331,"column":6}},"472":{"start":{"line":1324,"column":8},"end":{"line":1330,"column":9}},"473":{"start":{"line":1325,"column":12},"end":{"line":1325,"column":31}},"474":{"start":{"line":1326,"column":15},"end":{"line":1330,"column":9}},"475":{"start":{"line":1327,"column":12},"end":{"line":1327,"column":52}},"476":{"start":{"line":1329,"column":12},"end":{"line":1329,"column":32}},"477":{"start":{"line":1340,"column":0},"end":{"line":1340,"column":20}},"478":{"start":{"line":1341,"column":0},"end":{"line":1352,"column":1}},"479":{"start":{"line":1342,"column":4},"end":{"line":1344,"column":5}},"480":{"start":{"line":1343,"column":8},"end":{"line":1343,"column":60}},"481":{"start":{"line":1345,"column":4},"end":{"line":1345,"column":27}},"482":{"start":{"line":1346,"column":4},"end":{"line":1350,"column":5}},"483":{"start":{"line":1347,"column":8},"end":{"line":1347,"column":69}},"484":{"start":{"line":1349,"column":8},"end":{"line":1349,"column":32}},"485":{"start":{"line":1351,"column":4},"end":{"line":1351,"column":28}},"486":{"start":{"line":1357,"column":0},"end":{"line":1361,"column":2}},"487":{"start":{"line":1360,"column":4},"end":{"line":1360,"column":18}},"488":{"start":{"line":1363,"column":0},"end":{"line":1367,"column":2}},"489":{"start":{"line":1366,"column":4},"end":{"line":1366,"column":16}},"490":{"start":{"line":1378,"column":0},"end":{"line":1380,"column":2}},"491":{"start":{"line":1379,"column":4},"end":{"line":1379,"column":24}},"492":{"start":{"line":1382,"column":0},"end":{"line":1391,"column":2}},"493":{"start":{"line":1383,"column":4},"end":{"line":1390,"column":7}},"494":{"start":{"line":1384,"column":8},"end":{"line":1389,"column":9}},"495":{"start":{"line":1386,"column":12},"end":{"line":1386,"column":21}},"496":{"start":{"line":1388,"column":12},"end":{"line":1388,"column":72}},"497":{"start":{"line":1398,"column":0},"end":{"line":1398,"column":14}},"498":{"start":{"line":1399,"column":0},"end":{"line":1410,"column":1}},"499":{"start":{"line":1400,"column":4},"end":{"line":1409,"column":7}},"500":{"start":{"line":1406,"column":8},"end":{"line":1408,"column":9}},"501":{"start":{"line":1407,"column":12},"end":{"line":1407,"column":49}},"502":{"start":{"line":1412,"column":0},"end":{"line":1414,"column":2}},"503":{"start":{"line":1413,"column":4},"end":{"line":1413,"column":29}},"504":{"start":{"line":1427,"column":0},"end":{"line":1427,"column":24}},"505":{"start":{"line":1428,"column":0},"end":{"line":1480,"column":1}},"506":{"start":{"line":1429,"column":4},"end":{"line":1435,"column":5}},"507":{"start":{"line":1430,"column":8},"end":{"line":1434,"column":10}},"508":{"start":{"line":1431,"column":12},"end":{"line":1433,"column":15}},"509":{"start":{"line":1436,"column":4},"end":{"line":1440,"column":5}},"510":{"start":{"line":1437,"column":8},"end":{"line":1439,"column":10}},"511":{"start":{"line":1438,"column":12},"end":{"line":1438,"column":38}},"512":{"start":{"line":1442,"column":4},"end":{"line":1442,"column":51}},"513":{"start":{"line":1444,"column":4},"end":{"line":1458,"column":6}},"514":{"start":{"line":1445,"column":8},"end":{"line":1445,"column":19}},"515":{"start":{"line":1446,"column":8},"end":{"line":1454,"column":9}},"516":{"start":{"line":1447,"column":12},"end":{"line":1451,"column":13}},"517":{"start":{"line":1448,"column":16},"end":{"line":1448,"column":61}},"518":{"start":{"line":1450,"column":16},"end":{"line":1450,"column":58}},"519":{"start":{"line":1453,"column":12},"end":{"line":1453,"column":39}},"520":{"start":{"line":1455,"column":8},"end":{"line":1457,"column":9}},"521":{"start":{"line":1456,"column":12},"end":{"line":1456,"column":28}},"522":{"start":{"line":1460,"column":4},"end":{"line":1460,"column":30}},"523":{"start":{"line":1463,"column":4},"end":{"line":1477,"column":5}},"524":{"start":{"line":1464,"column":8},"end":{"line":1464,"column":34}},"525":{"start":{"line":1465,"column":8},"end":{"line":1467,"column":9}},"526":{"start":{"line":1466,"column":12},"end":{"line":1466,"column":49}},"527":{"start":{"line":1469,"column":8},"end":{"line":1476,"column":10}},"528":{"start":{"line":1470,"column":12},"end":{"line":1470,"column":38}},"529":{"start":{"line":1471,"column":12},"end":{"line":1474,"column":13}},"530":{"start":{"line":1473,"column":16},"end":{"line":1473,"column":31}},"531":{"start":{"line":1475,"column":12},"end":{"line":1475,"column":35}},"532":{"start":{"line":1479,"column":4},"end":{"line":1479,"column":19}},"533":{"start":{"line":1482,"column":0},"end":{"line":1484,"column":2}},"534":{"start":{"line":1483,"column":4},"end":{"line":1483,"column":30}},"535":{"start":{"line":1486,"column":0},"end":{"line":1555,"column":2}},"536":{"start":{"line":1487,"column":4},"end":{"line":1487,"column":20}},"537":{"start":{"line":1488,"column":4},"end":{"line":1488,"column":27}},"538":{"start":{"line":1489,"column":4},"end":{"line":1489,"column":21}},"539":{"start":{"line":1492,"column":4},"end":{"line":1498,"column":5}},"540":{"start":{"line":1493,"column":8},"end":{"line":1497,"column":9}},"541":{"start":{"line":1494,"column":12},"end":{"line":1494,"column":78}},"542":{"start":{"line":1496,"column":12},"end":{"line":1496,"column":37}},"543":{"start":{"line":1500,"column":4},"end":{"line":1510,"column":5}},"544":{"start":{"line":1501,"column":8},"end":{"line":1508,"column":9}},"545":{"start":{"line":1502,"column":12},"end":{"line":1502,"column":48}},"546":{"start":{"line":1503,"column":12},"end":{"line":1507,"column":13}},"547":{"start":{"line":1504,"column":16},"end":{"line":1504,"column":43}},"548":{"start":{"line":1506,"column":16},"end":{"line":1506,"column":44}},"549":{"start":{"line":1509,"column":8},"end":{"line":1509,"column":33}},"550":{"start":{"line":1512,"column":4},"end":{"line":1514,"column":5}},"551":{"start":{"line":1513,"column":8},"end":{"line":1513,"column":76}},"552":{"start":{"line":1516,"column":4},"end":{"line":1532,"column":7}},"553":{"start":{"line":1517,"column":8},"end":{"line":1531,"column":12}},"554":{"start":{"line":1518,"column":12},"end":{"line":1520,"column":13}},"555":{"start":{"line":1519,"column":16},"end":{"line":1519,"column":23}},"556":{"start":{"line":1521,"column":12},"end":{"line":1521,"column":24}},"557":{"start":{"line":1523,"column":12},"end":{"line":1523,"column":48}},"558":{"start":{"line":1525,"column":12},"end":{"line":1527,"column":13}},"559":{"start":{"line":1526,"column":16},"end":{"line":1526,"column":23}},"560":{"start":{"line":1528,"column":12},"end":{"line":1528,"column":24}},"561":{"start":{"line":1530,"column":12},"end":{"line":1530,"column":51}},"562":{"start":{"line":1535,"column":4},"end":{"line":1552,"column":8}},"563":{"start":{"line":1536,"column":8},"end":{"line":1536,"column":21}},"564":{"start":{"line":1537,"column":8},"end":{"line":1537,"column":26}},"565":{"start":{"line":1538,"column":8},"end":{"line":1547,"column":9}},"566":{"start":{"line":1539,"column":12},"end":{"line":1539,"column":42}},"567":{"start":{"line":1541,"column":12},"end":{"line":1541,"column":25}},"568":{"start":{"line":1542,"column":12},"end":{"line":1546,"column":13}},"569":{"start":{"line":1543,"column":16},"end":{"line":1543,"column":29}},"570":{"start":{"line":1545,"column":16},"end":{"line":1545,"column":24}},"571":{"start":{"line":1549,"column":8},"end":{"line":1551,"column":9}},"572":{"start":{"line":1550,"column":12},"end":{"line":1550,"column":38}},"573":{"start":{"line":1554,"column":4},"end":{"line":1554,"column":28}},"574":{"start":{"line":1573,"column":0},"end":{"line":1573,"column":14}},"575":{"start":{"line":1574,"column":0},"end":{"line":1576,"column":1}},"576":{"start":{"line":1575,"column":4},"end":{"line":1575,"column":58}},"577":{"start":{"line":1578,"column":0},"end":{"line":1580,"column":2}},"578":{"start":{"line":1579,"column":4},"end":{"line":1579,"column":52}},"579":{"start":{"line":1579,"column":35},"end":{"line":1579,"column":48}},"580":{"start":{"line":1582,"column":0},"end":{"line":1584,"column":2}},"581":{"start":{"line":1583,"column":4},"end":{"line":1583,"column":41}},"582":{"start":{"line":1586,"column":0},"end":{"line":1588,"column":2}},"583":{"start":{"line":1587,"column":4},"end":{"line":1587,"column":52}},"584":{"start":{"line":1587,"column":35},"end":{"line":1587,"column":48}},"585":{"start":{"line":1590,"column":0},"end":{"line":1592,"column":2}},"586":{"start":{"line":1591,"column":4},"end":{"line":1591,"column":41}},"587":{"start":{"line":1605,"column":0},"end":{"line":1605,"column":18}},"588":{"start":{"line":1606,"column":0},"end":{"line":1614,"column":1}},"589":{"start":{"line":1607,"column":4},"end":{"line":1612,"column":5}},"590":{"start":{"line":1608,"column":8},"end":{"line":1608,"column":40}},"591":{"start":{"line":1609,"column":8},"end":{"line":1611,"column":9}},"592":{"start":{"line":1610,"column":12},"end":{"line":1610,"column":35}},"593":{"start":{"line":1613,"column":4},"end":{"line":1613,"column":17}},"594":{"start":{"line":1620,"column":0},"end":{"line":1620,"column":24}},"595":{"start":{"line":1621,"column":0},"end":{"line":1625,"column":1}},"596":{"start":{"line":1622,"column":4},"end":{"line":1624,"column":45}},"597":{"start":{"line":1627,"column":0},"end":{"line":1627,"column":34}},"598":{"start":{"line":1628,"column":0},"end":{"line":1630,"column":1}},"599":{"start":{"line":1629,"column":4},"end":{"line":1629,"column":65}},"600":{"start":{"line":1636,"column":0},"end":{"line":1636,"column":24}},"601":{"start":{"line":1637,"column":0},"end":{"line":1639,"column":1}},"602":{"start":{"line":1638,"column":4},"end":{"line":1638,"column":69}},"603":{"start":{"line":1641,"column":0},"end":{"line":1643,"column":2}},"604":{"start":{"line":1642,"column":4},"end":{"line":1642,"column":46}},"605":{"start":{"line":1649,"column":0},"end":{"line":1649,"column":28}},"606":{"start":{"line":1650,"column":0},"end":{"line":1652,"column":1}},"607":{"start":{"line":1651,"column":4},"end":{"line":1651,"column":72}},"608":{"start":{"line":1654,"column":0},"end":{"line":1656,"column":2}},"609":{"start":{"line":1655,"column":4},"end":{"line":1655,"column":48}},"610":{"start":{"line":1661,"column":0},"end":{"line":1661,"column":26}},"611":{"start":{"line":1662,"column":0},"end":{"line":1664,"column":1}},"612":{"start":{"line":1663,"column":4},"end":{"line":1663,"column":70}},"613":{"start":{"line":1666,"column":0},"end":{"line":1668,"column":2}},"614":{"start":{"line":1667,"column":4},"end":{"line":1667,"column":47}},"615":{"start":{"line":1676,"column":0},"end":{"line":1676,"column":26}},"616":{"start":{"line":1677,"column":0},"end":{"line":1677,"column":29}},"617":{"start":{"line":1678,"column":0},"end":{"line":1678,"column":38}},"618":{"start":{"line":1679,"column":0},"end":{"line":1679,"column":36}},"619":{"start":{"line":1680,"column":0},"end":{"line":1691,"column":1}},"620":{"start":{"line":1681,"column":4},"end":{"line":1688,"column":5}},"621":{"start":{"line":1686,"column":8},"end":{"line":1687,"column":39}},"622":{"start":{"line":1690,"column":4},"end":{"line":1690,"column":37}},"623":{"start":{"line":1693,"column":0},"end":{"line":1698,"column":1}},"624":{"start":{"line":1694,"column":4},"end":{"line":1697,"column":5}},"625":{"start":{"line":1695,"column":8},"end":{"line":1695,"column":41}},"626":{"start":{"line":1696,"column":8},"end":{"line":1696,"column":60}},"627":{"start":{"line":1700,"column":0},"end":{"line":1715,"column":1}},"628":{"start":{"line":1701,"column":4},"end":{"line":1701,"column":32}},"629":{"start":{"line":1702,"column":4},"end":{"line":1702,"column":35}},"630":{"start":{"line":1703,"column":4},"end":{"line":1703,"column":38}},"631":{"start":{"line":1705,"column":4},"end":{"line":1714,"column":5}},"632":{"start":{"line":1706,"column":8},"end":{"line":1706,"column":40}},"633":{"start":{"line":1711,"column":8},"end":{"line":1713,"column":9}},"634":{"start":{"line":1712,"column":12},"end":{"line":1712,"column":52}},"635":{"start":{"line":1717,"column":0},"end":{"line":1729,"column":1}},"636":{"start":{"line":1718,"column":4},"end":{"line":1720,"column":5}},"637":{"start":{"line":1719,"column":8},"end":{"line":1719,"column":15}},"638":{"start":{"line":1722,"column":4},"end":{"line":1722,"column":38}},"639":{"start":{"line":1723,"column":4},"end":{"line":1727,"column":5}},"640":{"start":{"line":1724,"column":8},"end":{"line":1724,"column":44}},"641":{"start":{"line":1726,"column":8},"end":{"line":1726,"column":54}},"642":{"start":{"line":1728,"column":4},"end":{"line":1728,"column":30}},"643":{"start":{"line":1731,"column":0},"end":{"line":1741,"column":1}},"644":{"start":{"line":1732,"column":4},"end":{"line":1734,"column":5}},"645":{"start":{"line":1733,"column":8},"end":{"line":1733,"column":15}},"646":{"start":{"line":1736,"column":4},"end":{"line":1736,"column":57}},"647":{"start":{"line":1737,"column":4},"end":{"line":1740,"column":5}},"648":{"start":{"line":1738,"column":8},"end":{"line":1738,"column":42}},"649":{"start":{"line":1739,"column":8},"end":{"line":1739,"column":39}},"650":{"start":{"line":1743,"column":0},"end":{"line":1743,"column":54}},"651":{"start":{"line":1745,"column":0},"end":{"line":1748,"column":2}},"652":{"start":{"line":1747,"column":4},"end":{"line":1747,"column":36}},"653":{"start":{"line":1750,"column":0},"end":{"line":1756,"column":2}},"654":{"start":{"line":1751,"column":4},"end":{"line":1751,"column":31}},"655":{"start":{"line":1752,"column":4},"end":{"line":1754,"column":5}},"656":{"start":{"line":1753,"column":8},"end":{"line":1753,"column":60}},"657":{"start":{"line":1755,"column":4},"end":{"line":1755,"column":37}},"658":{"start":{"line":1758,"column":0},"end":{"line":1758,"column":27}},"659":{"start":{"line":1766,"column":0},"end":{"line":1766,"column":18}},"660":{"start":{"line":1767,"column":0},"end":{"line":1786,"column":1}},"661":{"start":{"line":1768,"column":4},"end":{"line":1780,"column":7}},"662":{"start":{"line":1771,"column":12},"end":{"line":1773,"column":13}},"663":{"start":{"line":1772,"column":16},"end":{"line":1772,"column":39}},"664":{"start":{"line":1774,"column":12},"end":{"line":1774,"column":54}},"665":{"start":{"line":1777,"column":8},"end":{"line":1777,"column":20}},"666":{"start":{"line":1779,"column":8},"end":{"line":1779,"column":53}},"667":{"start":{"line":1783,"column":4},"end":{"line":1783,"column":38}},"668":{"start":{"line":1785,"column":4},"end":{"line":1785,"column":21}},"669":{"start":{"line":1792,"column":0},"end":{"line":1792,"column":20}},"670":{"start":{"line":1793,"column":0},"end":{"line":1825,"column":1}},"671":{"start":{"line":1794,"column":4},"end":{"line":1824,"column":7}},"672":{"start":{"line":1796,"column":12},"end":{"line":1796,"column":25}},"673":{"start":{"line":1799,"column":12},"end":{"line":1799,"column":31}},"674":{"start":{"line":1802,"column":12},"end":{"line":1802,"column":30}},"675":{"start":{"line":1805,"column":12},"end":{"line":1805,"column":31}},"676":{"start":{"line":1810,"column":12},"end":{"line":1814,"column":13}},"677":{"start":{"line":1811,"column":16},"end":{"line":1811,"column":49}},"678":{"start":{"line":1813,"column":16},"end":{"line":1813,"column":54}},"679":{"start":{"line":1817,"column":12},"end":{"line":1817,"column":44}},"680":{"start":{"line":1820,"column":12},"end":{"line":1820,"column":38}},"681":{"start":{"line":1823,"column":8},"end":{"line":1823,"column":52}},"682":{"start":{"line":1832,"column":0},"end":{"line":1842,"column":1}},"683":{"start":{"line":1833,"column":4},"end":{"line":1833,"column":27}},"684":{"start":{"line":1834,"column":4},"end":{"line":1840,"column":7}},"685":{"start":{"line":1835,"column":8},"end":{"line":1839,"column":9}},"686":{"start":{"line":1836,"column":12},"end":{"line":1836,"column":77}},"687":{"start":{"line":1838,"column":12},"end":{"line":1838,"column":39}},"688":{"start":{"line":1841,"column":4},"end":{"line":1841,"column":28}},"689":{"start":{"line":1853,"column":0},"end":{"line":1853,"column":18}},"690":{"start":{"line":1854,"column":0},"end":{"line":1862,"column":1}},"691":{"start":{"line":1855,"column":4},"end":{"line":1861,"column":7}},"692":{"start":{"line":1858,"column":8},"end":{"line":1858,"column":42}},"693":{"start":{"line":1860,"column":8},"end":{"line":1860,"column":35}},"694":{"start":{"line":1874,"column":0},"end":{"line":1874,"column":18}},"695":{"start":{"line":1875,"column":0},"end":{"line":1877,"column":1}},"696":{"start":{"line":1876,"column":4},"end":{"line":1876,"column":48}},"697":{"start":{"line":1879,"column":0},"end":{"line":1883,"column":2}},"698":{"start":{"line":1880,"column":4},"end":{"line":1882,"column":17}},"699":{"start":{"line":1881,"column":8},"end":{"line":1881,"column":46}},"700":{"start":{"line":1911,"column":0},"end":{"line":1911,"column":16}},"701":{"start":{"line":1912,"column":0},"end":{"line":1948,"column":1}},"702":{"start":{"line":1913,"column":4},"end":{"line":1947,"column":6}},"703":{"start":{"line":1916,"column":8},"end":{"line":1942,"column":9}},"704":{"start":{"line":1917,"column":12},"end":{"line":1917,"column":23}},"705":{"start":{"line":1918,"column":12},"end":{"line":1941,"column":13}},"706":{"start":{"line":1919,"column":16},"end":{"line":1923,"column":17}},"707":{"start":{"line":1920,"column":20},"end":{"line":1920,"column":50}},"708":{"start":{"line":1922,"column":20},"end":{"line":1922,"column":45}},"709":{"start":{"line":1924,"column":16},"end":{"line":1928,"column":17}},"710":{"start":{"line":1925,"column":20},"end":{"line":1925,"column":40}},"711":{"start":{"line":1927,"column":20},"end":{"line":1927,"column":65}},"712":{"start":{"line":1931,"column":16},"end":{"line":1939,"column":17}},"713":{"start":{"line":1932,"column":20},"end":{"line":1932,"column":50}},"714":{"start":{"line":1934,"column":20},"end":{"line":1938,"column":21}},"715":{"start":{"line":1935,"column":24},"end":{"line":1935,"column":47}},"716":{"start":{"line":1937,"column":24},"end":{"line":1937,"column":49}},"717":{"start":{"line":1940,"column":16},"end":{"line":1940,"column":55}},"718":{"start":{"line":1943,"column":8},"end":{"line":1943,"column":61}},"719":{"start":{"line":1944,"column":8},"end":{"line":1944,"column":57}},"720":{"start":{"line":1945,"column":8},"end":{"line":1945,"column":57}},"721":{"start":{"line":1946,"column":8},"end":{"line":1946,"column":26}},"722":{"start":{"line":1957,"column":0},"end":{"line":1957,"column":16}},"723":{"start":{"line":1958,"column":0},"end":{"line":1960,"column":1}},"724":{"start":{"line":1959,"column":4},"end":{"line":1959,"column":37}},"725":{"start":{"line":1987,"column":0},"end":{"line":1987,"column":22}},"726":{"start":{"line":1988,"column":0},"end":{"line":1990,"column":1}},"727":{"start":{"line":1989,"column":4},"end":{"line":1989,"column":34}},"728":{"start":{"line":2007,"column":0},"end":{"line":2007,"column":22}},"729":{"start":{"line":2008,"column":0},"end":{"line":2014,"column":1}},"730":{"start":{"line":2009,"column":4},"end":{"line":2013,"column":6}},"731":{"start":{"line":2010,"column":8},"end":{"line":2012,"column":11}},"732":{"start":{"line":2011,"column":12},"end":{"line":2011,"column":46}},"733":{"start":{"line":2023,"column":0},"end":{"line":2023,"column":22}},"734":{"start":{"line":2024,"column":0},"end":{"line":2026,"column":1}},"735":{"start":{"line":2025,"column":4},"end":{"line":2025,"column":40}},"736":{"start":{"line":2028,"column":0},"end":{"line":2035,"column":2}},"737":{"start":{"line":2029,"column":4},"end":{"line":2029,"column":20}},"738":{"start":{"line":2030,"column":4},"end":{"line":2030,"column":27}},"739":{"start":{"line":2031,"column":4},"end":{"line":2033,"column":7}},"740":{"start":{"line":2032,"column":8},"end":{"line":2032,"column":57}},"741":{"start":{"line":2034,"column":4},"end":{"line":2034,"column":28}},"742":{"start":{"line":2043,"column":0},"end":{"line":2045,"column":2}},"743":{"start":{"line":2044,"column":4},"end":{"line":2044,"column":44}},"744":{"start":{"line":2047,"column":0},"end":{"line":2049,"column":2}},"745":{"start":{"line":2048,"column":4},"end":{"line":2048,"column":39}},"746":{"start":{"line":2058,"column":0},"end":{"line":2060,"column":2}},"747":{"start":{"line":2059,"column":4},"end":{"line":2059,"column":51}},"748":{"start":{"line":2062,"column":0},"end":{"line":2064,"column":2}},"749":{"start":{"line":2063,"column":4},"end":{"line":2063,"column":46}},"750":{"start":{"line":2072,"column":0},"end":{"line":2075,"column":2}},"751":{"start":{"line":2074,"column":4},"end":{"line":2074,"column":47}},"752":{"start":{"line":2077,"column":0},"end":{"line":2080,"column":2}},"753":{"start":{"line":2079,"column":4},"end":{"line":2079,"column":42}},"754":{"start":{"line":2095,"column":0},"end":{"line":2098,"column":2}},"755":{"start":{"line":2097,"column":4},"end":{"line":2097,"column":52}},"756":{"start":{"line":2100,"column":0},"end":{"line":2103,"column":2}},"757":{"start":{"line":2102,"column":4},"end":{"line":2102,"column":47}},"758":{"start":{"line":2112,"column":0},"end":{"line":2116,"column":2}},"759":{"start":{"line":2115,"column":4},"end":{"line":2115,"column":73}},"760":{"start":{"line":2118,"column":0},"end":{"line":2122,"column":2}},"761":{"start":{"line":2121,"column":4},"end":{"line":2121,"column":68}},"762":{"start":{"line":2129,"column":0},"end":{"line":2131,"column":2}},"763":{"start":{"line":2130,"column":4},"end":{"line":2130,"column":55}},"764":{"start":{"line":2133,"column":0},"end":{"line":2135,"column":2}},"765":{"start":{"line":2134,"column":4},"end":{"line":2134,"column":50}},"766":{"start":{"line":2142,"column":0},"end":{"line":2145,"column":2}},"767":{"start":{"line":2144,"column":4},"end":{"line":2144,"column":76}},"768":{"start":{"line":2147,"column":0},"end":{"line":2149,"column":2}},"769":{"start":{"line":2148,"column":4},"end":{"line":2148,"column":68}},"770":{"start":{"line":2157,"column":0},"end":{"line":2166,"column":2}},"771":{"start":{"line":2158,"column":4},"end":{"line":2158,"column":28}},"772":{"start":{"line":2159,"column":4},"end":{"line":2159,"column":41}},"773":{"start":{"line":2160,"column":4},"end":{"line":2165,"column":6}},"774":{"start":{"line":2161,"column":8},"end":{"line":2164,"column":11}},"775":{"start":{"line":2167,"column":0},"end":{"line":2176,"column":2}},"776":{"start":{"line":2168,"column":4},"end":{"line":2168,"column":23}},"777":{"start":{"line":2169,"column":4},"end":{"line":2169,"column":38}},"778":{"start":{"line":2170,"column":4},"end":{"line":2175,"column":6}},"779":{"start":{"line":2171,"column":8},"end":{"line":2174,"column":11}},"780":{"start":{"line":2184,"column":0},"end":{"line":2186,"column":2}},"781":{"start":{"line":2185,"column":4},"end":{"line":2185,"column":42}},"782":{"start":{"line":2188,"column":0},"end":{"line":2190,"column":2}},"783":{"start":{"line":2189,"column":4},"end":{"line":2189,"column":37}},"784":{"start":{"line":2201,"column":0},"end":{"line":2201,"column":12}},"785":{"start":{"line":2202,"column":0},"end":{"line":2235,"column":1}},"786":{"start":{"line":2203,"column":4},"end":{"line":2234,"column":7}},"787":{"start":{"line":2204,"column":8},"end":{"line":2204,"column":26}},"788":{"start":{"line":2205,"column":8},"end":{"line":2205,"column":31}},"789":{"start":{"line":2206,"column":8},"end":{"line":2229,"column":19}},"790":{"start":{"line":2207,"column":12},"end":{"line":2207,"column":25}},"791":{"start":{"line":2208,"column":12},"end":{"line":2228,"column":13}},"792":{"start":{"line":2212,"column":16},"end":{"line":2212,"column":49}},"793":{"start":{"line":2214,"column":16},"end":{"line":2214,"column":28}},"794":{"start":{"line":2215,"column":16},"end":{"line":2227,"column":18}},"795":{"start":{"line":2218,"column":24},"end":{"line":2218,"column":48}},"796":{"start":{"line":2219,"column":24},"end":{"line":2221,"column":25}},"797":{"start":{"line":2220,"column":28},"end":{"line":2220,"column":55}},"798":{"start":{"line":2225,"column":24},"end":{"line":2225,"column":75}},"799":{"start":{"line":2230,"column":8},"end":{"line":2232,"column":9}},"800":{"start":{"line":2231,"column":12},"end":{"line":2231,"column":39}},"801":{"start":{"line":2233,"column":8},"end":{"line":2233,"column":32}},"802":{"start":{"line":2237,"column":0},"end":{"line":2239,"column":2}},"803":{"start":{"line":2238,"column":4},"end":{"line":2238,"column":21}},"804":{"start":{"line":2250,"column":0},"end":{"line":2250,"column":68}},"805":{"start":{"line":2251,"column":0},"end":{"line":2260,"column":1}},"806":{"start":{"line":2252,"column":4},"end":{"line":2259,"column":7}},"807":{"start":{"line":2253,"column":8},"end":{"line":2253,"column":42}},"808":{"start":{"line":2254,"column":8},"end":{"line":2258,"column":11}},"809":{"start":{"line":2255,"column":12},"end":{"line":2255,"column":45}},"810":{"start":{"line":2257,"column":12},"end":{"line":2257,"column":28}},"811":{"start":{"line":2262,"column":0},"end":{"line":2264,"column":2}},"812":{"start":{"line":2263,"column":4},"end":{"line":2263,"column":29}},"813":{"start":{"line":2269,"column":0},"end":{"line":2269,"column":26}},"814":{"start":{"line":2270,"column":0},"end":{"line":2272,"column":1}},"815":{"start":{"line":2271,"column":4},"end":{"line":2271,"column":36}},"816":{"start":{"line":2281,"column":0},"end":{"line":2291,"column":2}},"817":{"start":{"line":2282,"column":4},"end":{"line":2290,"column":7}},"818":{"start":{"line":2283,"column":8},"end":{"line":2289,"column":12}},"819":{"start":{"line":2284,"column":12},"end":{"line":2284,"column":33}},"820":{"start":{"line":2285,"column":12},"end":{"line":2287,"column":13}},"821":{"start":{"line":2286,"column":16},"end":{"line":2286,"column":41}},"822":{"start":{"line":2288,"column":12},"end":{"line":2288,"column":56}},"823":{"start":{"line":2302,"column":0},"end":{"line":2305,"column":2}},"824":{"start":{"line":2304,"column":4},"end":{"line":2304,"column":44}},"825":{"start":{"line":2307,"column":0},"end":{"line":2310,"column":2}},"826":{"start":{"line":2309,"column":4},"end":{"line":2309,"column":39}},"827":{"start":{"line":2320,"column":0},"end":{"line":2320,"column":22}},"828":{"start":{"line":2321,"column":0},"end":{"line":2323,"column":1}},"829":{"start":{"line":2322,"column":4},"end":{"line":2322,"column":54}},"830":{"start":{"line":2325,"column":0},"end":{"line":2327,"column":2}},"831":{"start":{"line":2326,"column":4},"end":{"line":2326,"column":49}},"832":{"start":{"line":2340,"column":0},"end":{"line":2343,"column":2}},"833":{"start":{"line":2342,"column":4},"end":{"line":2342,"column":42}},"834":{"start":{"line":2345,"column":0},"end":{"line":2358,"column":2}},"835":{"start":{"line":2347,"column":4},"end":{"line":2347,"column":27}},"836":{"start":{"line":2348,"column":4},"end":{"line":2357,"column":7}},"837":{"start":{"line":2349,"column":8},"end":{"line":2351,"column":11}},"838":{"start":{"line":2350,"column":12},"end":{"line":2350,"column":25}},"839":{"start":{"line":2354,"column":8},"end":{"line":2356,"column":11}},"840":{"start":{"line":2355,"column":12},"end":{"line":2355,"column":25}},"841":{"start":{"line":2366,"column":0},"end":{"line":2368,"column":2}},"842":{"start":{"line":2367,"column":4},"end":{"line":2367,"column":57}},"843":{"start":{"line":2370,"column":0},"end":{"line":2394,"column":2}},"844":{"start":{"line":2371,"column":4},"end":{"line":2382,"column":6}},"845":{"start":{"line":2374,"column":8},"end":{"line":2381,"column":11}},"846":{"start":{"line":2375,"column":12},"end":{"line":2375,"column":47}},"847":{"start":{"line":2376,"column":12},"end":{"line":2380,"column":13}},"848":{"start":{"line":2377,"column":16},"end":{"line":2377,"column":33}},"849":{"start":{"line":2379,"column":16},"end":{"line":2379,"column":28}},"850":{"start":{"line":2385,"column":4},"end":{"line":2387,"column":13}},"851":{"start":{"line":2389,"column":4},"end":{"line":2391,"column":5}},"852":{"start":{"line":2390,"column":8},"end":{"line":2390,"column":65}},"853":{"start":{"line":2393,"column":4},"end":{"line":2393,"column":43}},"854":{"start":{"line":2405,"column":0},"end":{"line":2407,"column":2}},"855":{"start":{"line":2406,"column":4},"end":{"line":2406,"column":42}},"856":{"start":{"line":2409,"column":0},"end":{"line":2424,"column":2}},"857":{"start":{"line":2410,"column":4},"end":{"line":2410,"column":27}},"858":{"start":{"line":2411,"column":4},"end":{"line":2413,"column":11}},"859":{"start":{"line":2412,"column":8},"end":{"line":2412,"column":79}},"860":{"start":{"line":2415,"column":4},"end":{"line":2421,"column":24}},"861":{"start":{"line":2416,"column":8},"end":{"line":2416,"column":32}},"862":{"start":{"line":2417,"column":8},"end":{"line":2417,"column":32}},"863":{"start":{"line":2419,"column":8},"end":{"line":2419,"column":32}},"864":{"start":{"line":2420,"column":8},"end":{"line":2420,"column":35}},"865":{"start":{"line":2423,"column":4},"end":{"line":2423,"column":28}},"866":{"start":{"line":2435,"column":0},"end":{"line":2441,"column":2}},"867":{"start":{"line":2436,"column":4},"end":{"line":2439,"column":5}},"868":{"start":{"line":2437,"column":8},"end":{"line":2437,"column":25}},"869":{"start":{"line":2438,"column":8},"end":{"line":2438,"column":24}},"870":{"start":{"line":2440,"column":4},"end":{"line":2440,"column":36}},"871":{"start":{"line":2443,"column":0},"end":{"line":2451,"column":2}},"872":{"start":{"line":2444,"column":4},"end":{"line":2450,"column":7}},"873":{"start":{"line":2445,"column":8},"end":{"line":2445,"column":31}},"874":{"start":{"line":2446,"column":8},"end":{"line":2448,"column":20}},"875":{"start":{"line":2447,"column":12},"end":{"line":2447,"column":36}},"876":{"start":{"line":2449,"column":8},"end":{"line":2449,"column":32}},"877":{"start":{"line":2462,"column":0},"end":{"line":2464,"column":2}},"878":{"start":{"line":2463,"column":4},"end":{"line":2463,"column":37}},"879":{"start":{"line":2466,"column":0},"end":{"line":2472,"column":2}},"880":{"start":{"line":2467,"column":4},"end":{"line":2467,"column":27}},"881":{"start":{"line":2468,"column":4},"end":{"line":2468,"column":37}},"882":{"start":{"line":2469,"column":4},"end":{"line":2469,"column":47}},"883":{"start":{"line":2470,"column":4},"end":{"line":2470,"column":48}},"884":{"start":{"line":2471,"column":4},"end":{"line":2471,"column":28}},"885":{"start":{"line":2483,"column":0},"end":{"line":2486,"column":2}},"886":{"start":{"line":2484,"column":4},"end":{"line":2484,"column":41}},"887":{"start":{"line":2485,"column":4},"end":{"line":2485,"column":37}},"888":{"start":{"line":2488,"column":0},"end":{"line":2494,"column":2}},"889":{"start":{"line":2489,"column":4},"end":{"line":2489,"column":42}},"890":{"start":{"line":2490,"column":4},"end":{"line":2490,"column":27}},"891":{"start":{"line":2491,"column":4},"end":{"line":2491,"column":47}},"892":{"start":{"line":2492,"column":4},"end":{"line":2492,"column":48}},"893":{"start":{"line":2493,"column":4},"end":{"line":2493,"column":28}},"894":{"start":{"line":2504,"column":0},"end":{"line":2514,"column":2}},"895":{"start":{"line":2506,"column":4},"end":{"line":2506,"column":45}},"896":{"start":{"line":2507,"column":4},"end":{"line":2513,"column":6}},"897":{"start":{"line":2508,"column":8},"end":{"line":2508,"column":63}},"898":{"start":{"line":2509,"column":8},"end":{"line":2509,"column":31}},"899":{"start":{"line":2510,"column":8},"end":{"line":2510,"column":51}},"900":{"start":{"line":2511,"column":8},"end":{"line":2511,"column":59}},"901":{"start":{"line":2512,"column":8},"end":{"line":2512,"column":32}},"902":{"start":{"line":2516,"column":0},"end":{"line":2521,"column":2}},"903":{"start":{"line":2518,"column":4},"end":{"line":2518,"column":38}},"904":{"start":{"line":2519,"column":4},"end":{"line":2519,"column":23}},"905":{"start":{"line":2520,"column":4},"end":{"line":2520,"column":43}},"906":{"start":{"line":2523,"column":0},"end":{"line":2535,"column":2}},"907":{"start":{"line":2524,"column":4},"end":{"line":2524,"column":45}},"908":{"start":{"line":2525,"column":4},"end":{"line":2534,"column":6}},"909":{"start":{"line":2526,"column":8},"end":{"line":2526,"column":63}},"910":{"start":{"line":2527,"column":8},"end":{"line":2527,"column":31}},"911":{"start":{"line":2528,"column":8},"end":{"line":2528,"column":51}},"912":{"start":{"line":2529,"column":8},"end":{"line":2531,"column":9}},"913":{"start":{"line":2530,"column":12},"end":{"line":2530,"column":52}},"914":{"start":{"line":2532,"column":8},"end":{"line":2532,"column":56}},"915":{"start":{"line":2533,"column":8},"end":{"line":2533,"column":32}},"916":{"start":{"line":2537,"column":0},"end":{"line":2541,"column":2}},"917":{"start":{"line":2538,"column":4},"end":{"line":2538,"column":41}},"918":{"start":{"line":2539,"column":4},"end":{"line":2539,"column":23}},"919":{"start":{"line":2540,"column":4},"end":{"line":2540,"column":39}},"920":{"start":{"line":2552,"column":0},"end":{"line":2555,"column":2}},"921":{"start":{"line":2554,"column":4},"end":{"line":2554,"column":39}},"922":{"start":{"line":2557,"column":0},"end":{"line":2564,"column":2}},"923":{"start":{"line":2559,"column":4},"end":{"line":2559,"column":43}},"924":{"start":{"line":2560,"column":4},"end":{"line":2560,"column":27}},"925":{"start":{"line":2561,"column":4},"end":{"line":2561,"column":47}},"926":{"start":{"line":2562,"column":4},"end":{"line":2562,"column":66}},"927":{"start":{"line":2563,"column":4},"end":{"line":2563,"column":28}},"928":{"start":{"line":2576,"column":0},"end":{"line":2584,"column":2}},"929":{"start":{"line":2579,"column":4},"end":{"line":2579,"column":45}},"930":{"start":{"line":2580,"column":4},"end":{"line":2580,"column":27}},"931":{"start":{"line":2581,"column":4},"end":{"line":2581,"column":47}},"932":{"start":{"line":2582,"column":4},"end":{"line":2582,"column":71}},"933":{"start":{"line":2583,"column":4},"end":{"line":2583,"column":28}},"934":{"start":{"line":2586,"column":0},"end":{"line":2594,"column":2}},"935":{"start":{"line":2589,"column":4},"end":{"line":2589,"column":45}},"936":{"start":{"line":2590,"column":4},"end":{"line":2590,"column":27}},"937":{"start":{"line":2591,"column":4},"end":{"line":2591,"column":47}},"938":{"start":{"line":2592,"column":4},"end":{"line":2592,"column":66}},"939":{"start":{"line":2593,"column":4},"end":{"line":2593,"column":28}},"940":{"start":{"line":2606,"column":0},"end":{"line":2606,"column":20}},"941":{"start":{"line":2607,"column":0},"end":{"line":2609,"column":1}},"942":{"start":{"line":2608,"column":4},"end":{"line":2608,"column":39}},"943":{"start":{"line":2611,"column":0},"end":{"line":2625,"column":2}},"944":{"start":{"line":2612,"column":4},"end":{"line":2624,"column":5}},"945":{"start":{"line":2613,"column":8},"end":{"line":2621,"column":11}},"946":{"start":{"line":2614,"column":12},"end":{"line":2616,"column":15}},"947":{"start":{"line":2615,"column":16},"end":{"line":2615,"column":38}},"948":{"start":{"line":2618,"column":12},"end":{"line":2620,"column":15}},"949":{"start":{"line":2619,"column":16},"end":{"line":2619,"column":32}},"950":{"start":{"line":2623,"column":8},"end":{"line":2623,"column":20}},"951":{"start":{"line":2628,"column":0},"end":{"line":2628,"column":32}},"952":{"start":{"line":2630,"column":0},"end":{"line":2630,"column":9}},"953":{"start":{"line":2634,"column":0},"end":{"line":2727,"column":4}},"954":{"start":{"line":2635,"column":4},"end":{"line":2635,"column":77}},"955":{"start":{"line":2635,"column":70},"end":{"line":2635,"column":77}},"956":{"start":{"line":2636,"column":4},"end":{"line":2636,"column":53}},"957":{"start":{"line":2637,"column":4},"end":{"line":2637,"column":26}},"958":{"start":{"line":2638,"column":4},"end":{"line":2642,"column":7}},"959":{"start":{"line":2644,"column":4},"end":{"line":2676,"column":5}},"960":{"start":{"line":2645,"column":8},"end":{"line":2645,"column":41}},"961":{"start":{"line":2646,"column":8},"end":{"line":2646,"column":37}},"962":{"start":{"line":2647,"column":8},"end":{"line":2647,"column":49}},"963":{"start":{"line":2648,"column":8},"end":{"line":2648,"column":30}},"964":{"start":{"line":2649,"column":8},"end":{"line":2649,"column":53}},"965":{"start":{"line":2651,"column":8},"end":{"line":2670,"column":9}},"966":{"start":{"line":2652,"column":12},"end":{"line":2669,"column":13}},"967":{"start":{"line":2653,"column":16},"end":{"line":2653,"column":56}},"968":{"start":{"line":2654,"column":16},"end":{"line":2654,"column":91}},"969":{"start":{"line":2655,"column":16},"end":{"line":2659,"column":17}},"970":{"start":{"line":2656,"column":20},"end":{"line":2656,"column":40}},"971":{"start":{"line":2658,"column":20},"end":{"line":2658,"column":36}},"972":{"start":{"line":2660,"column":16},"end":{"line":2660,"column":41}},"973":{"start":{"line":2661,"column":16},"end":{"line":2667,"column":19}},"974":{"start":{"line":2662,"column":20},"end":{"line":2665,"column":47}},"975":{"start":{"line":2663,"column":24},"end":{"line":2663,"column":56}},"976":{"start":{"line":2665,"column":24},"end":{"line":2665,"column":47}},"977":{"start":{"line":2666,"column":20},"end":{"line":2666,"column":53}},"978":{"start":{"line":2666,"column":33},"end":{"line":2666,"column":53}},"979":{"start":{"line":2668,"column":16},"end":{"line":2668,"column":40}},"980":{"start":{"line":2671,"column":8},"end":{"line":2673,"column":10}},"981":{"start":{"line":2672,"column":12},"end":{"line":2672,"column":55}},"982":{"start":{"line":2674,"column":8},"end":{"line":2674,"column":29}},"983":{"start":{"line":2677,"column":4},"end":{"line":2724,"column":5}},"984":{"start":{"line":2678,"column":8},"end":{"line":2678,"column":50}},"985":{"start":{"line":2679,"column":8},"end":{"line":2679,"column":22}},"986":{"start":{"line":2680,"column":8},"end":{"line":2680,"column":25}},"987":{"start":{"line":2681,"column":8},"end":{"line":2722,"column":9}},"988":{"start":{"line":2682,"column":12},"end":{"line":2682,"column":37}},"989":{"start":{"line":2684,"column":12},"end":{"line":2692,"column":15}},"990":{"start":{"line":2693,"column":12},"end":{"line":2693,"column":32}},"991":{"start":{"line":2694,"column":12},"end":{"line":2700,"column":16}},"992":{"start":{"line":2706,"column":11},"end":{"line":2706,"column":52}},"993":{"start":{"line":2707,"column":11},"end":{"line":2710,"column":12}},"994":{"start":{"line":2708,"column":15},"end":{"line":2708,"column":57}},"995":{"start":{"line":2709,"column":15},"end":{"line":2709,"column":38}},"996":{"start":{"line":2711,"column":11},"end":{"line":2711,"column":36}},"997":{"start":{"line":2712,"column":11},"end":{"line":2712,"column":30}},"998":{"start":{"line":2713,"column":11},"end":{"line":2717,"column":12}},"999":{"start":{"line":2714,"column":16},"end":{"line":2714,"column":55}},"1000":{"start":{"line":2716,"column":16},"end":{"line":2716,"column":45}},"1001":{"start":{"line":2720,"column":11},"end":{"line":2720,"column":48}},"1002":{"start":{"line":2721,"column":11},"end":{"line":2721,"column":35}},"1003":{"start":{"line":2723,"column":8},"end":{"line":2723,"column":19}},"1004":{"start":{"line":2726,"column":4},"end":{"line":2726,"column":35}}},"branchMap":{"1":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":7},"end":{"line":5,"column":7}},{"start":{"line":5,"column":7},"end":{"line":5,"column":7}}]},"2":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":8}},{"start":{"line":24,"column":8},"end":{"line":24,"column":8}}]},"3":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":11},"end":{"line":24,"column":15}},{"start":{"line":24,"column":19},"end":{"line":24,"column":41}}]},"4":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":25,"column":8}},{"start":{"line":25,"column":8},"end":{"line":25,"column":8}}]},"5":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":11},"end":{"line":25,"column":14}},{"start":{"line":25,"column":18},"end":{"line":25,"column":28}}]},"6":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":16},"end":{"line":34,"column":16}},{"start":{"line":34,"column":16},"end":{"line":34,"column":16}}]},"7":{"line":47,"type":"cond-expr","locations":[{"start":{"line":48,"column":12},"end":{"line":48,"column":21}},{"start":{"line":49,"column":12},"end":{"line":49,"column":26}}]},"8":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":14},"end":{"line":47,"column":31}},{"start":{"line":47,"column":35},"end":{"line":47,"column":47}}]},"9":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":8},"end":{"line":56,"column":8}},{"start":{"line":56,"column":8},"end":{"line":56,"column":8}}]},"10":{"line":57,"type":"cond-expr","locations":[{"start":{"line":57,"column":23},"end":{"line":57,"column":45}},{"start":{"line":57,"column":48},"end":{"line":57,"column":72}}]},"11":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":24},"end":{"line":82,"column":34}},{"start":{"line":82,"column":38},"end":{"line":82,"column":59}}]},"12":{"line":83,"type":"if","locations":[{"start":{"line":83,"column":12},"end":{"line":83,"column":12}},{"start":{"line":83,"column":12},"end":{"line":83,"column":12}}]},"13":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":8}},{"start":{"line":91,"column":8},"end":{"line":91,"column":8}}]},"14":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":8},"end":{"line":100,"column":8}},{"start":{"line":100,"column":8},"end":{"line":100,"column":8}}]},"15":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":12},"end":{"line":100,"column":17}},{"start":{"line":100,"column":21},"end":{"line":100,"column":26}}]},"16":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":29},"end":{"line":102,"column":51}},{"start":{"line":102,"column":55},"end":{"line":102,"column":65}}]},"17":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":12},"end":{"line":107,"column":12}},{"start":{"line":107,"column":12},"end":{"line":107,"column":12}}]},"18":{"line":107,"type":"binary-expr","locations":[{"start":{"line":107,"column":16},"end":{"line":107,"column":23}},{"start":{"line":107,"column":27},"end":{"line":107,"column":41}},{"start":{"line":107,"column":48},"end":{"line":107,"column":74}},{"start":{"line":107,"column":78},"end":{"line":107,"column":105}}]},"19":{"line":109,"type":"if","locations":[{"start":{"line":109,"column":16},"end":{"line":109,"column":16}},{"start":{"line":109,"column":16},"end":{"line":109,"column":16}}]},"20":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":12},"end":{"line":123,"column":12}},{"start":{"line":123,"column":12},"end":{"line":123,"column":12}}]},"21":{"line":123,"type":"binary-expr","locations":[{"start":{"line":123,"column":16},"end":{"line":123,"column":23}},{"start":{"line":123,"column":27},"end":{"line":123,"column":43}},{"start":{"line":123,"column":47},"end":{"line":123,"column":56}}]},"22":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":12},"end":{"line":128,"column":12}},{"start":{"line":128,"column":12},"end":{"line":128,"column":12}}]},"23":{"line":129,"type":"binary-expr","locations":[{"start":{"line":129,"column":36},"end":{"line":129,"column":39}},{"start":{"line":129,"column":43},"end":{"line":129,"column":57}}]},"24":{"line":130,"type":"cond-expr","locations":[{"start":{"line":130,"column":41},"end":{"line":130,"column":93}},{"start":{"line":130,"column":98},"end":{"line":130,"column":105}}]},"25":{"line":130,"type":"binary-expr","locations":[{"start":{"line":130,"column":41},"end":{"line":130,"column":66}},{"start":{"line":130,"column":70},"end":{"line":130,"column":93}}]},"26":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":12},"end":{"line":135,"column":12}},{"start":{"line":135,"column":12},"end":{"line":135,"column":12}}]},"27":{"line":136,"type":"cond-expr","locations":[{"start":{"line":136,"column":42},"end":{"line":136,"column":94}},{"start":{"line":136,"column":98},"end":{"line":136,"column":105}}]},"28":{"line":136,"type":"binary-expr","locations":[{"start":{"line":136,"column":42},"end":{"line":136,"column":67}},{"start":{"line":136,"column":71},"end":{"line":136,"column":94}}]},"29":{"line":140,"type":"if","locations":[{"start":{"line":140,"column":8},"end":{"line":140,"column":8}},{"start":{"line":140,"column":8},"end":{"line":140,"column":8}}]},"30":{"line":144,"type":"if","locations":[{"start":{"line":144,"column":8},"end":{"line":144,"column":8}},{"start":{"line":144,"column":8},"end":{"line":144,"column":8}}]},"31":{"line":145,"type":"if","locations":[{"start":{"line":145,"column":8},"end":{"line":145,"column":8}},{"start":{"line":145,"column":8},"end":{"line":145,"column":8}}]},"32":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":11},"end":{"line":145,"column":35}},{"start":{"line":145,"column":39},"end":{"line":145,"column":68}}]},"33":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":8},"end":{"line":149,"column":8}},{"start":{"line":149,"column":8},"end":{"line":149,"column":8}}]},"34":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":8},"end":{"line":154,"column":8}},{"start":{"line":154,"column":8},"end":{"line":154,"column":8}}]},"35":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":12},"end":{"line":191,"column":12}},{"start":{"line":191,"column":12},"end":{"line":191,"column":12}}]},"36":{"line":198,"type":"binary-expr","locations":[{"start":{"line":198,"column":31},"end":{"line":198,"column":51}},{"start":{"line":198,"column":55},"end":{"line":198,"column":57}}]},"37":{"line":212,"type":"if","locations":[{"start":{"line":212,"column":8},"end":{"line":212,"column":8}},{"start":{"line":212,"column":8},"end":{"line":212,"column":8}}]},"38":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":8},"end":{"line":224,"column":8}},{"start":{"line":224,"column":8},"end":{"line":224,"column":8}}]},"39":{"line":615,"type":"if","locations":[{"start":{"line":615,"column":0},"end":{"line":615,"column":0}},{"start":{"line":615,"column":0},"end":{"line":615,"column":0}}]},"40":{"line":631,"type":"if","locations":[{"start":{"line":631,"column":4},"end":{"line":631,"column":4}},{"start":{"line":631,"column":4},"end":{"line":631,"column":4}}]},"41":{"line":665,"type":"if","locations":[{"start":{"line":665,"column":12},"end":{"line":665,"column":12}},{"start":{"line":665,"column":12},"end":{"line":665,"column":12}}]},"42":{"line":689,"type":"if","locations":[{"start":{"line":689,"column":12},"end":{"line":689,"column":12}},{"start":{"line":689,"column":12},"end":{"line":689,"column":12}}]},"43":{"line":703,"type":"if","locations":[{"start":{"line":703,"column":12},"end":{"line":703,"column":12}},{"start":{"line":703,"column":12},"end":{"line":703,"column":12}}]},"44":{"line":708,"type":"binary-expr","locations":[{"start":{"line":708,"column":29},"end":{"line":708,"column":38}},{"start":{"line":708,"column":42},"end":{"line":708,"column":60}}]},"45":{"line":726,"type":"if","locations":[{"start":{"line":726,"column":4},"end":{"line":726,"column":4}},{"start":{"line":726,"column":4},"end":{"line":726,"column":4}}]},"46":{"line":727,"type":"if","locations":[{"start":{"line":727,"column":4},"end":{"line":727,"column":4}},{"start":{"line":727,"column":4},"end":{"line":727,"column":4}}]},"47":{"line":727,"type":"binary-expr","locations":[{"start":{"line":727,"column":7},"end":{"line":727,"column":31}},{"start":{"line":727,"column":35},"end":{"line":727,"column":64}}]},"48":{"line":729,"type":"binary-expr","locations":[{"start":{"line":729,"column":12},"end":{"line":729,"column":13}},{"start":{"line":729,"column":17},"end":{"line":729,"column":23}}]},"49":{"line":730,"type":"cond-expr","locations":[{"start":{"line":730,"column":39},"end":{"line":730,"column":48}},{"start":{"line":730,"column":51},"end":{"line":730,"column":52}}]},"50":{"line":799,"type":"if","locations":[{"start":{"line":799,"column":12},"end":{"line":799,"column":12}},{"start":{"line":799,"column":12},"end":{"line":799,"column":12}}]},"51":{"line":808,"type":"if","locations":[{"start":{"line":808,"column":16},"end":{"line":808,"column":16}},{"start":{"line":808,"column":16},"end":{"line":808,"column":16}}]},"52":{"line":815,"type":"if","locations":[{"start":{"line":815,"column":20},"end":{"line":815,"column":20}},{"start":{"line":815,"column":20},"end":{"line":815,"column":20}}]},"53":{"line":819,"type":"if","locations":[{"start":{"line":819,"column":20},"end":{"line":819,"column":20}},{"start":{"line":819,"column":20},"end":{"line":819,"column":20}}]},"54":{"line":834,"type":"if","locations":[{"start":{"line":834,"column":12},"end":{"line":834,"column":12}},{"start":{"line":834,"column":12},"end":{"line":834,"column":12}}]},"55":{"line":845,"type":"binary-expr","locations":[{"start":{"line":845,"column":20},"end":{"line":845,"column":28}},{"start":{"line":845,"column":32},"end":{"line":845,"column":46}}]},"56":{"line":849,"type":"if","locations":[{"start":{"line":849,"column":8},"end":{"line":849,"column":8}},{"start":{"line":849,"column":8},"end":{"line":849,"column":8}}]},"57":{"line":855,"type":"if","locations":[{"start":{"line":855,"column":4},"end":{"line":855,"column":4}},{"start":{"line":855,"column":4},"end":{"line":855,"column":4}}]},"58":{"line":855,"type":"binary-expr","locations":[{"start":{"line":855,"column":8},"end":{"line":855,"column":38}},{"start":{"line":855,"column":42},"end":{"line":855,"column":58}}]},"59":{"line":864,"type":"if","locations":[{"start":{"line":864,"column":11},"end":{"line":864,"column":11}},{"start":{"line":864,"column":11},"end":{"line":864,"column":11}}]},"60":{"line":866,"type":"if","locations":[{"start":{"line":866,"column":8},"end":{"line":866,"column":8}},{"start":{"line":866,"column":8},"end":{"line":866,"column":8}}]},"61":{"line":874,"type":"if","locations":[{"start":{"line":874,"column":11},"end":{"line":874,"column":11}},{"start":{"line":874,"column":11},"end":{"line":874,"column":11}}]},"62":{"line":928,"type":"binary-expr","locations":[{"start":{"line":928,"column":4},"end":{"line":928,"column":26}},{"start":{"line":928,"column":30},"end":{"line":953,"column":5}}]},"63":{"line":932,"type":"if","locations":[{"start":{"line":932,"column":8},"end":{"line":932,"column":8}},{"start":{"line":932,"column":8},"end":{"line":932,"column":8}}]},"64":{"line":936,"type":"if","locations":[{"start":{"line":936,"column":16},"end":{"line":936,"column":16}},{"start":{"line":936,"column":16},"end":{"line":936,"column":16}}]},"65":{"line":940,"type":"if","locations":[{"start":{"line":940,"column":16},"end":{"line":940,"column":16}},{"start":{"line":940,"column":16},"end":{"line":940,"column":16}}]},"66":{"line":948,"type":"if","locations":[{"start":{"line":948,"column":12},"end":{"line":948,"column":12}},{"start":{"line":948,"column":12},"end":{"line":948,"column":12}}]},"67":{"line":957,"type":"binary-expr","locations":[{"start":{"line":957,"column":4},"end":{"line":957,"column":27}},{"start":{"line":957,"column":31},"end":{"line":965,"column":5}}]},"68":{"line":960,"type":"if","locations":[{"start":{"line":960,"column":12},"end":{"line":960,"column":12}},{"start":{"line":960,"column":12},"end":{"line":960,"column":12}}]},"69":{"line":969,"type":"binary-expr","locations":[{"start":{"line":969,"column":4},"end":{"line":969,"column":23}},{"start":{"line":969,"column":27},"end":{"line":976,"column":5}}]},"70":{"line":979,"type":"binary-expr","locations":[{"start":{"line":979,"column":20},"end":{"line":979,"column":33}},{"start":{"line":979,"column":37},"end":{"line":983,"column":1}}]},"71":{"line":987,"type":"binary-expr","locations":[{"start":{"line":987,"column":18},"end":{"line":987,"column":29}},{"start":{"line":987,"column":33},"end":{"line":995,"column":1}}]},"72":{"line":990,"type":"if","locations":[{"start":{"line":990,"column":8},"end":{"line":990,"column":8}},{"start":{"line":990,"column":8},"end":{"line":990,"column":8}}]},"73":{"line":1008,"type":"binary-expr","locations":[{"start":{"line":1008,"column":8},"end":{"line":1008,"column":63}},{"start":{"line":1009,"column":8},"end":{"line":1009,"column":41}}]},"74":{"line":1016,"type":"if","locations":[{"start":{"line":1016,"column":0},"end":{"line":1016,"column":0}},{"start":{"line":1016,"column":0},"end":{"line":1016,"column":0}}]},"75":{"line":1047,"type":"if","locations":[{"start":{"line":1047,"column":4},"end":{"line":1047,"column":4}},{"start":{"line":1047,"column":4},"end":{"line":1047,"column":4}}]},"76":{"line":1047,"type":"binary-expr","locations":[{"start":{"line":1047,"column":8},"end":{"line":1047,"column":17}},{"start":{"line":1048,"column":8},"end":{"line":1048,"column":21}},{"start":{"line":1049,"column":8},"end":{"line":1049,"column":33}},{"start":{"line":1050,"column":8},"end":{"line":1050,"column":22}},{"start":{"line":1051,"column":8},"end":{"line":1051,"column":19}},{"start":{"line":1052,"column":8},"end":{"line":1052,"column":56}}]},"77":{"line":1056,"type":"if","locations":[{"start":{"line":1056,"column":12},"end":{"line":1056,"column":12}},{"start":{"line":1056,"column":12},"end":{"line":1056,"column":12}}]},"78":{"line":1073,"type":"if","locations":[{"start":{"line":1073,"column":8},"end":{"line":1073,"column":8}},{"start":{"line":1073,"column":8},"end":{"line":1073,"column":8}}]},"79":{"line":1073,"type":"binary-expr","locations":[{"start":{"line":1073,"column":12},"end":{"line":1073,"column":34}},{"start":{"line":1073,"column":38},"end":{"line":1073,"column":56}},{"start":{"line":1073,"column":60},"end":{"line":1073,"column":64}}]},"80":{"line":1081,"type":"binary-expr","locations":[{"start":{"line":1081,"column":11},"end":{"line":1081,"column":50}},{"start":{"line":1082,"column":11},"end":{"line":1082,"column":48}}]},"81":{"line":1089,"type":"if","locations":[{"start":{"line":1089,"column":4},"end":{"line":1089,"column":4}},{"start":{"line":1089,"column":4},"end":{"line":1089,"column":4}}]},"82":{"line":1095,"type":"if","locations":[{"start":{"line":1095,"column":4},"end":{"line":1095,"column":4}},{"start":{"line":1095,"column":4},"end":{"line":1095,"column":4}}]},"83":{"line":1101,"type":"if","locations":[{"start":{"line":1101,"column":4},"end":{"line":1101,"column":4}},{"start":{"line":1101,"column":4},"end":{"line":1101,"column":4}}]},"84":{"line":1109,"type":"if","locations":[{"start":{"line":1109,"column":4},"end":{"line":1109,"column":4}},{"start":{"line":1109,"column":4},"end":{"line":1109,"column":4}}]},"85":{"line":1116,"type":"binary-expr","locations":[{"start":{"line":1116,"column":11},"end":{"line":1116,"column":33}},{"start":{"line":1117,"column":8},"end":{"line":1117,"column":35}},{"start":{"line":1118,"column":8},"end":{"line":1118,"column":33}}]},"86":{"line":1124,"type":"if","locations":[{"start":{"line":1124,"column":4},"end":{"line":1124,"column":4}},{"start":{"line":1124,"column":4},"end":{"line":1124,"column":4}}]},"87":{"line":1132,"type":"cond-expr","locations":[{"start":{"line":1132,"column":52},"end":{"line":1132,"column":60}},{"start":{"line":1132,"column":63},"end":{"line":1132,"column":71}}]},"88":{"line":1134,"type":"if","locations":[{"start":{"line":1134,"column":8},"end":{"line":1134,"column":8}},{"start":{"line":1134,"column":8},"end":{"line":1134,"column":8}}]},"89":{"line":1145,"type":"if","locations":[{"start":{"line":1145,"column":8},"end":{"line":1145,"column":8}},{"start":{"line":1145,"column":8},"end":{"line":1145,"column":8}}]},"90":{"line":1145,"type":"binary-expr","locations":[{"start":{"line":1145,"column":12},"end":{"line":1145,"column":42}},{"start":{"line":1146,"column":12},"end":{"line":1146,"column":46}}]},"91":{"line":1166,"type":"if","locations":[{"start":{"line":1166,"column":4},"end":{"line":1166,"column":4}},{"start":{"line":1166,"column":4},"end":{"line":1166,"column":4}}]},"92":{"line":1171,"type":"if","locations":[{"start":{"line":1171,"column":4},"end":{"line":1171,"column":4}},{"start":{"line":1171,"column":4},"end":{"line":1171,"column":4}}]},"93":{"line":1215,"type":"if","locations":[{"start":{"line":1215,"column":8},"end":{"line":1215,"column":8}},{"start":{"line":1215,"column":8},"end":{"line":1215,"column":8}}]},"94":{"line":1217,"type":"if","locations":[{"start":{"line":1217,"column":12},"end":{"line":1217,"column":12}},{"start":{"line":1217,"column":12},"end":{"line":1217,"column":12}}]},"95":{"line":1217,"type":"binary-expr","locations":[{"start":{"line":1217,"column":16},"end":{"line":1217,"column":29}},{"start":{"line":1217,"column":33},"end":{"line":1217,"column":44}}]},"96":{"line":1229,"type":"if","locations":[{"start":{"line":1229,"column":8},"end":{"line":1229,"column":8}},{"start":{"line":1229,"column":8},"end":{"line":1229,"column":8}}]},"97":{"line":1233,"type":"if","locations":[{"start":{"line":1233,"column":8},"end":{"line":1233,"column":8}},{"start":{"line":1233,"column":8},"end":{"line":1233,"column":8}}]},"98":{"line":1240,"type":"if","locations":[{"start":{"line":1240,"column":8},"end":{"line":1240,"column":8}},{"start":{"line":1240,"column":8},"end":{"line":1240,"column":8}}]},"99":{"line":1246,"type":"if","locations":[{"start":{"line":1246,"column":4},"end":{"line":1246,"column":4}},{"start":{"line":1246,"column":4},"end":{"line":1246,"column":4}}]},"100":{"line":1246,"type":"binary-expr","locations":[{"start":{"line":1246,"column":8},"end":{"line":1246,"column":26}},{"start":{"line":1246,"column":30},"end":{"line":1246,"column":39}}]},"101":{"line":1280,"type":"if","locations":[{"start":{"line":1280,"column":8},"end":{"line":1280,"column":8}},{"start":{"line":1280,"column":8},"end":{"line":1280,"column":8}}]},"102":{"line":1288,"type":"if","locations":[{"start":{"line":1288,"column":8},"end":{"line":1288,"column":8}},{"start":{"line":1288,"column":8},"end":{"line":1288,"column":8}}]},"103":{"line":1295,"type":"if","locations":[{"start":{"line":1295,"column":8},"end":{"line":1295,"column":8}},{"start":{"line":1295,"column":8},"end":{"line":1295,"column":8}}]},"104":{"line":1302,"type":"if","locations":[{"start":{"line":1302,"column":8},"end":{"line":1302,"column":8}},{"start":{"line":1302,"column":8},"end":{"line":1302,"column":8}}]},"105":{"line":1324,"type":"if","locations":[{"start":{"line":1324,"column":8},"end":{"line":1324,"column":8}},{"start":{"line":1324,"column":8},"end":{"line":1324,"column":8}}]},"106":{"line":1326,"type":"if","locations":[{"start":{"line":1326,"column":15},"end":{"line":1326,"column":15}},{"start":{"line":1326,"column":15},"end":{"line":1326,"column":15}}]},"107":{"line":1342,"type":"if","locations":[{"start":{"line":1342,"column":4},"end":{"line":1342,"column":4}},{"start":{"line":1342,"column":4},"end":{"line":1342,"column":4}}]},"108":{"line":1384,"type":"if","locations":[{"start":{"line":1384,"column":8},"end":{"line":1384,"column":8}},{"start":{"line":1384,"column":8},"end":{"line":1384,"column":8}}]},"109":{"line":1429,"type":"if","locations":[{"start":{"line":1429,"column":4},"end":{"line":1429,"column":4}},{"start":{"line":1429,"column":4},"end":{"line":1429,"column":4}}]},"110":{"line":1436,"type":"if","locations":[{"start":{"line":1436,"column":4},"end":{"line":1436,"column":4}},{"start":{"line":1436,"column":4},"end":{"line":1436,"column":4}}]},"111":{"line":1447,"type":"if","locations":[{"start":{"line":1447,"column":12},"end":{"line":1447,"column":12}},{"start":{"line":1447,"column":12},"end":{"line":1447,"column":12}}]},"112":{"line":1455,"type":"if","locations":[{"start":{"line":1455,"column":8},"end":{"line":1455,"column":8}},{"start":{"line":1455,"column":8},"end":{"line":1455,"column":8}}]},"113":{"line":1463,"type":"if","locations":[{"start":{"line":1463,"column":4},"end":{"line":1463,"column":4}},{"start":{"line":1463,"column":4},"end":{"line":1463,"column":4}}]},"114":{"line":1465,"type":"if","locations":[{"start":{"line":1465,"column":8},"end":{"line":1465,"column":8}},{"start":{"line":1465,"column":8},"end":{"line":1465,"column":8}}]},"115":{"line":1471,"type":"if","locations":[{"start":{"line":1471,"column":12},"end":{"line":1471,"column":12}},{"start":{"line":1471,"column":12},"end":{"line":1471,"column":12}}]},"116":{"line":1471,"type":"binary-expr","locations":[{"start":{"line":1471,"column":16},"end":{"line":1471,"column":45}},{"start":{"line":1472,"column":16},"end":{"line":1472,"column":46}}]},"117":{"line":1494,"type":"cond-expr","locations":[{"start":{"line":1494,"column":53},"end":{"line":1494,"column":69}},{"start":{"line":1494,"column":72},"end":{"line":1494,"column":77}}]},"118":{"line":1501,"type":"if","locations":[{"start":{"line":1501,"column":8},"end":{"line":1501,"column":8}},{"start":{"line":1501,"column":8},"end":{"line":1501,"column":8}}]},"119":{"line":1513,"type":"cond-expr","locations":[{"start":{"line":1513,"column":50},"end":{"line":1513,"column":67}},{"start":{"line":1513,"column":70},"end":{"line":1513,"column":75}}]},"120":{"line":1518,"type":"if","locations":[{"start":{"line":1518,"column":12},"end":{"line":1518,"column":12}},{"start":{"line":1518,"column":12},"end":{"line":1518,"column":12}}]},"121":{"line":1525,"type":"if","locations":[{"start":{"line":1525,"column":12},"end":{"line":1525,"column":12}},{"start":{"line":1525,"column":12},"end":{"line":1525,"column":12}}]},"122":{"line":1542,"type":"if","locations":[{"start":{"line":1542,"column":12},"end":{"line":1542,"column":12}},{"start":{"line":1542,"column":12},"end":{"line":1542,"column":12}}]},"123":{"line":1549,"type":"if","locations":[{"start":{"line":1549,"column":8},"end":{"line":1549,"column":8}},{"start":{"line":1549,"column":8},"end":{"line":1549,"column":8}}]},"124":{"line":1607,"type":"if","locations":[{"start":{"line":1607,"column":4},"end":{"line":1607,"column":4}},{"start":{"line":1607,"column":4},"end":{"line":1607,"column":4}}]},"125":{"line":1609,"type":"if","locations":[{"start":{"line":1609,"column":8},"end":{"line":1609,"column":8}},{"start":{"line":1609,"column":8},"end":{"line":1609,"column":8}}]},"126":{"line":1622,"type":"binary-expr","locations":[{"start":{"line":1622,"column":11},"end":{"line":1622,"column":27}},{"start":{"line":1623,"column":8},"end":{"line":1623,"column":52}},{"start":{"line":1624,"column":8},"end":{"line":1624,"column":44}}]},"127":{"line":1629,"type":"binary-expr","locations":[{"start":{"line":1629,"column":11},"end":{"line":1629,"column":27}},{"start":{"line":1629,"column":31},"end":{"line":1629,"column":64}}]},"128":{"line":1638,"type":"binary-expr","locations":[{"start":{"line":1638,"column":11},"end":{"line":1638,"column":28}},{"start":{"line":1638,"column":32},"end":{"line":1638,"column":68}}]},"129":{"line":1651,"type":"binary-expr","locations":[{"start":{"line":1651,"column":11},"end":{"line":1651,"column":29}},{"start":{"line":1651,"column":33},"end":{"line":1651,"column":71}}]},"130":{"line":1663,"type":"binary-expr","locations":[{"start":{"line":1663,"column":11},"end":{"line":1663,"column":28}},{"start":{"line":1663,"column":32},"end":{"line":1663,"column":69}}]},"131":{"line":1681,"type":"if","locations":[{"start":{"line":1681,"column":4},"end":{"line":1681,"column":4}},{"start":{"line":1681,"column":4},"end":{"line":1681,"column":4}}]},"132":{"line":1682,"type":"binary-expr","locations":[{"start":{"line":1682,"column":8},"end":{"line":1682,"column":34}},{"start":{"line":1683,"column":8},"end":{"line":1683,"column":37}},{"start":{"line":1684,"column":8},"end":{"line":1684,"column":22}}]},"133":{"line":1705,"type":"if","locations":[{"start":{"line":1705,"column":4},"end":{"line":1705,"column":4}},{"start":{"line":1705,"column":4},"end":{"line":1705,"column":4}}]},"134":{"line":1711,"type":"if","locations":[{"start":{"line":1711,"column":8},"end":{"line":1711,"column":8}},{"start":{"line":1711,"column":8},"end":{"line":1711,"column":8}}]},"135":{"line":1711,"type":"binary-expr","locations":[{"start":{"line":1711,"column":12},"end":{"line":1711,"column":42}},{"start":{"line":1711,"column":46},"end":{"line":1711,"column":56}}]},"136":{"line":1718,"type":"if","locations":[{"start":{"line":1718,"column":4},"end":{"line":1718,"column":4}},{"start":{"line":1718,"column":4},"end":{"line":1718,"column":4}}]},"137":{"line":1723,"type":"if","locations":[{"start":{"line":1723,"column":4},"end":{"line":1723,"column":4}},{"start":{"line":1723,"column":4},"end":{"line":1723,"column":4}}]},"138":{"line":1723,"type":"binary-expr","locations":[{"start":{"line":1723,"column":8},"end":{"line":1723,"column":14}},{"start":{"line":1723,"column":18},"end":{"line":1723,"column":53}}]},"139":{"line":1732,"type":"if","locations":[{"start":{"line":1732,"column":4},"end":{"line":1732,"column":4}},{"start":{"line":1732,"column":4},"end":{"line":1732,"column":4}}]},"140":{"line":1737,"type":"if","locations":[{"start":{"line":1737,"column":4},"end":{"line":1737,"column":4}},{"start":{"line":1737,"column":4},"end":{"line":1737,"column":4}}]},"141":{"line":1752,"type":"if","locations":[{"start":{"line":1752,"column":4},"end":{"line":1752,"column":4}},{"start":{"line":1752,"column":4},"end":{"line":1752,"column":4}}]},"142":{"line":1752,"type":"binary-expr","locations":[{"start":{"line":1752,"column":8},"end":{"line":1752,"column":38}},{"start":{"line":1752,"column":42},"end":{"line":1752,"column":52}}]},"143":{"line":1771,"type":"if","locations":[{"start":{"line":1771,"column":12},"end":{"line":1771,"column":12}},{"start":{"line":1771,"column":12},"end":{"line":1771,"column":12}}]},"144":{"line":1774,"type":"cond-expr","locations":[{"start":{"line":1774,"column":30},"end":{"line":1774,"column":46}},{"start":{"line":1774,"column":49},"end":{"line":1774,"column":53}}]},"145":{"line":1810,"type":"if","locations":[{"start":{"line":1810,"column":12},"end":{"line":1810,"column":12}},{"start":{"line":1810,"column":12},"end":{"line":1810,"column":12}}]},"146":{"line":1810,"type":"binary-expr","locations":[{"start":{"line":1810,"column":16},"end":{"line":1810,"column":29}},{"start":{"line":1810,"column":33},"end":{"line":1810,"column":48}}]},"147":{"line":1918,"type":"if","locations":[{"start":{"line":1918,"column":12},"end":{"line":1918,"column":12}},{"start":{"line":1918,"column":12},"end":{"line":1918,"column":12}}]},"148":{"line":1924,"type":"if","locations":[{"start":{"line":1924,"column":16},"end":{"line":1924,"column":16}},{"start":{"line":1924,"column":16},"end":{"line":1924,"column":16}}]},"149":{"line":1934,"type":"if","locations":[{"start":{"line":1934,"column":20},"end":{"line":1934,"column":20}},{"start":{"line":1934,"column":20},"end":{"line":1934,"column":20}}]},"150":{"line":2208,"type":"if","locations":[{"start":{"line":2208,"column":12},"end":{"line":2208,"column":12}},{"start":{"line":2208,"column":12},"end":{"line":2208,"column":12}}]},"151":{"line":2209,"type":"binary-expr","locations":[{"start":{"line":2209,"column":16},"end":{"line":2209,"column":34}},{"start":{"line":2210,"column":16},"end":{"line":2210,"column":68}}]},"152":{"line":2219,"type":"if","locations":[{"start":{"line":2219,"column":24},"end":{"line":2219,"column":24}},{"start":{"line":2219,"column":24},"end":{"line":2219,"column":24}}]},"153":{"line":2230,"type":"if","locations":[{"start":{"line":2230,"column":8},"end":{"line":2230,"column":8}},{"start":{"line":2230,"column":8},"end":{"line":2230,"column":8}}]},"154":{"line":2376,"type":"if","locations":[{"start":{"line":2376,"column":12},"end":{"line":2376,"column":12}},{"start":{"line":2376,"column":12},"end":{"line":2376,"column":12}}]},"155":{"line":2385,"type":"cond-expr","locations":[{"start":{"line":2386,"column":8},"end":{"line":2386,"column":48}},{"start":{"line":2387,"column":8},"end":{"line":2387,"column":12}}]},"156":{"line":2385,"type":"binary-expr","locations":[{"start":{"line":2385,"column":18},"end":{"line":2385,"column":27}},{"start":{"line":2385,"column":31},"end":{"line":2385,"column":39}},{"start":{"line":2385,"column":43},"end":{"line":2385,"column":51}}]},"157":{"line":2389,"type":"if","locations":[{"start":{"line":2389,"column":4},"end":{"line":2389,"column":4}},{"start":{"line":2389,"column":4},"end":{"line":2389,"column":4}}]},"158":{"line":2389,"type":"binary-expr","locations":[{"start":{"line":2389,"column":8},"end":{"line":2389,"column":35}},{"start":{"line":2389,"column":39},"end":{"line":2389,"column":46}},{"start":{"line":2389,"column":50},"end":{"line":2389,"column":64}}]},"159":{"line":2412,"type":"binary-expr","locations":[{"start":{"line":2412,"column":34},"end":{"line":2412,"column":41}},{"start":{"line":2412,"column":45},"end":{"line":2412,"column":76}}]},"160":{"line":2436,"type":"if","locations":[{"start":{"line":2436,"column":4},"end":{"line":2436,"column":4}},{"start":{"line":2436,"column":4},"end":{"line":2436,"column":4}}]},"161":{"line":2559,"type":"binary-expr","locations":[{"start":{"line":2559,"column":31},"end":{"line":2559,"column":35}},{"start":{"line":2559,"column":39},"end":{"line":2559,"column":41}}]},"162":{"line":2612,"type":"if","locations":[{"start":{"line":2612,"column":4},"end":{"line":2612,"column":4}},{"start":{"line":2612,"column":4},"end":{"line":2612,"column":4}}]},"163":{"line":2635,"type":"if","locations":[{"start":{"line":2635,"column":4},"end":{"line":2635,"column":4}},{"start":{"line":2635,"column":4},"end":{"line":2635,"column":4}}]},"164":{"line":2635,"type":"binary-expr","locations":[{"start":{"line":2635,"column":7},"end":{"line":2635,"column":35}},{"start":{"line":2635,"column":39},"end":{"line":2635,"column":68}}]},"165":{"line":2655,"type":"if","locations":[{"start":{"line":2655,"column":16},"end":{"line":2655,"column":16}},{"start":{"line":2655,"column":16},"end":{"line":2655,"column":16}}]},"166":{"line":2655,"type":"binary-expr","locations":[{"start":{"line":2655,"column":19},"end":{"line":2655,"column":23}},{"start":{"line":2655,"column":27},"end":{"line":2655,"column":53}}]},"167":{"line":2662,"type":"if","locations":[{"start":{"line":2662,"column":20},"end":{"line":2662,"column":20}},{"start":{"line":2662,"column":20},"end":{"line":2662,"column":20}}]},"168":{"line":2666,"type":"if","locations":[{"start":{"line":2666,"column":20},"end":{"line":2666,"column":20}},{"start":{"line":2666,"column":20},"end":{"line":2666,"column":20}}]},"169":{"line":2713,"type":"if","locations":[{"start":{"line":2713,"column":11},"end":{"line":2713,"column":11}},{"start":{"line":2713,"column":11},"end":{"line":2713,"column":11}}]}},"code":["/** Angoose Client Core */","/**  depdnencies: http, Q */","var AngooseClient = function() {};","function BootstrapAngoose(){","       if(typeof(console) == 'undefined'){","            console = { log: function(){} }","       }","       console.log(\"Bootstraping angoose-client\");","    ","    // ** getClass **","    //","    // Get the model class, you may call static method such as findXXX or create new model instance","    //      ","    //      var SampleUser = angoose.getClass('SampleUser');","    //      SampleUser.findOne();","    //      var u = new SampleUser(); ","    //","    ","    var counterBase = Math.round(Math.random() * 10000) * 10000;","    var nextCounter = function() {","        return counterBase++;","    }","    var encode$ = function(obj){","        if(!obj || typeof obj != 'object') return obj;","        if(obj && obj.length){","            for(var i=0;i<obj.length;i++){","                obj[i] = encode$(obj[i]);","            };","        }","        else{","            //console.log(\"Type\", (typeof obj), obj)","            for(var key in obj){","                var val = encode$(obj[key]);","                if(key.indexOf('$')==0){","                    delete obj[key];","                    key = \"_mongo_\"+key;","                }","                obj[key] = val;","            }            ","        }","        return obj;","    }","    var getter = function (path) {","      var   pieces = path.split('.');","      var obj = this;","      for (var i = 0, l = pieces.length; i < l; i++) {","        obj = undefined === obj || null === obj","          ? undefined","          : obj[pieces[i]];","      }","      return obj;","    };","","","    var handleReturn = function(retval, callback, deferred, error){","        if(callback) return callback(error, retval);","        return  error? deferred.reject(error) : deferred.resolve(retval);","    }","","    function staticInvoker(modelClass, methodName, methodArgs) {","        return invoker( modelClass,  methodName, methodArgs, null);","","    };","    function instanceInvoker(modelClass, model, methodName, methodArgs) {","        //var modelClass = getClass(model.classname$)","        return invoker( modelClass, methodName, methodArgs, model);","    }","    function invoker(modelClass, methodName, methodArgs, modelInstance) {","        // modelInstance can be null, everything else is required.","        var modelName =  modelClass.modelName;","         console.log(\"invoker: \", modelName, methodName, methodArgs, modelClass);","        var callback = null;","        var isStatic = modelInstance==null;","        var depends = modelClass.dependencies$;","        var data = {","            method : methodName,","            seqnumber : nextCounter(),","            args : [],","            clazz: modelName,","            static: isStatic","        }","        for (var i = 0; methodArgs && methodArgs.length > i; i++) {","            if(typeof methodArgs[i] != 'function')","                data.args.push(methodArgs[i]);","            else{","                callback = methodArgs[i]","                data.args.push(\"$callback\")","                console.log(\"Callback provided\");","            }","        }","        if(!isStatic) {","            data.instance = modelInstance;  // including model instance data for instance methods","        } ","","        // angular http ignores all key names starting with $, this will break the mongo query","        data = encode$(data);","         console.log(\"****** BEGIN Client Call #\", data.seqnumber,modelName, methodName, data);","        var http = depends['http'];","        var theQ = depends['promise'];","        if (!http || !theQ) throw \"Missing http and/or Q dependencies\";","        var deferred = theQ.defer();","        var ret = http.post((getConfigs().urlPrefix || '/angoose') + \"/rmi/\" + modelName + \"/\" + methodName, data);","        ret.done(function(retdata) {","             console.log(\"****** END Client Call #\", data.seqnumber, \" result:\", retdata);","            var val = undefined;","            //@todo construct object, ret value types:  1) model data, 2) list of model data, 3) String, 4) object","            if (retdata && retdata.retval  && ( retdata.datatype =='model' || retdata.datatype =='models')) {","                ","                if(retdata.datatype == 'model'){","                    val = new modelClass(retdata.retval);","                }","                else{","                    var models = [];","                    for(var i =0; i< retdata.retval.length; i++){","                        models.push( new modelClass( retdata.retval[i]));","                    }","                    val = models;    ","                }    ","                //return handleReturn(val, callback, deferred);","                //                ","                //return deferred.resolve(models);","            }","            if (retdata && retdata.instance && !isStatic) {","                // state has been changed on the server side","                modelInstance.mergeData(retdata.instance);","                 console.log(\"Merged server side data\");","            }","            if(retdata.success)","                return handleReturn(val || retdata.retval, callback, deferred);","            var ex = retdata.exception? (retdata.exception.message || retdata.exception.value)  : retdata;","            return handleReturn(null, callback, deferred, ex);","            //deferred.reject(ex)","        }, function(errdata) {","             console.log(\"****** END Client Call #\", data.seqnumber, \" error:\", errdata);","            if(!errdata) return handleReturn(null, callback, deferred, \"Unexpected server error occurred, please contact admin\");","            var ex = errdata.exception?  (errdata.exception.message || errdata.exception.value) : errdata;","            return handleReturn(null, callback, deferred, ex);","            //return deferred.reject(ex);","        })","        if(!callback) return deferred.promise;","    }","    ","    function createProxy(module, funcName, func, funcType){","        if(typeof(func) == 'function') return func;","        if(typeof(func) == \"string\" && func.indexOf(\"function\") == 0){","            var vname;","            return eval(\"vname=\"+func);","        }","        if(funcType == 'static'){","            return function proxy(){","                return staticInvoker(module, funcName, arguments);   ","            }    ","        };","        if(funcType == 'instance'){","            return function proxy(){","                return instanceInvoker(module, this, funcName, arguments);   ","            }    ","        };","        ","    }","    /** compile the model based on the server side schema */","    function compile(modelName, schema, dependencies) {","         console.log(\"Client: compiling schema \" , modelName)","        var model = function AngooseModule(data) {","            //@todo proper clone","            for (var i in data) {","                this[i] = data[i];","            }","        };","        ","        // static methods","        for(var name in schema.statics){","            model[name] = createProxy(model, name,  schema.statics[name], 'static');","        }","        for(var name in schema.methods){","            model.prototype[name] = createProxy(model, name,  schema.methods[name], 'instance');","        }","        ","        //model.angoose$ = staticInvoker;","        model.dependencies$ = dependencies;","        model.schema = schema;","        //model.prototype.angoose$ = instanceInvoker;","        //model.prototype.classname$ = modelName;","        //model.prototype.schema$ = schema;","        model.prototype.get = getter;","        model.modelName = modelName; // this is to be compatible with backend mongoose","        model.name = modelName; ","","        // merge data into this instance","        model.prototype.mergeData = function(source) {","            if ( typeof source != \"object\")","                throw \"Invalid source object, must be an model instance\";","            //@todo: proper implementation","            for (var i in source) {","                this[i] = source[i];","            }","        }","        AngooseClient.models = AngooseClient.models || {};","        AngooseClient.models[modelName] = model;","        return model;","    };","","    function modelNames() {","        var ret = [];","        for (var key in getSchemas()) {","            ret.push(key);","        }","        return ret;","    };","","    function init(dependencies) {","        if (AngooseClient.initialized) {","             console.log(\"init has been called\");","            return;","        }","        AngooseClient.dependencies = dependencies;","         console.log(\"Initializing client angoose models\")","        for (var mName in getSchemas()) {","            compile(mName, getSchemas()[mName], dependencies);","        }","        AngooseClient.initialized = true;","    };","    function getClass(name) {","        if (!AngooseClient.initialized)","            throw \"Angoose models not initialized yet\";","        return AngooseClient.models[name];","    };","    function getConfigs() {  return  {\"urlPrefix\":\"/angoose\"} };","    function getSchemas() {  return  {","\t\"SampleService\": {","\t\t\"moduleName\": \"SampleService\",","\t\t\"methods\": {},","\t\t\"statics\": {","\t\t\t\"listFavoriteDestinations\": \"$PROXIED$\",","\t\t\t\"testExecutionContext\": \"$PROXIED$\",","\t\t\t\"testPromiseReturn\": \"$PROXIED$\",","\t\t\t\"testErrorBack\": \"$PROXIED$\",","\t\t\t\"config\": \"$PROXIED$\"","\t\t}","\t},","\t\"SampleUser\": {","\t\t\"moduleName\": \"SampleUser\",","\t\t\"methods\": {","\t\t\t\"getFullname\": \"function portable(){\\n    //_instance_portable\\n    console.log(\\\"getFullname\\\", this);\\n    return  (this.firstname ? this.firstname +\\\" \\\": \\\"\\\") + (this.lastname || \\\"\\\");\\n}\",","\t\t\t\"setPassword\": \"$PROXIED$\",","\t\t\t\"save\": \"$PROXIED$\",","\t\t\t\"remove\": \"$PROXIED$\",","\t\t\t\"populate\": \"$PROXIED$\"","\t\t},","\t\t\"statics\": {","\t\t\t\"getSample\": \"$PROXIED$\",","\t\t\t\"checkExists\": \"$PROXIED$\",","\t\t\t\"populate\": \"$PROXIED$\",","\t\t\t\"find\": \"$PROXIED$\",","\t\t\t\"findOne\": \"$PROXIED$\",","\t\t\t\"findById\": \"$PROXIED$\",","\t\t\t\"findByIdAndRemove\": \"$PROXIED$\",","\t\t\t\"findByIdAndUpdate\": \"$PROXIED$\",","\t\t\t\"findOneAndRemove\": \"$PROXIED$\",","\t\t\t\"findOneAndUpdate\": \"$PROXIED$\",","\t\t\t\"update\": \"$PROXIED$\",","\t\t\t\"remove\": \"$PROXIED$\",","\t\t\t\"count\": \"$PROXIED$\",","\t\t\t\"geoNear\": \"$PROXIED$\",","\t\t\t\"geoSearch\": \"$PROXIED$\",","\t\t\t\"create\": \"$PROXIED$\"","\t\t},","\t\t\"paths\": {","\t\t\t\"email\": {","\t\t\t\t\"enumValues\": [],","\t\t\t\t\"regExp\": null,","\t\t\t\t\"path\": \"email\",","\t\t\t\t\"instance\": \"String\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"String\",","\t\t\t\t\t\"required\": true,","\t\t\t\t\t\"match\": {},","\t\t\t\t\t\"unique\": true","\t\t\t\t},","\t\t\t\t\"_index\": {","\t\t\t\t\t\"unique\": true,","\t\t\t\t\t\"background\": true","\t\t\t\t},","\t\t\t\t\"isRequired\": true","\t\t\t},","\t\t\t\"firstname\": {","\t\t\t\t\"enumValues\": [],","\t\t\t\t\"regExp\": null,","\t\t\t\t\"path\": \"firstname\",","\t\t\t\t\"instance\": \"String\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"String\",","\t\t\t\t\t\"required\": true","\t\t\t\t},","\t\t\t\t\"_index\": null,","\t\t\t\t\"isRequired\": true","\t\t\t},","\t\t\t\"lastname\": {","\t\t\t\t\"enumValues\": [],","\t\t\t\t\"regExp\": null,","\t\t\t\t\"path\": \"lastname\",","\t\t\t\t\"instance\": \"String\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"String\",","\t\t\t\t\t\"required\": true","\t\t\t\t},","\t\t\t\t\"_index\": null,","\t\t\t\t\"isRequired\": true","\t\t\t},","\t\t\t\"status\": {","\t\t\t\t\"enumValues\": [","\t\t\t\t\t\"inactive\",","\t\t\t\t\t\"active\",","\t\t\t\t\t\"disabled\",","\t\t\t\t\t\"archived\"","\t\t\t\t],","\t\t\t\t\"regExp\": null,","\t\t\t\t\"path\": \"status\",","\t\t\t\t\"instance\": \"String\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"String\",","\t\t\t\t\t\"enum\": [","\t\t\t\t\t\t\"inactive\",","\t\t\t\t\t\t\"active\",","\t\t\t\t\t\t\"disabled\",","\t\t\t\t\t\t\"archived\"","\t\t\t\t\t],","\t\t\t\t\t\"required\": true,","\t\t\t\t\t\"def\": \"inactive\"","\t\t\t\t},","\t\t\t\t\"_index\": null,","\t\t\t\t\"isRequired\": true","\t\t\t},","\t\t\t\"password\": {","\t\t\t\t\"enumValues\": [],","\t\t\t\t\"regExp\": null,","\t\t\t\t\"path\": \"password\",","\t\t\t\t\"instance\": \"String\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"String\"","\t\t\t\t},","\t\t\t\t\"_index\": null","\t\t\t},","\t\t\t\"verified\": {","\t\t\t\t\"path\": \"verified\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"Boolean\"","\t\t\t\t},","\t\t\t\t\"_index\": null","\t\t\t},","\t\t\t\"groupRef\": {","\t\t\t\t\"path\": \"groupRef\",","\t\t\t\t\"instance\": \"ObjectID\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"ObjectId\",","\t\t\t\t\t\"ref\": \"SampeUserGroup\"","\t\t\t\t},","\t\t\t\t\"_index\": null","\t\t\t},","\t\t\t\"_id\": {","\t\t\t\t\"path\": \"_id\",","\t\t\t\t\"instance\": \"ObjectID\",","\t\t\t\t\"setters\": [","\t\t\t\t\t\"not-supported\"","\t\t\t\t],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"ObjectId\",","\t\t\t\t\t\"auto\": true","\t\t\t\t},","\t\t\t\t\"_index\": null,","\t\t\t\t\"defaultValue\": \"not-supported\"","\t\t\t},","\t\t\t\"__v\": {","\t\t\t\t\"path\": \"__v\",","\t\t\t\t\"instance\": \"Number\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"Number\"","\t\t\t\t},","\t\t\t\t\"_index\": null","\t\t\t}","\t\t},","\t\t\"options\": {","\t\t\t\"collection\": \"SampleUsers\",","\t\t\t\"discriminatorKey\": \"type\",","\t\t\t\"id\": true,","\t\t\t\"noVirtualId\": false,","\t\t\t\"_id\": true,","\t\t\t\"noId\": false,","\t\t\t\"read\": null,","\t\t\t\"shardKey\": null,","\t\t\t\"autoIndex\": true,","\t\t\t\"minimize\": true,","\t\t\t\"versionKey\": \"__v\",","\t\t\t\"capped\": false,","\t\t\t\"bufferCommands\": true,","\t\t\t\"strict\": true,","\t\t\t\"pluralization\": true","\t\t}","\t},","\t\"SampleUserGroup\": {","\t\t\"moduleName\": \"SampleUserGroup\",","\t\t\"methods\": {","\t\t\t\"save\": \"$PROXIED$\",","\t\t\t\"remove\": \"$PROXIED$\",","\t\t\t\"populate\": \"$PROXIED$\"","\t\t},","\t\t\"statics\": {","\t\t\t\"populate\": \"$PROXIED$\",","\t\t\t\"find\": \"$PROXIED$\",","\t\t\t\"findOne\": \"$PROXIED$\",","\t\t\t\"findById\": \"$PROXIED$\",","\t\t\t\"findByIdAndRemove\": \"$PROXIED$\",","\t\t\t\"findByIdAndUpdate\": \"$PROXIED$\",","\t\t\t\"findOneAndRemove\": \"$PROXIED$\",","\t\t\t\"findOneAndUpdate\": \"$PROXIED$\",","\t\t\t\"update\": \"$PROXIED$\",","\t\t\t\"remove\": \"$PROXIED$\",","\t\t\t\"count\": \"$PROXIED$\",","\t\t\t\"geoNear\": \"$PROXIED$\",","\t\t\t\"geoSearch\": \"$PROXIED$\",","\t\t\t\"create\": \"$PROXIED$\"","\t\t},","\t\t\"paths\": {","\t\t\t\"name\": {","\t\t\t\t\"enumValues\": [],","\t\t\t\t\"regExp\": null,","\t\t\t\t\"path\": \"name\",","\t\t\t\t\"instance\": \"String\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"String\",","\t\t\t\t\t\"required\": true,","\t\t\t\t\t\"unique\": true","\t\t\t\t},","\t\t\t\t\"_index\": {","\t\t\t\t\t\"unique\": true,","\t\t\t\t\t\"background\": true","\t\t\t\t},","\t\t\t\t\"isRequired\": true","\t\t\t},","\t\t\t\"description\": {","\t\t\t\t\"enumValues\": [],","\t\t\t\t\"regExp\": null,","\t\t\t\t\"path\": \"description\",","\t\t\t\t\"instance\": \"String\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"String\"","\t\t\t\t},","\t\t\t\t\"_index\": null","\t\t\t},","\t\t\t\"_id\": {","\t\t\t\t\"path\": \"_id\",","\t\t\t\t\"instance\": \"ObjectID\",","\t\t\t\t\"setters\": [","\t\t\t\t\t\"not-supported\"","\t\t\t\t],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"ObjectId\",","\t\t\t\t\t\"auto\": true","\t\t\t\t},","\t\t\t\t\"_index\": null,","\t\t\t\t\"defaultValue\": \"not-supported\"","\t\t\t},","\t\t\t\"__v\": {","\t\t\t\t\"path\": \"__v\",","\t\t\t\t\"instance\": \"Number\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"Number\"","\t\t\t\t},","\t\t\t\t\"_index\": null","\t\t\t}","\t\t},","\t\t\"options\": {","\t\t\t\"collection\": \"SampleGroups\",","\t\t\t\"id\": true,","\t\t\t\"noVirtualId\": false,","\t\t\t\"_id\": true,","\t\t\t\"noId\": false,","\t\t\t\"read\": null,","\t\t\t\"shardKey\": null,","\t\t\t\"autoIndex\": true,","\t\t\t\"minimize\": true,","\t\t\t\"discriminatorKey\": \"__t\",","\t\t\t\"versionKey\": \"__v\",","\t\t\t\"capped\": false,","\t\t\t\"bufferCommands\": true,","\t\t\t\"strict\": true,","\t\t\t\"pluralization\": true","\t\t}","\t},","\t\"Todo\": {","\t\t\"moduleName\": \"Todo\",","\t\t\"methods\": {","\t\t\t\"save\": \"$PROXIED$\",","\t\t\t\"remove\": \"$PROXIED$\",","\t\t\t\"populate\": \"$PROXIED$\"","\t\t},","\t\t\"statics\": {","\t\t\t\"populate\": \"$PROXIED$\",","\t\t\t\"find\": \"$PROXIED$\",","\t\t\t\"findOne\": \"$PROXIED$\",","\t\t\t\"findById\": \"$PROXIED$\",","\t\t\t\"findByIdAndRemove\": \"$PROXIED$\",","\t\t\t\"findByIdAndUpdate\": \"$PROXIED$\",","\t\t\t\"findOneAndRemove\": \"$PROXIED$\",","\t\t\t\"findOneAndUpdate\": \"$PROXIED$\",","\t\t\t\"update\": \"$PROXIED$\",","\t\t\t\"remove\": \"$PROXIED$\",","\t\t\t\"count\": \"$PROXIED$\",","\t\t\t\"geoNear\": \"$PROXIED$\",","\t\t\t\"geoSearch\": \"$PROXIED$\",","\t\t\t\"create\": \"$PROXIED$\"","\t\t},","\t\t\"paths\": {","\t\t\t\"title\": {","\t\t\t\t\"enumValues\": [],","\t\t\t\t\"regExp\": null,","\t\t\t\t\"path\": \"title\",","\t\t\t\t\"instance\": \"String\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"String\",","\t\t\t\t\t\"required\": true","\t\t\t\t},","\t\t\t\t\"_index\": null,","\t\t\t\t\"isRequired\": true","\t\t\t},","\t\t\t\"completed\": {","\t\t\t\t\"path\": \"completed\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"Boolean\"","\t\t\t\t},","\t\t\t\t\"_index\": null","\t\t\t},","\t\t\t\"_id\": {","\t\t\t\t\"path\": \"_id\",","\t\t\t\t\"instance\": \"ObjectID\",","\t\t\t\t\"setters\": [","\t\t\t\t\t\"not-supported\"","\t\t\t\t],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"ObjectId\",","\t\t\t\t\t\"auto\": true","\t\t\t\t},","\t\t\t\t\"_index\": null,","\t\t\t\t\"defaultValue\": \"not-supported\"","\t\t\t},","\t\t\t\"__v\": {","\t\t\t\t\"path\": \"__v\",","\t\t\t\t\"instance\": \"Number\",","\t\t\t\t\"setters\": [],","\t\t\t\t\"getters\": [],","\t\t\t\t\"options\": {","\t\t\t\t\t\"type\": \"Number\"","\t\t\t\t},","\t\t\t\t\"_index\": null","\t\t\t}","\t\t},","\t\t\"options\": {","\t\t\t\"id\": true,","\t\t\t\"noVirtualId\": false,","\t\t\t\"_id\": true,","\t\t\t\"noId\": false,","\t\t\t\"read\": null,","\t\t\t\"shardKey\": null,","\t\t\t\"autoIndex\": true,","\t\t\t\"minimize\": true,","\t\t\t\"discriminatorKey\": \"__t\",","\t\t\t\"versionKey\": \"__v\",","\t\t\t\"capped\": false,","\t\t\t\"bufferCommands\": true,","\t\t\t\"strict\": true,","\t\t\t\"pluralization\": true","\t\t}","\t}","} };","    ","    AngooseClient.getClass = getClass;","    AngooseClient.model = getClass;","    AngooseClient.modelNames = modelNames;","    AngooseClient.init = init;","    AngooseClient.module = getClass;","","}","","BootstrapAngoose();     ","","if (typeof(angoose) == 'undefined'){","    function angoose(name){","        return AngooseClient.getClass(name);","    }","} ","","/****** Angular Adapter for Angoose Client *******/","// Angular client for Angoose automatically register the model and service classes as angular injectables. ","// For instance, with the `SampleUser` model, you can inject in your controller:","//","//      angular.module('myapp', ['angoose.client'])","//            .controller('MyCtroller', function($scope, SampleUser){","//              $scope.users = SampleUser.$query({'status':'active'});","//        })      ","//","(function(){","    if(typeof angular =='undefined'){","        console.log(\"No angular\")","        return;  ","    } ","    console.log(\"##### Angoose Client Loading\");","    var angularModule =  angular.module(\"angoose.client\", []);","    AngooseClient.client='angular';","    ","    // ** angoose **","    //","    //  You may require `angoose` client as an injectable","    //  ","    angularModule.factory('angoose', function($http, $q){","            var myQ = addDoneMethod($q);","            AngooseClient.init({","                http:angularHttpWrapper($http, myQ),","                promise: myQ","            });","            return AngooseClient;","    })","    function factoryFunc(modelName){","        console.log(\"Create factory for model \"+ modelName)","        angularModule.factory(modelName , function($http, $q, $rootScope, $timeout, angoose){","            var acModel = AngooseClient.model(modelName);","            resourceAdapt(acModel, $rootScope, $timeout);","            return acModel;","        });","    }","    angular.forEach( AngooseClient.modelNames(), factoryFunc );","","    function addDoneMethod($q){","        var myQ = angular.extend({}, $q)","        myQ.defer = function(){","            var out = $q.defer.apply($q, arguments);","            if(out.promise.done) return out;","            out.promise.done = function(successCallback, errorCallback){","                out.promise.then(successCallback, errorCallback);","            }","            return out;","        }","        return myQ;","    }","    function angularHttpWrapper($http, $q){","        var ret = {};","        ret.post = function(){","            var deferred = $q.defer();","            $http.post.apply($http, arguments).success(function(data){","                deferred.resolve(  data );","            }).error(function(err){","                deferred.reject(err);","            });","            return deferred.promise;","        }","        return ret;","    }","    function resourceAdapt(modelClass, $rootScope, $timeout){","        // now adpat to angular resource","        modelClass.$get= function(){","            if(!modelClass.findOne) throw \"Model does not support findOne operation\";","            var modelInstance = new modelClass();","            modelClass.findOne.apply(modelClass, arguments).done(function(object){","                // the return data should be a model instance","                modelInstance.mergeData(object);","                //$rootScope.$digest();","                console.log(\"Copied server data to placeholder\", modelInstance)","            }, function(err){","                console.error(\"Unable to load server data\", err);","            });    ","            ","            return modelInstance;","        };","        modelClass.$query=function(){","            if(!modelClass.find) throw \"Model does not support find operation\";","            var models = [];","            modelClass.find.apply(modelClass, arguments).done(function(retModels){","                // the return data should be a list of models","                models.length = 0;","                for(var i=0; retModels && retModels.length>i; i++)","                    models[i] = retModels[i];","                //$rootScope.$digest();","                console.log(\"Copied server data to placeholder\")","            }, function(err){","                console.error(\"Unable to load server data\", err);","            });","            return models;","        };","    }","})();","","// testing functions","function $anget(serviceName){","    return angular.element(document).injector().get(serviceName)","}// depdnencies: http, Q","/****** jQuery plugin for Angoose Client *******/","(function(){","    if(AngooseClient.client) return;","    if(typeof($) == 'undefined' && typeof(jQuery) == 'undefined') return;","    AngooseClient.client = 'jquery';","    var $ = $ || jQuery;","    var $q = typeof(Q) == 'undefined'? createQ() : Q;","    ","    console.log(\"##### Angoose Client for jQuery Initializing\");","     AngooseClient.init({","                http: ajaxHttpWrapper(),","                promise: $q","            });","     function ajaxHttpWrapper( ){","        var ret = {};","        ret.post = function(){","            var deferred = $q.defer();","            $.post.apply($, arguments).done(function(data, textStatus, jqXHR ){","                console.log(\"Post return \", data)","                deferred.resolve(  data );","            }).fail(function( jqXHR, textStatus, err){","                deferred.reject(err);","            });","            return deferred.promise;","        }","        return ret;","    }","   ","})();","","// testing functions","function $anget(serviceName){","    return angular.element(document).injector().get(serviceName)","}","","/** include Q for now */","function createQ() {","\"use strict\";","","var hasStacks = false;","try {","    throw new Error();","} catch (e) {","    hasStacks = !!e.stack;","}","","// All code after this point will be filtered from stack traces reported","// by Q.","var qStartingLine = captureLine();","var qFileName;","","// shims","","// used for fallback in \"allResolved\"","var noop = function () {};","","// Use the fastest possible means to execute a task in a future turn","// of the event loop.","var nextTick =(function () {","    // linked list of tasks (single, with head node)","    var head = {task: void 0, next: null};","    var tail = head;","    var flushing = false;","    var requestTick = void 0;","    var isNodeJS = false;","","    function flush() {","        /* jshint loopfunc: true */","","        while (head.next) {","            head = head.next;","            var task = head.task;","            head.task = void 0;","            var domain = head.domain;","","            if (domain) {","                head.domain = void 0;","                domain.enter();","            }","","            try {","                task();","","            } catch (e) {","                if (isNodeJS) {","                    // In node, uncaught exceptions are considered fatal errors.","                    // Re-throw them synchronously to interrupt flushing!","","                    // Ensure continuation if the uncaught exception is suppressed","                    // listening \"uncaughtException\" events (as domains does).","                    // Continue in next event to avoid tick recursion.","                    if (domain) {","                        domain.exit();","                    }","                    setTimeout(flush, 0);","                    if (domain) {","                        domain.enter();","                    }","","                    throw e;","","                } else {","                    // In browsers, uncaught exceptions are not fatal.","                    // Re-throw them asynchronously to avoid slow-downs.","                    setTimeout(function() {","                       throw e;","                    }, 0);","                }","            }","","            if (domain) {","                domain.exit();","            }","        }","","        flushing = false;","    }","","    nextTick = function (task) {","        tail = tail.next = {","            task: task,","            domain: isNodeJS && process.domain,","            next: null","        };","","        if (!flushing) {","            flushing = true;","            requestTick();","        }","    };","","    if (typeof process !== \"undefined\" && process.nextTick) {","        // Node.js before 0.9. Note that some fake-Node environments, like the","        // Mocha test runner, introduce a `process` global without a `nextTick`.","        isNodeJS = true;","","        requestTick = function () {","            process.nextTick(flush);","        };","","    } else if (typeof setImmediate === \"function\") {","        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate","        if (typeof window !== \"undefined\") {","            requestTick = setImmediate.bind(window, flush);","        } else {","            requestTick = function () {","                setImmediate(flush);","            };","        }","","    } else if (typeof MessageChannel !== \"undefined\") {","        // modern browsers","        // http://www.nonblocking.io/2011/06/windownexttick.html","        var channel = new MessageChannel();","        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create","        // working message ports the first time a page loads.","        channel.port1.onmessage = function () {","            requestTick = requestPortTick;","            channel.port1.onmessage = flush;","            flush();","        };","        var requestPortTick = function () {","            // Opera requires us to provide a message payload, regardless of","            // whether we use it.","            channel.port2.postMessage(0);","        };","        requestTick = function () {","            setTimeout(flush, 0);","            requestPortTick();","        };","","    } else {","        // old browsers","        requestTick = function () {","            setTimeout(flush, 0);","        };","    }","","    return nextTick;","})();","","// Attempt to make generics safe in the face of downstream","// modifications.","// There is no situation where this is necessary.","// If you need a security guarantee, these primordials need to be","// deeply frozen anyway, and if you donb\u0000\u0019t need a security guarantee,","// this is just plain paranoid.","// However, this **might** have the nice side-effect of reducing the size of","// the minified code by reducing x.call() to merely x()","// See Mark Millerb\u0000\u0019s explanation of what this does.","// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming","var call = Function.call;","function uncurryThis(f) {","    return function () {","        return call.apply(f, arguments);","    };","}","// This is equivalent, but slower:","// uncurryThis = Function_bind.bind(Function_bind.call);","// http://jsperf.com/uncurrythis","","var array_slice = uncurryThis(Array.prototype.slice);","","var array_reduce = uncurryThis(","    Array.prototype.reduce || function (callback, basis) {","        var index = 0,","            length = this.length;","        // concerning the initial value, if one is not provided","        if (arguments.length === 1) {","            // seek to the first value in the array, accounting","            // for the possibility that is is a sparse array","            do {","                if (index in this) {","                    basis = this[index++];","                    break;","                }","                if (++index >= length) {","                    throw new TypeError();","                }","            } while (1);","        }","        // reduce","        for (; index < length; index++) {","            // account for the possibility that the array is sparse","            if (index in this) {","                basis = callback(basis, this[index], index);","            }","        }","        return basis;","    }",");","","var array_indexOf = uncurryThis(","    Array.prototype.indexOf || function (value) {","        // not a very good shim, but good enough for our one use of it","        for (var i = 0; i < this.length; i++) {","            if (this[i] === value) {","                return i;","            }","        }","        return -1;","    }",");","","var array_map = uncurryThis(","    Array.prototype.map || function (callback, thisp) {","        var self = this;","        var collect = [];","        array_reduce(self, function (undefined, value, index) {","            collect.push(callback.call(thisp, value, index, self));","        }, void 0);","        return collect;","    }",");","","var object_create = Object.create || function (prototype) {","    function Type() { }","    Type.prototype = prototype;","    return new Type();","};","","var object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);","","var object_keys = Object.keys || function (object) {","    var keys = [];","    for (var key in object) {","        if (object_hasOwnProperty(object, key)) {","            keys.push(key);","        }","    }","    return keys;","};","","var object_toString = uncurryThis(Object.prototype.toString);","","function isObject(value) {","    return value === Object(value);","}","","// generator related shims","","// FIXME: Remove this function once ES6 generators are in SpiderMonkey.","function isStopIteration(exception) {","    return (","        object_toString(exception) === \"[object StopIteration]\" ||","        exception instanceof QReturnValue","    );","}","","// FIXME: Remove this helper and Q.return once ES6 generators are in","// SpiderMonkey.","var QReturnValue;","if (typeof ReturnValue !== \"undefined\") {","    QReturnValue = ReturnValue;","} else {","    QReturnValue = function (value) {","        this.value = value;","    };","}","","// Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only","// engine that has a deployed base of browsers that support generators.","// However, SM's generators use the Python-inspired semantics of","// outdated ES6 drafts.  We would like to support ES6, but we'd also","// like to make it possible to use generators in deployed browsers, so","// we also support Python-style generators.  At some point we can remove","// this block.","var hasES6Generators;","try {","    /* jshint evil: true, nonew: false */","    new Function(\"(function* (){ yield 1; })\");","    hasES6Generators = true;","} catch (e) {","    hasES6Generators = false;","}","","// long stack traces","","var STACK_JUMP_SEPARATOR = \"From previous event:\";","","function makeStackTraceLong(error, promise) {","    // If possible, transform the error stack trace by removing Node and Q","    // cruft, then concatenating with the stack trace of `promise`. See #57.","    if (hasStacks &&","        promise.stack &&","        typeof error === \"object\" &&","        error !== null &&","        error.stack &&","        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1","    ) {","        var stacks = [];","        for (var p = promise; !!p; p = p.source) {","            if (p.stack) {","                stacks.unshift(p.stack);","            }","        }","        stacks.unshift(error.stack);","","        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");","        error.stack = filterStackString(concatedStacks);","    }","}","","function filterStackString(stackString) {","    var lines = stackString.split(\"\\n\");","    var desiredLines = [];","    for (var i = 0; i < lines.length; ++i) {","        var line = lines[i];","","        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {","            desiredLines.push(line);","        }","    }","    return desiredLines.join(\"\\n\");","}","","function isNodeFrame(stackLine) {","    return stackLine.indexOf(\"(module.js:\") !== -1 ||","           stackLine.indexOf(\"(node.js:\") !== -1;","}","","function getFileNameAndLineNumber(stackLine) {","    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"","    // In IE10 function name can have spaces (\"Anonymous function\") O_o","    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);","    if (attempt1) {","        return [attempt1[1], Number(attempt1[2])];","    }","","    // Anonymous functions: \"at filename:lineNumber:columnNumber\"","    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);","    if (attempt2) {","        return [attempt2[1], Number(attempt2[2])];","    }","","    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"","    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);","    if (attempt3) {","        return [attempt3[1], Number(attempt3[2])];","    }","}","","function isInternalFrame(stackLine) {","    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);","","    if (!fileNameAndLineNumber) {","        return false;","    }","","    var fileName = fileNameAndLineNumber[0];","    var lineNumber = fileNameAndLineNumber[1];","","    return fileName === qFileName &&","        lineNumber >= qStartingLine &&","        lineNumber <= qEndingLine;","}","","// discover own file name and line number range for filtering stack","// traces","function captureLine() {","    if (!hasStacks) {","        return;","    }","","    try {","        throw new Error();","    } catch (e) {","        var lines = e.stack.split(\"\\n\");","        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];","        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);","        if (!fileNameAndLineNumber) {","            return;","        }","","        qFileName = fileNameAndLineNumber[0];","        return fileNameAndLineNumber[1];","    }","}","","function deprecate(callback, name, alternative) {","    return function () {","        if (typeof console !== \"undefined\" &&","            typeof console.warn === \"function\") {","            console.warn(name + \" is deprecated, use \" + alternative +","                         \" instead.\", new Error(\"\").stack);","        }","        return callback.apply(callback, arguments);","    };","}","","// end of shims","// beginning of real work","","/**"," * Constructs a promise for an immediate reference, passes promises through, or"," * coerces promises from different systems."," * @param value immediate reference or promise"," */","function Q(value) {","    // If the object is already a Promise, return it directly.  This enables","    // the resolve function to both be used to created references from objects,","    // but to tolerably coerce non-promises to promises.","    if (isPromise(value)) {","        return value;","    }","","    // assimilate thenables","    if (isPromiseAlike(value)) {","        return coerce(value);","    } else {","        return fulfill(value);","    }","}","Q.resolve = Q;","","/**"," * Performs a task in a future turn of the event loop."," * @param {Function} task"," */","Q.nextTick = nextTick;","","/**"," * Controls whether or not long stack traces will be on"," */","Q.longStackSupport = false;","","/**"," * Constructs a {promise, resolve, reject} object."," *"," * `resolve` is a callback to invoke with a more resolved value for the"," * promise. To fulfill the promise, invoke `resolve` with any value that is"," * not a thenable. To reject the promise, invoke `resolve` with a rejected"," * thenable, or invoke `reject` with the reason directly. To resolve the"," * promise to another thenable, thus putting it in the same state, invoke"," * `resolve` with that other thenable."," */","Q.defer = defer;","function defer() {","    // if \"messages\" is an \"Array\", that indicates that the promise has not yet","    // been resolved.  If it is \"undefined\", it has been resolved.  Each","    // element of the messages array is itself an array of complete arguments to","    // forward to the resolved promise.  We coerce the resolution value to a","    // promise using the `resolve` function because it handles both fully","    // non-thenable values and other thenables gracefully.","    var messages = [], progressListeners = [], resolvedPromise;","","    var deferred = object_create(defer.prototype);","    var promise = object_create(Promise.prototype);","","    promise.promiseDispatch = function (resolve, op, operands) {","        var args = array_slice(arguments);","        if (messages) {","            messages.push(args);","            if (op === \"when\" && operands[1]) { // progress operand","                progressListeners.push(operands[1]);","            }","        } else {","            nextTick(function () {","                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);","            });","        }","    };","","    // XXX deprecated","    promise.valueOf = function () {","        if (messages) {","            return promise;","        }","        var nearerValue = nearer(resolvedPromise);","        if (isPromise(nearerValue)) {","            resolvedPromise = nearerValue; // shorten chain","        }","        return nearerValue;","    };","","    promise.inspect = function () {","        if (!resolvedPromise) {","            return { state: \"pending\" };","        }","        return resolvedPromise.inspect();","    };","","    if (Q.longStackSupport && hasStacks) {","        try {","            throw new Error();","        } catch (e) {","            // NOTE: don't try to use `Error.captureStackTrace` or transfer the","            // accessor around; that causes memory leaks as per GH-111. Just","            // reify the stack trace as a string ASAP.","            //","            // At the same time, cut off the first line; it's always just","            // \"[object Promise]\\n\", as per the `toString`.","            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);","        }","    }","","    // NOTE: we do the checks for `resolvedPromise` in each method, instead of","    // consolidating them into `become`, since otherwise we'd create new","    // promises with the lines `become(whatever(value))`. See e.g. GH-252.","","    function become(newPromise) {","        resolvedPromise = newPromise;","        promise.source = newPromise;","","        array_reduce(messages, function (undefined, message) {","            nextTick(function () {","                newPromise.promiseDispatch.apply(newPromise, message);","            });","        }, void 0);","","        messages = void 0;","        progressListeners = void 0;","    }","","    deferred.promise = promise;","    deferred.resolve = function (value) {","        if (resolvedPromise) {","            return;","        }","","        become(Q(value));","    };","","    deferred.fulfill = function (value) {","        if (resolvedPromise) {","            return;","        }","","        become(fulfill(value));","    };","    deferred.reject = function (reason) {","        if (resolvedPromise) {","            return;","        }","","        become(reject(reason));","    };","    deferred.notify = function (progress) {","        if (resolvedPromise) {","            return;","        }","","        array_reduce(progressListeners, function (undefined, progressListener) {","            nextTick(function () {","                progressListener(progress);","            });","        }, void 0);","    };","","    return deferred;","}","","/**"," * Creates a Node-style callback that will resolve or reject the deferred"," * promise."," * @returns a nodeback"," */","defer.prototype.makeNodeResolver = function () {","    var self = this;","    return function (error, value) {","        if (error) {","            self.reject(error);","        } else if (arguments.length > 2) {","            self.resolve(array_slice(arguments, 1));","        } else {","            self.resolve(value);","        }","    };","};","","/**"," * @param resolver {Function} a function that returns nothing and accepts"," * the resolve, reject, and notify functions for a deferred."," * @returns a promise that may be resolved with the given resolve and reject"," * functions, or rejected by a thrown exception in resolver"," */","Q.promise = promise;","function promise(resolver) {","    if (typeof resolver !== \"function\") {","        throw new TypeError(\"resolver must be a function.\");","    }","    var deferred = defer();","    try {","        resolver(deferred.resolve, deferred.reject, deferred.notify);","    } catch (reason) {","        deferred.reject(reason);","    }","    return deferred.promise;","}","","// XXX experimental.  This method is a way to denote that a local value is","// serializable and should be immediately dispatched to a remote upon request,","// instead of passing a reference.","Q.passByCopy = function (object) {","    //freeze(object);","    //passByCopies.set(object, true);","    return object;","};","","Promise.prototype.passByCopy = function () {","    //freeze(object);","    //passByCopies.set(object, true);","    return this;","};","","/**"," * If two promises eventually fulfill to the same value, promises that value,"," * but otherwise rejects."," * @param x {Any*}"," * @param y {Any*}"," * @returns {Any*} a promise for x and y if they are the same, but a rejection"," * otherwise."," *"," */","Q.join = function (x, y) {","    return Q(x).join(y);","};","","Promise.prototype.join = function (that) {","    return Q([this, that]).spread(function (x, y) {","        if (x === y) {","            // TODO: \"===\" should be Object.is or equiv","            return x;","        } else {","            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);","        }","    });","};","","/**"," * Returns a promise for the first of an array of promises to become fulfilled."," * @param answers {Array[Any*]} promises to race"," * @returns {Any*} the first promise to be fulfilled"," */","Q.race = race;","function race(answerPs) {","    return promise(function(resolve, reject) {","        // Switch to this once we can assume at least ES5","        // answerPs.forEach(function(answerP) {","        //     Q(answerP).then(resolve, reject);","        // });","        // Use this in the meantime","        for (var i = 0, len = answerPs.length; i < len; i++) {","            Q(answerPs[i]).then(resolve, reject);","        }","    });","}","","Promise.prototype.race = function () {","    return this.then(Q.race);","};","","/**"," * Constructs a Promise with a promise descriptor object and optional fallback"," * function.  The descriptor contains methods like when(rejected), get(name),"," * set(name, value), post(name, args), and delete(name), which all"," * return either a value, a promise for a value, or a rejection.  The fallback"," * accepts the operation name, a resolver, and any further arguments that would"," * have been forwarded to the appropriate method above had a method been"," * provided with the proper name.  The API makes no guarantees about the nature"," * of the returned object, apart from that it is usable whereever promises are"," * bought and sold."," */","Q.makePromise = Promise;","function Promise(descriptor, fallback, inspect) {","    if (fallback === void 0) {","        fallback = function (op) {","            return reject(new Error(","                \"Promise does not support operation: \" + op","            ));","        };","    }","    if (inspect === void 0) {","        inspect = function () {","            return {state: \"unknown\"};","        };","    }","","    var promise = object_create(Promise.prototype);","","    promise.promiseDispatch = function (resolve, op, args) {","        var result;","        try {","            if (descriptor[op]) {","                result = descriptor[op].apply(promise, args);","            } else {","                result = fallback.call(promise, op, args);","            }","        } catch (exception) {","            result = reject(exception);","        }","        if (resolve) {","            resolve(result);","        }","    };","","    promise.inspect = inspect;","","    // XXX deprecated `valueOf` and `exception` support","    if (inspect) {","        var inspected = inspect();","        if (inspected.state === \"rejected\") {","            promise.exception = inspected.reason;","        }","","        promise.valueOf = function () {","            var inspected = inspect();","            if (inspected.state === \"pending\" ||","                inspected.state === \"rejected\") {","                return promise;","            }","            return inspected.value;","        };","    }","","    return promise;","}","","Promise.prototype.toString = function () {","    return \"[object Promise]\";","};","","Promise.prototype.then = function (fulfilled, rejected, progressed) {","    var self = this;","    var deferred = defer();","    var done = false;   // ensure the untrusted promise makes at most a","                        // single call to one of the callbacks","","    function _fulfilled(value) {","        try {","            return typeof fulfilled === \"function\" ? fulfilled(value) : value;","        } catch (exception) {","            return reject(exception);","        }","    }","","    function _rejected(exception) {","        if (typeof rejected === \"function\") {","            makeStackTraceLong(exception, self);","            try {","                return rejected(exception);","            } catch (newException) {","                return reject(newException);","            }","        }","        return reject(exception);","    }","","    function _progressed(value) {","        return typeof progressed === \"function\" ? progressed(value) : value;","    }","","    nextTick(function () {","        self.promiseDispatch(function (value) {","            if (done) {","                return;","            }","            done = true;","","            deferred.resolve(_fulfilled(value));","        }, \"when\", [function (exception) {","            if (done) {","                return;","            }","            done = true;","","            deferred.resolve(_rejected(exception));","        }]);","    });","","    // Progress propagator need to be attached in the current tick.","    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {","        var newValue;","        var threw = false;","        try {","            newValue = _progressed(value);","        } catch (e) {","            threw = true;","            if (Q.onerror) {","                Q.onerror(e);","            } else {","                throw e;","            }","        }","","        if (!threw) {","            deferred.notify(newValue);","        }","    }]);","","    return deferred.promise;","};","","/**"," * Registers an observer on a promise."," *"," * Guarantees:"," *"," * 1. that fulfilled and rejected will be called only once."," * 2. that either the fulfilled callback or the rejected callback will be"," *    called, but not both."," * 3. that fulfilled and rejected will not be called in this turn."," *"," * @param value      promise or immediate reference to observe"," * @param fulfilled  function to be called with the fulfilled value"," * @param rejected   function to be called with the rejection exception"," * @param progressed function to be called on any progress notifications"," * @return promise for the return value from the invoked callback"," */","Q.when = when;","function when(value, fulfilled, rejected, progressed) {","    return Q(value).then(fulfilled, rejected, progressed);","}","","Promise.prototype.thenResolve = function (value) {","    return this.then(function () { return value; });","};","","Q.thenResolve = function (promise, value) {","    return Q(promise).thenResolve(value);","};","","Promise.prototype.thenReject = function (reason) {","    return this.then(function () { throw reason; });","};","","Q.thenReject = function (promise, reason) {","    return Q(promise).thenReject(reason);","};","","/**"," * If an object is not a promise, it is as \"near\" as possible."," * If a promise is rejected, it is as \"near\" as possible too."," * If itb\u0000\u0019s a fulfilled promise, the fulfillment value is nearer."," * If itb\u0000\u0019s a deferred promise and the deferred has been resolved, the"," * resolution is \"nearer\"."," * @param object"," * @returns most resolved (nearest) form of the object"," */","","// XXX should we re-do this?","Q.nearer = nearer;","function nearer(value) {","    if (isPromise(value)) {","        var inspected = value.inspect();","        if (inspected.state === \"fulfilled\") {","            return inspected.value;","        }","    }","    return value;","}","","/**"," * @returns whether the given object is a promise."," * Otherwise it is a fulfilled value."," */","Q.isPromise = isPromise;","function isPromise(object) {","    return isObject(object) &&","        typeof object.promiseDispatch === \"function\" &&","        typeof object.inspect === \"function\";","}","","Q.isPromiseAlike = isPromiseAlike;","function isPromiseAlike(object) {","    return isObject(object) && typeof object.then === \"function\";","}","","/**"," * @returns whether the given object is a pending promise, meaning not"," * fulfilled or rejected."," */","Q.isPending = isPending;","function isPending(object) {","    return isPromise(object) && object.inspect().state === \"pending\";","}","","Promise.prototype.isPending = function () {","    return this.inspect().state === \"pending\";","};","","/**"," * @returns whether the given object is a value or fulfilled"," * promise."," */","Q.isFulfilled = isFulfilled;","function isFulfilled(object) {","    return !isPromise(object) || object.inspect().state === \"fulfilled\";","}","","Promise.prototype.isFulfilled = function () {","    return this.inspect().state === \"fulfilled\";","};","","/**"," * @returns whether the given object is a rejected promise."," */","Q.isRejected = isRejected;","function isRejected(object) {","    return isPromise(object) && object.inspect().state === \"rejected\";","}","","Promise.prototype.isRejected = function () {","    return this.inspect().state === \"rejected\";","};","","//// BEGIN UNHANDLED REJECTION TRACKING","","// This promise library consumes exceptions thrown in handlers so they can be","// handled by a subsequent promise.  The exceptions get added to this array when","// they are created, and removed when they are handled.  Note that in ES6 or","// shimmed environments, this would naturally be a `Set`.","var unhandledReasons = [];","var unhandledRejections = [];","var unhandledReasonsDisplayed = false;","var trackUnhandledRejections = true;","function displayUnhandledReasons() {","    if (","        !unhandledReasonsDisplayed &&","        typeof window !== \"undefined\" &&","        window.console","    ) {","        console.warn(\"[Q] Unhandled rejection reasons (should be empty):\",","                     unhandledReasons);","    }","","    unhandledReasonsDisplayed = true;","}","","function logUnhandledReasons() {","    for (var i = 0; i < unhandledReasons.length; i++) {","        var reason = unhandledReasons[i];","        console.warn(\"Unhandled rejection reason:\", reason);","    }","}","","function resetUnhandledRejections() {","    unhandledReasons.length = 0;","    unhandledRejections.length = 0;","    unhandledReasonsDisplayed = false;","","    if (!trackUnhandledRejections) {","        trackUnhandledRejections = true;","","        // Show unhandled rejection reasons if Node exits without handling an","        // outstanding rejection.  (Note that Browserify presently produces a","        // `process` global without the `EventEmitter` `on` method.)","        if (typeof process !== \"undefined\" && process.on) {","            process.on(\"exit\", logUnhandledReasons);","        }","    }","}","","function trackRejection(promise, reason) {","    if (!trackUnhandledRejections) {","        return;","    }","","    unhandledRejections.push(promise);","    if (reason && typeof reason.stack !== \"undefined\") {","        unhandledReasons.push(reason.stack);","    } else {","        unhandledReasons.push(\"(no stack) \" + reason);","    }","    displayUnhandledReasons();","}","","function untrackRejection(promise) {","    if (!trackUnhandledRejections) {","        return;","    }","","    var at = array_indexOf(unhandledRejections, promise);","    if (at !== -1) {","        unhandledRejections.splice(at, 1);","        unhandledReasons.splice(at, 1);","    }","}","","Q.resetUnhandledRejections = resetUnhandledRejections;","","Q.getUnhandledReasons = function () {","    // Make a copy so that consumers can't interfere with our internal state.","    return unhandledReasons.slice();","};","","Q.stopUnhandledRejectionTracking = function () {","    resetUnhandledRejections();","    if (typeof process !== \"undefined\" && process.on) {","        process.removeListener(\"exit\", logUnhandledReasons);","    }","    trackUnhandledRejections = false;","};","","resetUnhandledRejections();","","//// END UNHANDLED REJECTION TRACKING","","/**"," * Constructs a rejected promise."," * @param reason value describing the failure"," */","Q.reject = reject;","function reject(reason) {","    var rejection = Promise({","        \"when\": function (rejected) {","            // note that the error has been handled","            if (rejected) {","                untrackRejection(this);","            }","            return rejected ? rejected(reason) : this;","        }","    }, function fallback() {","        return this;","    }, function inspect() {","        return { state: \"rejected\", reason: reason };","    });","","    // Note that the reason has not been handled.","    trackRejection(rejection, reason);","","    return rejection;","}","","/**"," * Constructs a fulfilled promise for an immediate reference."," * @param value immediate reference"," */","Q.fulfill = fulfill;","function fulfill(value) {","    return Promise({","        \"when\": function () {","            return value;","        },","        \"get\": function (name) {","            return value[name];","        },","        \"set\": function (name, rhs) {","            value[name] = rhs;","        },","        \"delete\": function (name) {","            delete value[name];","        },","        \"post\": function (name, args) {","            // Mark Miller proposes that post with no name should apply a","            // promised function.","            if (name === null || name === void 0) {","                return value.apply(void 0, args);","            } else {","                return value[name].apply(value, args);","            }","        },","        \"apply\": function (thisp, args) {","            return value.apply(thisp, args);","        },","        \"keys\": function () {","            return object_keys(value);","        }","    }, void 0, function inspect() {","        return { state: \"fulfilled\", value: value };","    });","}","","/**"," * Converts thenables to Q promises."," * @param promise thenable promise"," * @returns a Q promise"," */","function coerce(promise) {","    var deferred = defer();","    nextTick(function () {","        try {","            promise.then(deferred.resolve, deferred.reject, deferred.notify);","        } catch (exception) {","            deferred.reject(exception);","        }","    });","    return deferred.promise;","}","","/**"," * Annotates an object such that it will never be"," * transferred away from this process over any promise"," * communication channel."," * @param object"," * @returns promise a wrapping of that object that"," * additionally responds to the \"isDef\" message"," * without a rejection."," */","Q.master = master;","function master(object) {","    return Promise({","        \"isDef\": function () {}","    }, function fallback(op, args) {","        return dispatch(object, op, args);","    }, function () {","        return Q(object).inspect();","    });","}","","/**"," * Spreads the values of a promised array of arguments into the"," * fulfillment callback."," * @param fulfilled callback that receives variadic arguments from the"," * promised array"," * @param rejected callback that receives the exception if the promise"," * is rejected."," * @returns a promise for the return value or thrown exception of"," * either callback."," */","Q.spread = spread;","function spread(value, fulfilled, rejected) {","    return Q(value).spread(fulfilled, rejected);","}","","Promise.prototype.spread = function (fulfilled, rejected) {","    return this.all().then(function (array) {","        return fulfilled.apply(void 0, array);","    }, rejected);","};","","/**"," * The async function is a decorator for generator functions, turning"," * them into asynchronous generators.  Although generators are only part"," * of the newest ECMAScript 6 drafts, this code does not cause syntax"," * errors in older engines.  This code should continue to work and will"," * in fact improve over time as the language improves."," *"," * ES6 generators are currently part of V8 version 3.19 with the"," * --harmony-generators runtime flag enabled.  SpiderMonkey has had them"," * for longer, but under an older Python-inspired form.  This function"," * works on both kinds of generators."," *"," * Decorates a generator function such that:"," *  - it may yield promises"," *  - execution will continue when that promise is fulfilled"," *  - the value of the yield expression will be the fulfilled value"," *  - it returns a promise for the return value (when the generator"," *    stops iterating)"," *  - the decorated function returns a promise for the return value"," *    of the generator or the first rejected promise among those"," *    yielded."," *  - if an error is thrown in the generator, it propagates through"," *    every following yield until it is caught, or until it escapes"," *    the generator function altogether, and is translated into a"," *    rejection for the promise returned by the decorated generator."," */","Q.async = async;","function async(makeGenerator) {","    return function () {","        // when verb is \"send\", arg is a value","        // when verb is \"throw\", arg is an exception","        function continuer(verb, arg) {","            var result;","            if (hasES6Generators) {","                try {","                    result = generator[verb](arg);","                } catch (exception) {","                    return reject(exception);","                }","                if (result.done) {","                    return result.value;","                } else {","                    return when(result.value, callback, errback);","                }","            } else {","                // FIXME: Remove this case when SM does ES6 generators.","                try {","                    result = generator[verb](arg);","                } catch (exception) {","                    if (isStopIteration(exception)) {","                        return exception.value;","                    } else {","                        return reject(exception);","                    }","                }","                return when(result, callback, errback);","            }","        }","        var generator = makeGenerator.apply(this, arguments);","        var callback = continuer.bind(continuer, \"next\");","        var errback = continuer.bind(continuer, \"throw\");","        return callback();","    };","}","","/**"," * The spawn function is a small wrapper around async that immediately"," * calls the generator and also ends the promise chain, so that any"," * unhandled errors are thrown instead of forwarded to the error"," * handler. This is useful because it's extremely common to run"," * generators at the top-level to work with libraries."," */","Q.spawn = spawn;","function spawn(makeGenerator) {","    Q.done(Q.async(makeGenerator)());","}","","// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.","/**"," * Throws a ReturnValue exception to stop an asynchronous generator."," *"," * This interface is a stop-gap measure to support generator return"," * values in older Firefox/SpiderMonkey.  In browsers that support ES6"," * generators like Chromium 29, just use \"return\" in your generator"," * functions."," *"," * @param value the return value for the surrounding generator"," * @throws ReturnValue exception with the value."," * @example"," * // ES6 style"," * Q.async(function* () {"," *      var foo = yield getFooPromise();"," *      var bar = yield getBarPromise();"," *      return foo + bar;"," * })"," * // Older SpiderMonkey style"," * Q.async(function () {"," *      var foo = yield getFooPromise();"," *      var bar = yield getBarPromise();"," *      Q.return(foo + bar);"," * })"," */","Q[\"return\"] = _return;","function _return(value) {","    throw new QReturnValue(value);","}","","/**"," * The promised function decorator ensures that any promise arguments"," * are settled and passed as values (`this` is also settled and passed"," * as a value).  It will also ensure that the result of a function is"," * always a promise."," *"," * @example"," * var add = Q.promised(function (a, b) {"," *     return a + b;"," * });"," * add(Q(a), Q(B));"," *"," * @param {function} callback The function to decorate"," * @returns {function} a function that has been decorated."," */","Q.promised = promised;","function promised(callback) {","    return function () {","        return spread([this, all(arguments)], function (self, args) {","            return callback.apply(self, args);","        });","    };","}","","/**"," * sends a message to a value in a future turn"," * @param object* the recipient"," * @param op the name of the message operation, e.g., \"when\","," * @param args further arguments to be forwarded to the operation"," * @returns result {Promise} a promise for the result of the operation"," */","Q.dispatch = dispatch;","function dispatch(object, op, args) {","    return Q(object).dispatch(op, args);","}","","Promise.prototype.dispatch = function (op, args) {","    var self = this;","    var deferred = defer();","    nextTick(function () {","        self.promiseDispatch(deferred.resolve, op, args);","    });","    return deferred.promise;","};","","/**"," * Gets the value of a property in a future turn."," * @param object    promise or immediate reference for target object"," * @param name      name of property to get"," * @return promise for the property value"," */","Q.get = function (object, key) {","    return Q(object).dispatch(\"get\", [key]);","};","","Promise.prototype.get = function (key) {","    return this.dispatch(\"get\", [key]);","};","","/**"," * Sets the value of a property in a future turn."," * @param object    promise or immediate reference for object object"," * @param name      name of property to set"," * @param value     new value of property"," * @return promise for the return value"," */","Q.set = function (object, key, value) {","    return Q(object).dispatch(\"set\", [key, value]);","};","","Promise.prototype.set = function (key, value) {","    return this.dispatch(\"set\", [key, value]);","};","","/**"," * Deletes a property in a future turn."," * @param object    promise or immediate reference for target object"," * @param name      name of property to delete"," * @return promise for the return value"," */","Q.del = // XXX legacy","Q[\"delete\"] = function (object, key) {","    return Q(object).dispatch(\"delete\", [key]);","};","","Promise.prototype.del = // XXX legacy","Promise.prototype[\"delete\"] = function (key) {","    return this.dispatch(\"delete\", [key]);","};","","/**"," * Invokes a method in a future turn."," * @param object    promise or immediate reference for target object"," * @param name      name of method to invoke"," * @param value     a value to post, typically an array of"," *                  invocation arguments for promises that"," *                  are ultimately backed with `resolve` values,"," *                  as opposed to those backed with URLs"," *                  wherein the posted value can be any"," *                  JSON serializable object."," * @return promise for the return value"," */","// bound locally because it is used by other methods","Q.mapply = // XXX As proposed by \"Redsandro\"","Q.post = function (object, name, args) {","    return Q(object).dispatch(\"post\", [name, args]);","};","","Promise.prototype.mapply = // XXX As proposed by \"Redsandro\"","Promise.prototype.post = function (name, args) {","    return this.dispatch(\"post\", [name, args]);","};","","/**"," * Invokes a method in a future turn."," * @param object    promise or immediate reference for target object"," * @param name      name of method to invoke"," * @param ...args   array of invocation arguments"," * @return promise for the return value"," */","Q.send = // XXX Mark Miller's proposed parlance","Q.mcall = // XXX As proposed by \"Redsandro\"","Q.invoke = function (object, name /*...args*/) {","    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);","};","","Promise.prototype.send = // XXX Mark Miller's proposed parlance","Promise.prototype.mcall = // XXX As proposed by \"Redsandro\"","Promise.prototype.invoke = function (name /*...args*/) {","    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);","};","","/**"," * Applies the promised function in a future turn."," * @param object    promise or immediate reference for target function"," * @param args      array of application arguments"," */","Q.fapply = function (object, args) {","    return Q(object).dispatch(\"apply\", [void 0, args]);","};","","Promise.prototype.fapply = function (args) {","    return this.dispatch(\"apply\", [void 0, args]);","};","","/**"," * Calls the promised function in a future turn."," * @param object    promise or immediate reference for target function"," * @param ...args   array of application arguments"," */","Q[\"try\"] =","Q.fcall = function (object /* ...args*/) {","    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);","};","","Promise.prototype.fcall = function (/*...args*/) {","    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);","};","","/**"," * Binds the promised function, transforming return values into a fulfilled"," * promise and thrown errors into a rejected one."," * @param object    promise or immediate reference for target function"," * @param ...args   array of application arguments"," */","Q.fbind = function (object /*...args*/) {","    var promise = Q(object);","    var args = array_slice(arguments, 1);","    return function fbound() {","        return promise.dispatch(\"apply\", [","            this,","            args.concat(array_slice(arguments))","        ]);","    };","};","Promise.prototype.fbind = function (/*...args*/) {","    var promise = this;","    var args = array_slice(arguments);","    return function fbound() {","        return promise.dispatch(\"apply\", [","            this,","            args.concat(array_slice(arguments))","        ]);","    };","};","","/**"," * Requests the names of the owned properties of a promised"," * object in a future turn."," * @param object    promise or immediate reference for target object"," * @return promise for the keys of the eventually settled object"," */","Q.keys = function (object) {","    return Q(object).dispatch(\"keys\", []);","};","","Promise.prototype.keys = function () {","    return this.dispatch(\"keys\", []);","};","","/**"," * Turns an array of promises into a promise for an array.  If any of"," * the promises gets rejected, the whole array is rejected immediately."," * @param {Array*} an array (or promise for an array) of values (or"," * promises for values)"," * @returns a promise for an array of the corresponding values"," */","// By Mark Miller","// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled","Q.all = all;","function all(promises) {","    return when(promises, function (promises) {","        var countDown = 0;","        var deferred = defer();","        array_reduce(promises, function (undefined, promise, index) {","            var snapshot;","            if (","                isPromise(promise) &&","                (snapshot = promise.inspect()).state === \"fulfilled\"","            ) {","                promises[index] = snapshot.value;","            } else {","                ++countDown;","                when(","                    promise,","                    function (value) {","                        promises[index] = value;","                        if (--countDown === 0) {","                            deferred.resolve(promises);","                        }","                    },","                    deferred.reject,","                    function (progress) {","                        deferred.notify({ index: index, value: progress });","                    }","                );","            }","        }, void 0);","        if (countDown === 0) {","            deferred.resolve(promises);","        }","        return deferred.promise;","    });","}","","Promise.prototype.all = function () {","    return all(this);","};","","/**"," * Waits for all promises to be settled, either fulfilled or"," * rejected.  This is distinct from `all` since that would stop"," * waiting at the first rejection.  The promise returned by"," * `allResolved` will never be rejected."," * @param promises a promise for an array (or an array) of promises"," * (or values)"," * @return a promise for an array of promises"," */","Q.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");","function allResolved(promises) {","    return when(promises, function (promises) {","        promises = array_map(promises, Q);","        return when(all(array_map(promises, function (promise) {","            return when(promise, noop, noop);","        })), function () {","            return promises;","        });","    });","}","","Promise.prototype.allResolved = function () {","    return allResolved(this);","};","","/**"," * @see Promise#allSettled"," */","Q.allSettled = allSettled;","function allSettled(promises) {","    return Q(promises).allSettled();","}","","/**"," * Turns an array of promises into a promise for an array of their states (as"," * returned by `inspect`) when they have all settled."," * @param {Array[Any*]} values an array (or promise for an array) of values (or"," * promises for values)"," * @returns {Array[State]} an array of states for the respective values."," */","Promise.prototype.allSettled = function () {","    return this.then(function (promises) {","        return all(array_map(promises, function (promise) {","            promise = Q(promise);","            function regardless() {","                return promise.inspect();","            }","            return promise.then(regardless, regardless);","        }));","    });","};","","/**"," * Captures the failure of a promise, giving an oportunity to recover"," * with a callback.  If the given promise is fulfilled, the returned"," * promise is fulfilled."," * @param {Any*} promise for something"," * @param {Function} callback to fulfill the returned promise if the"," * given promise is rejected"," * @returns a promise for the return value of the callback"," */","Q.fail = // XXX legacy","Q[\"catch\"] = function (object, rejected) {","    return Q(object).then(void 0, rejected);","};","","Promise.prototype.fail = // XXX legacy","Promise.prototype[\"catch\"] = function (rejected) {","    return this.then(void 0, rejected);","};","","/**"," * Attaches a listener that can respond to progress notifications from a"," * promise's originating deferred. This listener receives the exact arguments"," * passed to ``deferred.notify``."," * @param {Any*} promise for something"," * @param {Function} callback to receive any progress notifications"," * @returns the given promise, unchanged"," */","Q.progress = progress;","function progress(object, progressed) {","    return Q(object).then(void 0, void 0, progressed);","}","","Promise.prototype.progress = function (progressed) {","    return this.then(void 0, void 0, progressed);","};","","/**"," * Provides an opportunity to observe the settling of a promise,"," * regardless of whether the promise is fulfilled or rejected.  Forwards"," * the resolution to the returned promise when the callback is done."," * The callback can return a promise to defer completion."," * @param {Any*} promise"," * @param {Function} callback to observe the resolution of the given"," * promise, takes no arguments."," * @returns a promise for the resolution of the given promise when"," * ``fin`` is done."," */","Q.fin = // XXX legacy","Q[\"finally\"] = function (object, callback) {","    return Q(object)[\"finally\"](callback);","};","","Promise.prototype.fin = // XXX legacy","Promise.prototype[\"finally\"] = function (callback) {","    callback = Q(callback);","    return this.then(function (value) {","        return callback.fcall().then(function () {","            return value;","        });","    }, function (reason) {","        // TODO attempt to recycle the rejection with \"this\".","        return callback.fcall().then(function () {","            throw reason;","        });","    });","};","","/**"," * Terminates a chain of promises, forcing rejections to be"," * thrown as exceptions."," * @param {Any*} promise at the end of a chain of promises"," * @returns nothing"," */","Q.done = function (object, fulfilled, rejected, progress) {","    return Q(object).done(fulfilled, rejected, progress);","};","","Promise.prototype.done = function (fulfilled, rejected, progress) {","    var onUnhandledError = function (error) {","        // forward to a future turn so that ``when``","        // does not catch it and turn it into a rejection.","        nextTick(function () {","            makeStackTraceLong(error, promise);","            if (Q.onerror) {","                Q.onerror(error);","            } else {","                throw error;","            }","        });","    };","","    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.","    var promise = fulfilled || rejected || progress ?","        this.then(fulfilled, rejected, progress) :","        this;","","    if (typeof process === \"object\" && process && process.domain) {","        onUnhandledError = process.domain.bind(onUnhandledError);","    }","","    promise.then(void 0, onUnhandledError);","};","","/**"," * Causes a promise to be rejected if it does not get fulfilled before"," * some milliseconds time out."," * @param {Any*} promise"," * @param {Number} milliseconds timeout"," * @param {String} custom error message (optional)"," * @returns a promise for the resolution of the given promise if it is"," * fulfilled before the timeout, otherwise rejected."," */","Q.timeout = function (object, ms, message) {","    return Q(object).timeout(ms, message);","};","","Promise.prototype.timeout = function (ms, message) {","    var deferred = defer();","    var timeoutId = setTimeout(function () {","        deferred.reject(new Error(message || \"Timed out after \" + ms + \" ms\"));","    }, ms);","","    this.then(function (value) {","        clearTimeout(timeoutId);","        deferred.resolve(value);","    }, function (exception) {","        clearTimeout(timeoutId);","        deferred.reject(exception);","    }, deferred.notify);","","    return deferred.promise;","};","","/**"," * Returns a promise for the given value (or promised value), some"," * milliseconds after it resolved. Passes rejections immediately."," * @param {Any*} promise"," * @param {Number} milliseconds"," * @returns a promise for the resolution of the given promise after milliseconds"," * time has elapsed since the resolution of the given promise."," * If the given promise rejects, that is passed immediately."," */","Q.delay = function (object, timeout) {","    if (timeout === void 0) {","        timeout = object;","        object = void 0;","    }","    return Q(object).delay(timeout);","};","","Promise.prototype.delay = function (timeout) {","    return this.then(function (value) {","        var deferred = defer();","        setTimeout(function () {","            deferred.resolve(value);","        }, timeout);","        return deferred.promise;","    });","};","","/**"," * Passes a continuation to a Node function, which is called with the given"," * arguments provided as an array, and returns a promise."," *"," *      Q.nfapply(FS.readFile, [__filename])"," *      .then(function (content) {"," *      })"," *"," */","Q.nfapply = function (callback, args) {","    return Q(callback).nfapply(args);","};","","Promise.prototype.nfapply = function (args) {","    var deferred = defer();","    var nodeArgs = array_slice(args);","    nodeArgs.push(deferred.makeNodeResolver());","    this.fapply(nodeArgs).fail(deferred.reject);","    return deferred.promise;","};","","/**"," * Passes a continuation to a Node function, which is called with the given"," * arguments provided individually, and returns a promise."," * @example"," * Q.nfcall(FS.readFile, __filename)"," * .then(function (content) {"," * })"," *"," */","Q.nfcall = function (callback /*...args*/) {","    var args = array_slice(arguments, 1);","    return Q(callback).nfapply(args);","};","","Promise.prototype.nfcall = function (/*...args*/) {","    var nodeArgs = array_slice(arguments);","    var deferred = defer();","    nodeArgs.push(deferred.makeNodeResolver());","    this.fapply(nodeArgs).fail(deferred.reject);","    return deferred.promise;","};","","/**"," * Wraps a NodeJS continuation passing function and returns an equivalent"," * version that returns a promise."," * @example"," * Q.nfbind(FS.readFile, __filename)(\"utf-8\")"," * .then(console.log)"," * .done()"," */","Q.nfbind =","Q.denodeify = function (callback /*...args*/) {","    var baseArgs = array_slice(arguments, 1);","    return function () {","        var nodeArgs = baseArgs.concat(array_slice(arguments));","        var deferred = defer();","        nodeArgs.push(deferred.makeNodeResolver());","        Q(callback).fapply(nodeArgs).fail(deferred.reject);","        return deferred.promise;","    };","};","","Promise.prototype.nfbind =","Promise.prototype.denodeify = function (/*...args*/) {","    var args = array_slice(arguments);","    args.unshift(this);","    return Q.denodeify.apply(void 0, args);","};","","Q.nbind = function (callback, thisp /*...args*/) {","    var baseArgs = array_slice(arguments, 2);","    return function () {","        var nodeArgs = baseArgs.concat(array_slice(arguments));","        var deferred = defer();","        nodeArgs.push(deferred.makeNodeResolver());","        function bound() {","            return callback.apply(thisp, arguments);","        }","        Q(bound).fapply(nodeArgs).fail(deferred.reject);","        return deferred.promise;","    };","};","","Promise.prototype.nbind = function (/*thisp, ...args*/) {","    var args = array_slice(arguments, 0);","    args.unshift(this);","    return Q.nbind.apply(void 0, args);","};","","/**"," * Calls a method of a Node-style object that accepts a Node-style"," * callback with a given array of arguments, plus a provided callback."," * @param object an object that has the named method"," * @param {String} name name of the method of object"," * @param {Array} args arguments to pass to the method; the callback"," * will be provided by Q and appended to these arguments."," * @returns a promise for the value or error"," */","Q.nmapply = // XXX As proposed by \"Redsandro\"","Q.npost = function (object, name, args) {","    return Q(object).npost(name, args);","};","","Promise.prototype.nmapply = // XXX As proposed by \"Redsandro\"","Promise.prototype.npost = function (name, args) {","    var nodeArgs = array_slice(args || []);","    var deferred = defer();","    nodeArgs.push(deferred.makeNodeResolver());","    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);","    return deferred.promise;","};","","/**"," * Calls a method of a Node-style object that accepts a Node-style"," * callback, forwarding the given variadic arguments, plus a provided"," * callback argument."," * @param object an object that has the named method"," * @param {String} name name of the method of object"," * @param ...args arguments to pass to the method; the callback will"," * be provided by Q and appended to these arguments."," * @returns a promise for the value or error"," */","Q.nsend = // XXX Based on Mark Miller's proposed \"send\"","Q.nmcall = // XXX Based on \"Redsandro's\" proposal","Q.ninvoke = function (object, name /*...args*/) {","    var nodeArgs = array_slice(arguments, 2);","    var deferred = defer();","    nodeArgs.push(deferred.makeNodeResolver());","    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);","    return deferred.promise;","};","","Promise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"","Promise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal","Promise.prototype.ninvoke = function (name /*...args*/) {","    var nodeArgs = array_slice(arguments, 1);","    var deferred = defer();","    nodeArgs.push(deferred.makeNodeResolver());","    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);","    return deferred.promise;","};","","/**"," * If a function would like to support both Node continuation-passing-style and"," * promise-returning-style, it can end its internal promise chain with"," * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user"," * elects to use a nodeback, the result will be sent there.  If they do not"," * pass a nodeback, they will receive the result promise."," * @param object a result (or a promise for a result)"," * @param {Function} nodeback a Node.js-style callback"," * @returns either the promise or nothing"," */","Q.nodeify = nodeify;","function nodeify(object, nodeback) {","    return Q(object).nodeify(nodeback);","}","","Promise.prototype.nodeify = function (nodeback) {","    if (nodeback) {","        this.then(function (value) {","            nextTick(function () {","                nodeback(null, value);","            });","        }, function (error) {","            nextTick(function () {","                nodeback(error);","            });","        });","    } else {","        return this;","    }","};","","// All code before this point will be filtered from stack traces.","var qEndingLine = captureLine();","","return Q;","","}/** Angoose Client for Node.js */","","(function(){","    if(typeof exports ==\"undefined\" || typeof require == 'undefined') return;","    console.log(\"##### Angoose node client Loading\");","    var Q  = require(\"q\");","    AngooseClient.init({","        //http: realHttp(),","        http:mockHttp(),","        promise:Q","    });","    ","    function realHttp(){","        var request = require('request');","        var _ = require(\"underscore\")","        var HTTP_BASE =  \"http://localhost:9988\"; // +( AngooseClient.configs.httpPort ?(\":\"+ AngooseClient.config.httpPort):\"\");","        var $httpDelegate = {}","        var methods = ['get', 'post','put','delete'];","        // create deletage functions over request module","        var createFunc = function(method){","            return function(url, data, callback){","                console.log(\"Sending thtp request\", url)","                var options = {url:  HTTP_BASE + url, method:method, jar:true , json:true};","                if(data && typeof(data) != 'function' ) ","                    options.json = data;","                else{","                    callback = data;","                } ","                var deferred = Q.defer();","                request(options, function(err, res, body){","                    if(err) ","                        deferred.reject(new Error(err));","                    else","                        deferred.resolve(body);","                    if(callback) callback(err, body);","                });","                return deferred.promise;","            }","        }","        _.each(methods, function(method){","            $httpDelegate[method] = createFunc(method);","        })","        return $httpDelegate;","           ","    }","    function mockHttp(){","        var httpMock = require(\"node-mocks-http\");","        var mock = {};","        var session = {};","        mock.post = function(url, data){","            var deferred = Q.defer();","            ","            var request= httpMock.createRequest({","                    url: url,","                    method:'POST',","                    params: {","                        method: data.method,","                        model: data.clazz","                    }, ","                    session:session","            });","            request.body = data;","            var mockUser = {","                    _id: '52c44dd0ecafbf1a9a000002',","                    username:'Gaelyn',","                    email:'gaelyn@demo.com',","                    roles:'admin',","                    type:'admin'","               }","            // /** session */","           // request.session = {","               // user: mockUser,","               // userObj: mockUser","           // }","           var response = httpMock.createResponse();","           response.send = function(code, data){","               data = JSON.parse( JSON.stringify(data) );","               deferred.resolve(data);","           }","           var ROOT = process.cwd();","           var angoose = null;","           if(require(\"fs\").existsSync(ROOT+\"/lib/angoose.js\"))","                angoose = require(ROOT+\"/lib/angoose\");","           else {","                angoose = require(\"angoose\");","           }","               ","           ","           angoose.rmiAccept(request, response);","           return deferred.promise;","        }","        return mock    ","    }","","    module.exports = AngooseClient;         ","})()",""],"l":{"3":2,"4":1,"5":2,"6":0,"8":2,"19":2,"20":2,"21":0,"23":2,"24":0,"25":0,"26":0,"27":0,"32":0,"33":0,"34":0,"35":0,"36":0,"38":0,"41":0,"43":2,"44":0,"45":0,"46":0,"47":0,"51":0,"55":2,"56":0,"57":0,"60":1,"61":0,"64":1,"66":0,"68":1,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"82":0,"83":0,"84":0,"86":0,"87":0,"88":0,"91":0,"92":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"107":0,"109":0,"110":0,"113":0,"114":0,"115":0,"117":0,"123":0,"125":0,"126":0,"128":0,"129":0,"130":0,"131":0,"134":0,"135":0,"136":0,"137":0,"140":0,"143":1,"144":0,"145":0,"146":0,"147":0,"149":0,"150":0,"151":0,"154":0,"155":0,"156":0,"162":1,"163":0,"164":0,"166":0,"167":0,"172":0,"173":0,"175":0,"176":0,"180":0,"181":0,"185":0,"186":0,"187":0,"190":0,"191":0,"192":0,"194":0,"195":0,"198":0,"199":0,"200":0,"203":1,"204":0,"205":0,"206":0,"208":0,"211":1,"212":0,"213":0,"214":0,"216":0,"217":0,"218":0,"219":0,"221":0,"223":1,"224":0,"225":0,"226":0,"228":1,"229":1,"605":2,"606":2,"607":2,"608":2,"609":2,"613":2,"615":2,"616":1,"617":0,"630":2,"631":2,"632":2,"633":2,"635":0,"636":0,"637":0,"643":0,"644":0,"645":0,"649":0,"651":1,"652":0,"653":0,"654":0,"655":0,"656":0,"659":0,"661":1,"662":0,"663":0,"664":0,"665":0,"666":0,"667":0,"669":0,"671":0,"673":1,"674":0,"675":0,"676":0,"677":0,"678":0,"680":0,"682":0,"684":0,"686":1,"688":0,"689":0,"690":0,"691":0,"693":0,"695":0,"697":0,"700":0,"702":0,"703":0,"704":0,"705":0,"707":0,"708":0,"709":0,"711":0,"713":0,"715":0,"721":1,"722":0,"725":2,"726":2,"727":2,"728":0,"729":0,"730":0,"732":0,"733":0,"737":1,"738":0,"739":0,"740":0,"741":0,"742":0,"743":0,"745":0,"747":0,"749":0,"755":1,"756":0,"760":1,"763":0,"764":0,"765":0,"767":0,"772":0,"773":0,"778":0,"782":0,"784":0,"785":0,"786":0,"787":0,"788":0,"790":1,"793":0,"794":0,"795":0,"796":0,"797":0,"799":0,"800":0,"801":0,"804":0,"805":0,"808":0,"815":0,"816":0,"818":0,"819":0,"820":0,"823":0,"828":0,"829":0,"834":0,"835":0,"839":0,"842":0,"843":0,"849":0,"850":0,"851":0,"855":0,"858":0,"860":0,"861":0,"864":0,"866":0,"867":0,"869":0,"870":0,"874":0,"877":0,"880":0,"881":0,"882":0,"883":0,"885":0,"888":0,"890":0,"891":0,"892":0,"897":0,"898":0,"902":0,"915":0,"916":1,"917":0,"918":0,"925":0,"927":0,"929":0,"932":0,"935":0,"936":0,"937":0,"938":0,"940":0,"941":0,"946":0,"948":0,"949":0,"952":0,"956":0,"959":0,"960":0,"961":0,"964":0,"968":0,"970":0,"971":0,"972":0,"973":0,"975":0,"979":0,"980":1,"981":0,"982":0,"985":0,"987":0,"988":0,"989":0,"990":0,"991":0,"994":0,"997":0,"999":1,"1000":0,"1006":1,"1007":0,"1015":0,"1016":0,"1017":0,"1019":0,"1020":0,"1031":0,"1032":0,"1034":0,"1035":0,"1037":0,"1042":0,"1044":1,"1047":0,"1054":0,"1055":0,"1056":0,"1057":0,"1060":0,"1062":0,"1063":0,"1067":1,"1068":0,"1069":0,"1070":0,"1071":0,"1073":0,"1074":0,"1077":0,"1080":1,"1081":0,"1085":1,"1088":0,"1089":0,"1090":0,"1094":0,"1095":0,"1096":0,"1100":0,"1101":0,"1102":0,"1106":1,"1107":0,"1109":0,"1110":0,"1113":0,"1114":0,"1116":0,"1123":1,"1124":0,"1125":0,"1128":0,"1129":0,"1131":0,"1132":0,"1133":0,"1134":0,"1135":0,"1138":0,"1139":0,"1143":1,"1144":0,"1145":0,"1147":0,"1150":0,"1162":1,"1166":0,"1167":0,"1171":0,"1172":0,"1174":0,"1177":0,"1183":0,"1188":0,"1200":0,"1201":1,"1208":0,"1210":0,"1211":0,"1213":0,"1214":0,"1215":0,"1216":0,"1217":0,"1218":0,"1221":0,"1222":0,"1228":0,"1229":0,"1230":0,"1232":0,"1233":0,"1234":0,"1236":0,"1239":0,"1240":0,"1241":0,"1243":0,"1246":0,"1247":0,"1248":0,"1256":0,"1264":1,"1265":0,"1266":0,"1268":0,"1269":0,"1270":0,"1274":0,"1275":0,"1278":0,"1279":0,"1280":0,"1281":0,"1284":0,"1287":0,"1288":0,"1289":0,"1292":0,"1294":0,"1295":0,"1296":0,"1299":0,"1301":0,"1302":0,"1303":0,"1306":0,"1307":0,"1308":0,"1313":0,"1321":0,"1322":0,"1323":0,"1324":0,"1325":0,"1326":0,"1327":0,"1329":0,"1340":0,"1341":1,"1342":0,"1343":0,"1345":0,"1346":0,"1347":0,"1349":0,"1351":0,"1357":0,"1360":0,"1363":0,"1366":0,"1378":0,"1379":0,"1382":0,"1383":0,"1384":0,"1386":0,"1388":0,"1398":0,"1399":1,"1400":0,"1406":0,"1407":0,"1412":0,"1413":0,"1427":0,"1428":1,"1429":0,"1430":0,"1431":0,"1436":0,"1437":0,"1438":0,"1442":0,"1444":0,"1445":0,"1446":0,"1447":0,"1448":0,"1450":0,"1453":0,"1455":0,"1456":0,"1460":0,"1463":0,"1464":0,"1465":0,"1466":0,"1469":0,"1470":0,"1471":0,"1473":0,"1475":0,"1479":0,"1482":0,"1483":0,"1486":0,"1487":0,"1488":0,"1489":0,"1492":1,"1493":0,"1494":0,"1496":0,"1500":1,"1501":0,"1502":0,"1503":0,"1504":0,"1506":0,"1509":0,"1512":1,"1513":0,"1516":0,"1517":0,"1518":0,"1519":0,"1521":0,"1523":0,"1525":0,"1526":0,"1528":0,"1530":0,"1535":0,"1536":0,"1537":0,"1538":0,"1539":0,"1541":0,"1542":0,"1543":0,"1545":0,"1549":0,"1550":0,"1554":0,"1573":0,"1574":1,"1575":0,"1578":0,"1579":0,"1582":0,"1583":0,"1586":0,"1587":0,"1590":0,"1591":0,"1605":0,"1606":1,"1607":0,"1608":0,"1609":0,"1610":0,"1613":0,"1620":0,"1621":1,"1622":0,"1627":0,"1628":1,"1629":0,"1636":0,"1637":1,"1638":0,"1641":0,"1642":0,"1649":0,"1650":1,"1651":0,"1654":0,"1655":0,"1661":0,"1662":1,"1663":0,"1666":0,"1667":0,"1676":0,"1677":0,"1678":0,"1679":0,"1680":1,"1681":0,"1686":0,"1690":0,"1693":1,"1694":0,"1695":0,"1696":0,"1700":1,"1701":0,"1702":0,"1703":0,"1705":0,"1706":0,"1711":0,"1712":0,"1717":1,"1718":0,"1719":0,"1722":0,"1723":0,"1724":0,"1726":0,"1728":0,"1731":1,"1732":0,"1733":0,"1736":0,"1737":0,"1738":0,"1739":0,"1743":0,"1745":0,"1747":0,"1750":0,"1751":0,"1752":0,"1753":0,"1755":0,"1758":0,"1766":0,"1767":1,"1768":0,"1771":0,"1772":0,"1774":0,"1777":0,"1779":0,"1783":0,"1785":0,"1792":0,"1793":1,"1794":0,"1796":0,"1799":0,"1802":0,"1805":0,"1810":0,"1811":0,"1813":0,"1817":0,"1820":0,"1823":0,"1832":1,"1833":0,"1834":0,"1835":0,"1836":0,"1838":0,"1841":0,"1853":0,"1854":1,"1855":0,"1858":0,"1860":0,"1874":0,"1875":1,"1876":0,"1879":0,"1880":0,"1881":0,"1911":0,"1912":1,"1913":0,"1916":1,"1917":0,"1918":0,"1919":0,"1920":0,"1922":0,"1924":0,"1925":0,"1927":0,"1931":0,"1932":0,"1934":0,"1935":0,"1937":0,"1940":0,"1943":0,"1944":0,"1945":0,"1946":0,"1957":0,"1958":1,"1959":0,"1987":0,"1988":1,"1989":0,"2007":0,"2008":1,"2009":0,"2010":0,"2011":0,"2023":0,"2024":1,"2025":0,"2028":0,"2029":0,"2030":0,"2031":0,"2032":0,"2034":0,"2043":0,"2044":0,"2047":0,"2048":0,"2058":0,"2059":0,"2062":0,"2063":0,"2072":0,"2074":0,"2077":0,"2079":0,"2095":0,"2097":0,"2100":0,"2102":0,"2112":0,"2115":0,"2118":0,"2121":0,"2129":0,"2130":0,"2133":0,"2134":0,"2142":0,"2144":0,"2147":0,"2148":0,"2157":0,"2158":0,"2159":0,"2160":0,"2161":0,"2167":0,"2168":0,"2169":0,"2170":0,"2171":0,"2184":0,"2185":0,"2188":0,"2189":0,"2201":0,"2202":1,"2203":0,"2204":0,"2205":0,"2206":0,"2207":0,"2208":0,"2212":0,"2214":0,"2215":0,"2218":0,"2219":0,"2220":0,"2225":0,"2230":0,"2231":0,"2233":0,"2237":0,"2238":0,"2250":0,"2251":1,"2252":0,"2253":0,"2254":0,"2255":0,"2257":0,"2262":0,"2263":0,"2269":0,"2270":1,"2271":0,"2281":0,"2282":0,"2283":0,"2284":0,"2285":1,"2286":0,"2288":0,"2302":0,"2304":0,"2307":0,"2309":0,"2320":0,"2321":1,"2322":0,"2325":0,"2326":0,"2340":0,"2342":0,"2345":0,"2347":0,"2348":0,"2349":0,"2350":0,"2354":0,"2355":0,"2366":0,"2367":0,"2370":0,"2371":0,"2374":0,"2375":0,"2376":0,"2377":0,"2379":0,"2385":0,"2389":0,"2390":0,"2393":0,"2405":0,"2406":0,"2409":0,"2410":0,"2411":0,"2412":0,"2415":0,"2416":0,"2417":0,"2419":0,"2420":0,"2423":0,"2435":0,"2436":0,"2437":0,"2438":0,"2440":0,"2443":0,"2444":0,"2445":0,"2446":0,"2447":0,"2449":0,"2462":0,"2463":0,"2466":0,"2467":0,"2468":0,"2469":0,"2470":0,"2471":0,"2483":0,"2484":0,"2485":0,"2488":0,"2489":0,"2490":0,"2491":0,"2492":0,"2493":0,"2504":0,"2506":0,"2507":0,"2508":0,"2509":0,"2510":0,"2511":0,"2512":0,"2516":0,"2518":0,"2519":0,"2520":0,"2523":0,"2524":0,"2525":0,"2526":0,"2527":0,"2528":0,"2529":1,"2530":0,"2532":0,"2533":0,"2537":0,"2538":0,"2539":0,"2540":0,"2552":0,"2554":0,"2557":0,"2559":0,"2560":0,"2561":0,"2562":0,"2563":0,"2576":0,"2579":0,"2580":0,"2581":0,"2582":0,"2583":0,"2586":0,"2589":0,"2590":0,"2591":0,"2592":0,"2593":0,"2606":0,"2607":1,"2608":0,"2611":0,"2612":0,"2613":0,"2614":0,"2615":0,"2618":0,"2619":0,"2623":0,"2628":0,"2630":0,"2634":2,"2635":2,"2636":2,"2637":2,"2638":2,"2644":1,"2645":0,"2646":0,"2647":0,"2648":0,"2649":0,"2651":0,"2652":0,"2653":0,"2654":0,"2655":0,"2656":0,"2658":0,"2660":0,"2661":0,"2662":0,"2663":0,"2665":0,"2666":0,"2668":0,"2671":0,"2672":0,"2674":0,"2677":1,"2678":2,"2679":0,"2680":0,"2681":0,"2682":0,"2684":0,"2693":0,"2694":0,"2706":0,"2707":0,"2708":0,"2709":0,"2711":0,"2712":0,"2713":0,"2714":0,"2716":0,"2720":0,"2721":0,"2723":0,"2726":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/debugger.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/debugger.js","s":{"1":2,"2":2,"3":2,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"b":{},"f":{"1":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":42},"end":{"line":10,"column":61}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":23}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":18}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":45}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":35}},"5":{"start":{"line":8,"column":0},"end":{"line":8,"column":34}},"6":{"start":{"line":9,"column":0},"end":{"line":9,"column":44}},"7":{"start":{"line":10,"column":0},"end":{"line":14,"column":2}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":29}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":54}},"10":{"start":{"line":13,"column":4},"end":{"line":13,"column":64}}},"branchMap":{},"code":["var ROOT=process.cwd();","console.log(ROOT);","","require(ROOT+\"/server/util/angoose-setup\")();","","var mongoose = require(\"mongoose\");","","var User = mongoose.model('User');","var Physician = mongoose.model('Physician');","User.findById('5296b80a888bfd8f05000008', function(err, user){","    console.log(\"user\", user)","    console.log(\"User is user\", user instanceof User);","    console.log(\"User is physician\", user instanceof Physician);","})","","","",""],"l":{"1":2,"2":2,"4":2,"6":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/Gruntfile.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/Gruntfile.js","s":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":1,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0},"b":{"1":[0,0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":17},"end":{"line":2,"column":33}}},"2":{"name":"(anonymous_2)","line":86,"loc":{"start":{"line":86,"column":56},"end":{"line":86,"column":76}}},"3":{"name":"(anonymous_3)","line":95,"loc":{"start":{"line":95,"column":57},"end":{"line":95,"column":77}}},"4":{"name":"(anonymous_4)","line":106,"loc":{"start":{"line":106,"column":65},"end":{"line":106,"column":85}}},"5":{"name":"(anonymous_5)","line":112,"loc":{"start":{"line":112,"column":53},"end":{"line":112,"column":74}}},"6":{"name":"(anonymous_6)","line":124,"loc":{"start":{"line":124,"column":31},"end":{"line":124,"column":43}}},"7":{"name":"collectKarmaFiles","line":129,"loc":{"start":{"line":129,"column":0},"end":{"line":129,"column":39}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":122,"column":2}},"2":{"start":{"line":4,"column":2},"end":{"line":73,"column":5}},"3":{"start":{"line":76,"column":4},"end":{"line":76,"column":45}},"4":{"start":{"line":77,"column":4},"end":{"line":77,"column":38}},"5":{"start":{"line":78,"column":4},"end":{"line":78,"column":46}},"6":{"start":{"line":79,"column":4},"end":{"line":79,"column":38}},"7":{"start":{"line":81,"column":4},"end":{"line":81,"column":64}},"8":{"start":{"line":84,"column":4},"end":{"line":84,"column":38}},"9":{"start":{"line":86,"column":4},"end":{"line":93,"column":7}},"10":{"start":{"line":88,"column":8},"end":{"line":88,"column":63}},"11":{"start":{"line":89,"column":8},"end":{"line":89,"column":63}},"12":{"start":{"line":90,"column":8},"end":{"line":90,"column":65}},"13":{"start":{"line":91,"column":8},"end":{"line":91,"column":83}},"14":{"start":{"line":92,"column":8},"end":{"line":92,"column":39}},"15":{"start":{"line":95,"column":4},"end":{"line":104,"column":5}},"16":{"start":{"line":96,"column":6},"end":{"line":96,"column":61}},"17":{"start":{"line":97,"column":6},"end":{"line":97,"column":69}},"18":{"start":{"line":98,"column":6},"end":{"line":98,"column":74}},"19":{"start":{"line":101,"column":6},"end":{"line":101,"column":48}},"20":{"start":{"line":103,"column":6},"end":{"line":103,"column":35}},"21":{"start":{"line":106,"column":4},"end":{"line":110,"column":7}},"22":{"start":{"line":108,"column":8},"end":{"line":108,"column":50}},"23":{"start":{"line":109,"column":8},"end":{"line":109,"column":47}},"24":{"start":{"line":112,"column":4},"end":{"line":121,"column":6}},"25":{"start":{"line":114,"column":8},"end":{"line":114,"column":93}},"26":{"start":{"line":116,"column":8},"end":{"line":116,"column":54}},"27":{"start":{"line":117,"column":8},"end":{"line":117,"column":89}},"28":{"start":{"line":118,"column":8},"end":{"line":118,"column":64}},"29":{"start":{"line":119,"column":8},"end":{"line":119,"column":41}},"30":{"start":{"line":124,"column":0},"end":{"line":126,"column":3}},"31":{"start":{"line":125,"column":4},"end":{"line":125,"column":69}},"32":{"start":{"line":129,"column":0},"end":{"line":154,"column":1}},"33":{"start":{"line":131,"column":4},"end":{"line":131,"column":29}},"34":{"start":{"line":133,"column":8},"end":{"line":139,"column":22}},"35":{"start":{"line":148,"column":6},"end":{"line":151,"column":40}},"36":{"start":{"line":149,"column":8},"end":{"line":149,"column":58}},"37":{"start":{"line":151,"column":8},"end":{"line":151,"column":40}},"38":{"start":{"line":152,"column":6},"end":{"line":152,"column":40}},"39":{"start":{"line":153,"column":6},"end":{"line":153,"column":19}}},"branchMap":{"1":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":22},"end":{"line":89,"column":42}},{"start":{"line":89,"column":46},"end":{"line":89,"column":56}},{"start":{"line":89,"column":60},"end":{"line":89,"column":62}}]},"2":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":51},"end":{"line":90,"column":58}},{"start":{"line":90,"column":60},"end":{"line":90,"column":62}}]},"3":{"line":91,"type":"binary-expr","locations":[{"start":{"line":91,"column":8},"end":{"line":91,"column":15}},{"start":{"line":91,"column":19},"end":{"line":91,"column":82}}]},"4":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":20},"end":{"line":96,"column":40}},{"start":{"line":96,"column":44},"end":{"line":96,"column":54}},{"start":{"line":96,"column":58},"end":{"line":96,"column":60}}]},"5":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":55},"end":{"line":97,"column":62}},{"start":{"line":97,"column":64},"end":{"line":97,"column":66}}]},"6":{"line":117,"type":"cond-expr","locations":[{"start":{"line":117,"column":59},"end":{"line":117,"column":78}},{"start":{"line":117,"column":80},"end":{"line":117,"column":86}}]},"7":{"line":118,"type":"cond-expr","locations":[{"start":{"line":118,"column":35},"end":{"line":118,"column":54}},{"start":{"line":118,"column":56},"end":{"line":118,"column":62}}]},"8":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":6},"end":{"line":148,"column":6}},{"start":{"line":148,"column":6},"end":{"line":148,"column":6}}]}},"code":["","module.exports = function(grunt) {","    // Project configuration.","  grunt.initConfig({","    pkg: grunt.file.readJSON('package.json'),","    karma: {","        options: {","            basePath: './',","            frameworks: ['jasmine'],","            autoWatch: true,","            browsers: ['PhantomJS'],","            junitReporter: {","              outputFile: 'build/karma-unit.xml',","              suite: 'unit'","            }, ","            singleRun:false,","            preprocessors:{","              //'**/*.tpl':['html2js'],","              //'**/*.tpl.html':['html2js']","            },","            //runnerPort:9999,","            reporters: 'dots',","            client: {","              mocha: {","                ui: 'bdd'","              }","            }","        },","        e2e: {","            background:false,","            frameworks: ['ng-scenario'],","            autoWatch: false,","            browsers: ['Chrome'],","            singleRun: true,","            proxies: {","              '/': 'http://localhost:8000/'","            },","            urlRoot: '/__karma/',","            logLevel: 'trace',","            junitReporter: {","              outputFile: 'build/karma/unit.xml',","              suite: 'e2e'","            }","        },","        unit: {","        }","    },","    watch: {","        testall:{","            files: [\"lib/**/*.js\", \"test/**/*.js\"],","            tasks:['test'],","            options: { debounceDelay: 250 }    ","        }","    },","    jasmine_node: {","            specNameMatcher: \"spec\", // load only specs containing specNameMatcher","            projectRoot: \"./test\",","            requirejs: false,","            forceExit: true,","            jUnit: {","              report: true,","              savePath : \"./build/reports/\",","              useDotNotation: true,","              consolidate: true","            }","    },","     shell:{","         'test-server': {","             command: \"./kick\"","         }","         ","     }","  });","","    // Load the plugin that provides the \"uglify\" task.","    grunt.loadNpmTasks('grunt-jasmine-node');","    grunt.loadNpmTasks('grunt-shell');","    grunt.loadNpmTasks('grunt-contrib-watch');","    grunt.loadNpmTasks('grunt-karma');","","    grunt.registerTask('combine',['concat', 'import-modules'] );","  ","    // Default task(s).","    grunt.registerTask('default', []);","  ","    grunt.registerTask(\"test\", \"Serverside unit tests\", function(argPattern){","        // change NODE_ENV to unittest ","        grunt.config.set(\"jasmine_node.projectRoot\", \"./test\");","        var pattern = grunt.option(\"file\") || argPattern || \"\";","        grunt.log.writeln(\"running   unit test:\", (pattern||\"\"));","        pattern && grunt.config.set(\"jasmine_node.match\" ,  \".*\" + pattern + \".*\");","        grunt.task.run('jasmine_node');","    });","    ","    grunt.registerTask(\"ctest\", \"Client side unit test\", function(argPattern){","      var pattern = grunt.option(\"file\") || argPattern || \"\";","      grunt.log.writeln(\"running angular unit test:\", (pattern||\"\"));","      grunt.config.set(\"karma.options.files\", collectKarmaFiles(pattern));","      ","      // start angoose, this will cause angoose to generate the client file","      require(\"./test/lib/angular-test-server\");","      ","      grunt.task.run(\"karma:unit\");","  });","    ","    grunt.registerTask(\"server\", \"Run test server on port 9988\", function(argPattern){","        // change NODE_ENV to unittest ","        grunt.log.writeln(\"Starting test server\");","        require(\"./test/server\").startServer();","    });","  ","    grunt.registerTask('autotest', 'watch and test', function(argPattern) {","","        var watched= [\"lib/**/*.js\", \"test/**/*.js\", \"models/**/*.js\", \"extensions/**/*.js\"];","       // set the correct list of file to watch according to the argument passed","        grunt.config('watch.autotest.files', watched);","        grunt.config('watch.autotest.tasks',  (argPattern? 'test:'+ argPattern: 'test'));","        grunt.task.run(argPattern? 'test:'+ argPattern: 'test');","        grunt.task.run('watch:autotest');","        ","    })","};","","process.on('uncaughtException',function(e) {","    console.log(\" Unhandled Error in Grunt -----> : \", e,   e.stack);","});","","","function collectKarmaFiles(grepPattern){","        // collect the karma test files","    var root = process.cwd();","        ","        var files = [   \"./test/lib/angular/angular.js\", ","                        \"./test/lib/angular/angular-resource.js\", ","                        \"./test/lib/angular/angular-sanitize.js\", ","                        \"./test/lib/angular/angular-route.js\",","                        \"./test/lib/angular/angular-mocks.js\",","                        \"./build/generated-client.js\"","                    ];","        // \"/lib/angular-file-upload.js\", ","        //\"/lib/angular/ui/angular-ui.js\", ","        //\"/lib/bootstrap/ui-bootstrap-tpls-0.6.0.js\", ","        //\"/lib/select2/select2.js\", ","        //\"/lib/select2/select2-angular.js\", ","        //\"/lib/bootstrap/bootstrap-datepicker-inline.js\", ","        //\"/lib/bootstrap/bootstrap-timepicker-inline.js\", ","    ","      if(grepPattern)","        files.push( \"./test/ui/**/*\"+ grepPattern+\"*.js\");","      else","        files.push(\"./test/ui/**/*.js\");","      console.log(\"Karma files\", files);","      return files;    ","}"],"l":{"2":1,"4":0,"76":0,"77":0,"78":0,"79":0,"81":0,"84":0,"86":0,"88":0,"89":0,"90":0,"91":0,"92":0,"95":0,"96":0,"97":0,"98":0,"101":0,"103":0,"106":0,"108":0,"109":0,"112":0,"114":0,"116":0,"117":0,"118":0,"119":0,"124":1,"125":0,"129":1,"131":0,"133":0,"148":0,"149":0,"151":0,"152":0,"153":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-authorization.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-authorization.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":1,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":1,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":1,"96":0,"97":0,"98":1,"99":0,"100":0,"101":1,"102":0,"103":1,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":1,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":1,"158":0,"159":1,"160":0,"161":1,"162":0,"163":0,"164":0,"165":0,"166":0,"167":1,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0,0],"24":[0,0,0],"25":[0,0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},"fnMap":{"1":{"name":"preAuth","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":22}}},"2":{"name":"logger","line":33,"loc":{"start":{"line":33,"column":0},"end":{"line":33,"column":17}}},"3":{"name":"postAuth","line":38,"loc":{"start":{"line":38,"column":0},"end":{"line":38,"column":35}}},"4":{"name":"(anonymous_4)","line":64,"loc":{"start":{"line":64,"column":57},"end":{"line":64,"column":74}}},"5":{"name":"redact","line":71,"loc":{"start":{"line":71,"column":0},"end":{"line":71,"column":21}}},"6":{"name":"isAllowed","line":75,"loc":{"start":{"line":75,"column":0},"end":{"line":75,"column":43}}},"7":{"name":"(anonymous_7)","line":77,"loc":{"start":{"line":77,"column":14},"end":{"line":77,"column":29}}},"8":{"name":"getMatrix","line":87,"loc":{"start":{"line":87,"column":0},"end":{"line":87,"column":28}}},"9":{"name":"(anonymous_9)","line":91,"loc":{"start":{"line":91,"column":29},"end":{"line":91,"column":49}}},"10":{"name":"schemaInterceptor","line":101,"loc":{"start":{"line":101,"column":0},"end":{"line":101,"column":41}}},"11":{"name":"getGroup","line":116,"loc":{"start":{"line":116,"column":0},"end":{"line":116,"column":37}}},"12":{"name":"getLabel","line":130,"loc":{"start":{"line":130,"column":0},"end":{"line":130,"column":37}}},"13":{"name":"getCategory","line":134,"loc":{"start":{"line":134,"column":0},"end":{"line":134,"column":28}}},"14":{"name":"isModel","line":138,"loc":{"start":{"line":138,"column":0},"end":{"line":138,"column":24}}},"15":{"name":"beforeCreateBundle","line":141,"loc":{"start":{"line":141,"column":0},"end":{"line":141,"column":37}}},"16":{"name":"(anonymous_16)","line":150,"loc":{"start":{"line":150,"column":33},"end":{"line":150,"column":53}}},"17":{"name":"postInvoke","line":188,"loc":{"start":{"line":188,"column":0},"end":{"line":188,"column":37}}},"18":{"name":"moduleSetup","line":209,"loc":{"start":{"line":209,"column":0},"end":{"line":209,"column":26}}},"19":{"name":"session","line":213,"loc":{"start":{"line":213,"column":0},"end":{"line":213,"column":18}}},"20":{"name":"getModelSchema","line":217,"loc":{"start":{"line":217,"column":0},"end":{"line":217,"column":25}}},"21":{"name":"(anonymous_21)","line":223,"loc":{"start":{"line":223,"column":23},"end":{"line":223,"column":37}}},"22":{"name":"setupInitialRoles","line":232,"loc":{"start":{"line":232,"column":0},"end":{"line":232,"column":28}}},"23":{"name":"(anonymous_23)","line":234,"loc":{"start":{"line":234,"column":34},"end":{"line":234,"column":53}}},"24":{"name":"(anonymous_24)","line":240,"loc":{"start":{"line":240,"column":15},"end":{"line":240,"column":28}}},"25":{"name":"(anonymous_25)","line":244,"loc":{"start":{"line":244,"column":42},"end":{"line":244,"column":61}}},"26":{"name":"(anonymous_26)","line":250,"loc":{"start":{"line":250,"column":15},"end":{"line":250,"column":28}}},"27":{"name":"(anonymous_27)","line":255,"loc":{"start":{"line":255,"column":35},"end":{"line":255,"column":54}}},"28":{"name":"(anonymous_28)","line":261,"loc":{"start":{"line":261,"column":15},"end":{"line":261,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":36}},"5":{"start":{"line":6,"column":0},"end":{"line":6,"column":39}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":18}},"7":{"start":{"line":9,"column":0},"end":{"line":16,"column":2}},"8":{"start":{"line":18,"column":0},"end":{"line":18,"column":69}},"9":{"start":{"line":20,"column":0},"end":{"line":32,"column":1}},"10":{"start":{"line":21,"column":4},"end":{"line":21,"column":63}},"11":{"start":{"line":22,"column":4},"end":{"line":22,"column":48}},"12":{"start":{"line":23,"column":4},"end":{"line":30,"column":5}},"13":{"start":{"line":24,"column":8},"end":{"line":24,"column":61}},"14":{"start":{"line":26,"column":8},"end":{"line":26,"column":101}},"15":{"start":{"line":29,"column":8},"end":{"line":29,"column":86}},"16":{"start":{"line":31,"column":4},"end":{"line":31,"column":11}},"17":{"start":{"line":33,"column":0},"end":{"line":37,"column":1}},"18":{"start":{"line":34,"column":4},"end":{"line":34,"column":56}},"19":{"start":{"line":35,"column":4},"end":{"line":35,"column":114}},"20":{"start":{"line":36,"column":4},"end":{"line":36,"column":53}},"21":{"start":{"line":38,"column":0},"end":{"line":69,"column":1}},"22":{"start":{"line":39,"column":3},"end":{"line":39,"column":56}},"23":{"start":{"line":41,"column":3},"end":{"line":41,"column":34}},"24":{"start":{"line":42,"column":3},"end":{"line":42,"column":33}},"25":{"start":{"line":44,"column":3},"end":{"line":44,"column":29}},"26":{"start":{"line":47,"column":3},"end":{"line":47,"column":66}},"27":{"start":{"line":48,"column":3},"end":{"line":48,"column":54}},"28":{"start":{"line":48,"column":40},"end":{"line":48,"column":54}},"29":{"start":{"line":49,"column":3},"end":{"line":49,"column":81}},"30":{"start":{"line":50,"column":3},"end":{"line":50,"column":68}},"31":{"start":{"line":50,"column":54},"end":{"line":50,"column":68}},"32":{"start":{"line":52,"column":3},"end":{"line":52,"column":76}},"33":{"start":{"line":53,"column":3},"end":{"line":53,"column":83}},"34":{"start":{"line":53,"column":69},"end":{"line":53,"column":83}},"35":{"start":{"line":55,"column":3},"end":{"line":55,"column":48}},"36":{"start":{"line":56,"column":3},"end":{"line":56,"column":73}},"37":{"start":{"line":57,"column":3},"end":{"line":57,"column":88}},"38":{"start":{"line":59,"column":4},"end":{"line":59,"column":54}},"39":{"start":{"line":60,"column":4},"end":{"line":60,"column":51}},"40":{"start":{"line":61,"column":4},"end":{"line":61,"column":54}},"41":{"start":{"line":61,"column":34},"end":{"line":61,"column":54}},"42":{"start":{"line":62,"column":4},"end":{"line":62,"column":70}},"43":{"start":{"line":62,"column":42},"end":{"line":62,"column":70}},"44":{"start":{"line":64,"column":3},"end":{"line":68,"column":6}},"45":{"start":{"line":65,"column":8},"end":{"line":65,"column":64}},"46":{"start":{"line":66,"column":8},"end":{"line":66,"column":37}},"47":{"start":{"line":67,"column":8},"end":{"line":67,"column":15}},"48":{"start":{"line":71,"column":0},"end":{"line":74,"column":1}},"49":{"start":{"line":72,"column":4},"end":{"line":72,"column":40}},"50":{"start":{"line":73,"column":4},"end":{"line":73,"column":11}},"51":{"start":{"line":75,"column":0},"end":{"line":84,"column":1}},"52":{"start":{"line":76,"column":4},"end":{"line":76,"column":62}},"53":{"start":{"line":77,"column":4},"end":{"line":83,"column":7}},"54":{"start":{"line":78,"column":8},"end":{"line":81,"column":9}},"55":{"start":{"line":79,"column":12},"end":{"line":79,"column":59}},"56":{"start":{"line":80,"column":12},"end":{"line":80,"column":90}},"57":{"start":{"line":80,"column":68},"end":{"line":80,"column":90}},"58":{"start":{"line":82,"column":8},"end":{"line":82,"column":24}},"59":{"start":{"line":87,"column":0},"end":{"line":100,"column":1}},"60":{"start":{"line":88,"column":4},"end":{"line":90,"column":5}},"61":{"start":{"line":89,"column":8},"end":{"line":89,"column":32}},"62":{"start":{"line":91,"column":4},"end":{"line":99,"column":7}},"63":{"start":{"line":92,"column":8},"end":{"line":92,"column":71}},"64":{"start":{"line":92,"column":16},"end":{"line":92,"column":71}},"65":{"start":{"line":93,"column":8},"end":{"line":93,"column":20}},"66":{"start":{"line":94,"column":8},"end":{"line":97,"column":9}},"67":{"start":{"line":95,"column":12},"end":{"line":95,"column":32}},"68":{"start":{"line":96,"column":12},"end":{"line":96,"column":37}},"69":{"start":{"line":98,"column":8},"end":{"line":98,"column":25}},"70":{"start":{"line":101,"column":0},"end":{"line":114,"column":1}},"71":{"start":{"line":103,"column":4},"end":{"line":112,"column":5}},"72":{"start":{"line":104,"column":8},"end":{"line":104,"column":80}},"73":{"start":{"line":105,"column":8},"end":{"line":105,"column":83}},"74":{"start":{"line":106,"column":8},"end":{"line":111,"column":9}},"75":{"start":{"line":107,"column":11},"end":{"line":107,"column":38}},"76":{"start":{"line":108,"column":11},"end":{"line":108,"column":53}},"77":{"start":{"line":109,"column":11},"end":{"line":109,"column":62}},"78":{"start":{"line":110,"column":11},"end":{"line":110,"column":34}},"79":{"start":{"line":113,"column":4},"end":{"line":113,"column":23}},"80":{"start":{"line":116,"column":0},"end":{"line":129,"column":1}},"81":{"start":{"line":117,"column":5},"end":{"line":117,"column":56}},"82":{"start":{"line":118,"column":5},"end":{"line":118,"column":47}},"83":{"start":{"line":119,"column":5},"end":{"line":127,"column":6}},"84":{"start":{"line":122,"column":9},"end":{"line":122,"column":118}},"85":{"start":{"line":122,"column":104},"end":{"line":122,"column":118}},"86":{"start":{"line":123,"column":9},"end":{"line":123,"column":68}},"87":{"start":{"line":123,"column":52},"end":{"line":123,"column":68}},"88":{"start":{"line":124,"column":9},"end":{"line":124,"column":62}},"89":{"start":{"line":124,"column":46},"end":{"line":124,"column":62}},"90":{"start":{"line":125,"column":9},"end":{"line":125,"column":63}},"91":{"start":{"line":125,"column":47},"end":{"line":125,"column":63}},"92":{"start":{"line":126,"column":9},"end":{"line":126,"column":133}},"93":{"start":{"line":126,"column":109},"end":{"line":126,"column":133}},"94":{"start":{"line":128,"column":5},"end":{"line":128,"column":15}},"95":{"start":{"line":130,"column":0},"end":{"line":133,"column":1}},"96":{"start":{"line":131,"column":4},"end":{"line":131,"column":55}},"97":{"start":{"line":132,"column":4},"end":{"line":132,"column":75}},"98":{"start":{"line":134,"column":0},"end":{"line":137,"column":1}},"99":{"start":{"line":135,"column":4},"end":{"line":135,"column":43}},"100":{"start":{"line":136,"column":4},"end":{"line":136,"column":62}},"101":{"start":{"line":138,"column":0},"end":{"line":140,"column":1}},"102":{"start":{"line":139,"column":4},"end":{"line":139,"column":49}},"103":{"start":{"line":141,"column":0},"end":{"line":186,"column":1}},"104":{"start":{"line":143,"column":4},"end":{"line":143,"column":44}},"105":{"start":{"line":144,"column":4},"end":{"line":144,"column":82}},"106":{"start":{"line":145,"column":4},"end":{"line":145,"column":97}},"107":{"start":{"line":147,"column":4},"end":{"line":147,"column":33}},"108":{"start":{"line":148,"column":4},"end":{"line":148,"column":38}},"109":{"start":{"line":150,"column":4},"end":{"line":179,"column":7}},"110":{"start":{"line":151,"column":8},"end":{"line":151,"column":41}},"111":{"start":{"line":152,"column":8},"end":{"line":152,"column":57}},"112":{"start":{"line":152,"column":50},"end":{"line":152,"column":57}},"113":{"start":{"line":153,"column":8},"end":{"line":153,"column":92}},"114":{"start":{"line":154,"column":8},"end":{"line":154,"column":45}},"115":{"start":{"line":155,"column":8},"end":{"line":155,"column":69}},"116":{"start":{"line":155,"column":62},"end":{"line":155,"column":69}},"117":{"start":{"line":156,"column":8},"end":{"line":156,"column":40}},"118":{"start":{"line":157,"column":8},"end":{"line":178,"column":9}},"119":{"start":{"line":158,"column":11},"end":{"line":158,"column":38}},"120":{"start":{"line":159,"column":11},"end":{"line":159,"column":66}},"121":{"start":{"line":159,"column":57},"end":{"line":159,"column":66}},"122":{"start":{"line":160,"column":11},"end":{"line":160,"column":60}},"123":{"start":{"line":161,"column":11},"end":{"line":161,"column":64}},"124":{"start":{"line":162,"column":11},"end":{"line":162,"column":59}},"125":{"start":{"line":162,"column":50},"end":{"line":162,"column":59}},"126":{"start":{"line":164,"column":11},"end":{"line":164,"column":44}},"127":{"start":{"line":165,"column":11},"end":{"line":177,"column":12}},"128":{"start":{"line":166,"column":15},"end":{"line":166,"column":48}},"129":{"start":{"line":167,"column":15},"end":{"line":167,"column":30}},"130":{"start":{"line":168,"column":15},"end":{"line":168,"column":72}},"131":{"start":{"line":169,"column":15},"end":{"line":169,"column":37}},"132":{"start":{"line":171,"column":16},"end":{"line":177,"column":12}},"133":{"start":{"line":173,"column":15},"end":{"line":173,"column":68}},"134":{"start":{"line":174,"column":15},"end":{"line":174,"column":30}},"135":{"start":{"line":175,"column":15},"end":{"line":175,"column":83}},"136":{"start":{"line":176,"column":15},"end":{"line":176,"column":37}},"137":{"start":{"line":180,"column":4},"end":{"line":180,"column":177}},"138":{"start":{"line":181,"column":4},"end":{"line":181,"column":63}},"139":{"start":{"line":182,"column":4},"end":{"line":182,"column":58}},"140":{"start":{"line":183,"column":4},"end":{"line":183,"column":55}},"141":{"start":{"line":185,"column":4},"end":{"line":185,"column":24}},"142":{"start":{"line":188,"column":0},"end":{"line":207,"column":1}},"143":{"start":{"line":191,"column":4},"end":{"line":191,"column":77}},"144":{"start":{"line":191,"column":63},"end":{"line":191,"column":77}},"145":{"start":{"line":193,"column":4},"end":{"line":197,"column":5}},"146":{"start":{"line":194,"column":8},"end":{"line":195,"column":82}},"147":{"start":{"line":195,"column":12},"end":{"line":195,"column":82}},"148":{"start":{"line":196,"column":8},"end":{"line":196,"column":42}},"149":{"start":{"line":198,"column":4},"end":{"line":198,"column":33}},"150":{"start":{"line":199,"column":4},"end":{"line":199,"column":74}},"151":{"start":{"line":200,"column":4},"end":{"line":201,"column":22}},"152":{"start":{"line":201,"column":8},"end":{"line":201,"column":22}},"153":{"start":{"line":202,"column":4},"end":{"line":205,"column":5}},"154":{"start":{"line":203,"column":8},"end":{"line":203,"column":116}},"155":{"start":{"line":204,"column":8},"end":{"line":204,"column":108}},"156":{"start":{"line":206,"column":4},"end":{"line":206,"column":11}},"157":{"start":{"line":209,"column":0},"end":{"line":211,"column":1}},"158":{"start":{"line":210,"column":4},"end":{"line":210,"column":11}},"159":{"start":{"line":213,"column":0},"end":{"line":215,"column":1}},"160":{"start":{"line":214,"column":5},"end":{"line":214,"column":60}},"161":{"start":{"line":217,"column":0},"end":{"line":229,"column":1}},"162":{"start":{"line":218,"column":4},"end":{"line":221,"column":38}},"163":{"start":{"line":223,"column":4},"end":{"line":226,"column":7}},"164":{"start":{"line":224,"column":7},"end":{"line":224,"column":22}},"165":{"start":{"line":225,"column":7},"end":{"line":225,"column":14}},"166":{"start":{"line":228,"column":4},"end":{"line":228,"column":18}},"167":{"start":{"line":232,"column":0},"end":{"line":265,"column":1}},"168":{"start":{"line":233,"column":4},"end":{"line":233,"column":43}},"169":{"start":{"line":234,"column":4},"end":{"line":243,"column":7}},"170":{"start":{"line":235,"column":8},"end":{"line":235,"column":24}},"171":{"start":{"line":235,"column":17},"end":{"line":235,"column":24}},"172":{"start":{"line":236,"column":8},"end":{"line":239,"column":11}},"173":{"start":{"line":240,"column":8},"end":{"line":242,"column":11}},"174":{"start":{"line":241,"column":12},"end":{"line":241,"column":56}},"175":{"start":{"line":244,"column":4},"end":{"line":253,"column":7}},"176":{"start":{"line":245,"column":8},"end":{"line":245,"column":24}},"177":{"start":{"line":245,"column":17},"end":{"line":245,"column":24}},"178":{"start":{"line":246,"column":8},"end":{"line":249,"column":11}},"179":{"start":{"line":250,"column":8},"end":{"line":252,"column":11}},"180":{"start":{"line":251,"column":12},"end":{"line":251,"column":64}},"181":{"start":{"line":255,"column":5},"end":{"line":264,"column":7}},"182":{"start":{"line":256,"column":8},"end":{"line":256,"column":24}},"183":{"start":{"line":256,"column":17},"end":{"line":256,"column":24}},"184":{"start":{"line":257,"column":8},"end":{"line":260,"column":11}},"185":{"start":{"line":261,"column":8},"end":{"line":263,"column":11}},"186":{"start":{"line":262,"column":12},"end":{"line":262,"column":56}}},"branchMap":{"1":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":23,"column":4}},{"start":{"line":23,"column":4},"end":{"line":23,"column":4}}]},"2":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":57},"end":{"line":35,"column":73}},{"start":{"line":35,"column":77},"end":{"line":35,"column":101}},{"start":{"line":35,"column":106},"end":{"line":35,"column":112}}]},"3":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":20},"end":{"line":47,"column":36}},{"start":{"line":47,"column":40},"end":{"line":47,"column":66}}]},"4":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":3},"end":{"line":48,"column":3}},{"start":{"line":48,"column":3},"end":{"line":48,"column":3}}]},"5":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":21},"end":{"line":49,"column":37}},{"start":{"line":49,"column":41},"end":{"line":49,"column":67}},{"start":{"line":49,"column":73},"end":{"line":49,"column":80}}]},"6":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":3},"end":{"line":50,"column":3}},{"start":{"line":50,"column":3},"end":{"line":50,"column":3}}]},"7":{"line":50,"type":"binary-expr","locations":[{"start":{"line":50,"column":6},"end":{"line":50,"column":10}},{"start":{"line":50,"column":14},"end":{"line":50,"column":52}}]},"8":{"line":53,"type":"if","locations":[{"start":{"line":53,"column":3},"end":{"line":53,"column":3}},{"start":{"line":53,"column":3},"end":{"line":53,"column":3}}]},"9":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":6},"end":{"line":53,"column":35}},{"start":{"line":53,"column":39},"end":{"line":53,"column":67}}]},"10":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":18},"end":{"line":56,"column":52}},{"start":{"line":56,"column":56},"end":{"line":56,"column":72}}]},"11":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":15},"end":{"line":57,"column":66}},{"start":{"line":57,"column":70},"end":{"line":57,"column":87}}]},"12":{"line":59,"type":"cond-expr","locations":[{"start":{"line":59,"column":34},"end":{"line":59,"column":49}},{"start":{"line":59,"column":51},"end":{"line":59,"column":53}}]},"13":{"line":60,"type":"cond-expr","locations":[{"start":{"line":60,"column":34},"end":{"line":60,"column":39}},{"start":{"line":60,"column":41},"end":{"line":60,"column":50}}]},"14":{"line":61,"type":"if","locations":[{"start":{"line":61,"column":4},"end":{"line":61,"column":4}},{"start":{"line":61,"column":4},"end":{"line":61,"column":4}}]},"15":{"line":62,"type":"if","locations":[{"start":{"line":62,"column":4},"end":{"line":62,"column":4}},{"start":{"line":62,"column":4},"end":{"line":62,"column":4}}]},"16":{"line":79,"type":"binary-expr","locations":[{"start":{"line":79,"column":31},"end":{"line":79,"column":36}},{"start":{"line":79,"column":41},"end":{"line":79,"column":58}}]},"17":{"line":80,"type":"if","locations":[{"start":{"line":80,"column":12},"end":{"line":80,"column":12}},{"start":{"line":80,"column":12},"end":{"line":80,"column":12}}]},"18":{"line":80,"type":"binary-expr","locations":[{"start":{"line":80,"column":15},"end":{"line":80,"column":26}},{"start":{"line":80,"column":30},"end":{"line":80,"column":65}}]},"19":{"line":88,"type":"if","locations":[{"start":{"line":88,"column":4},"end":{"line":88,"column":4}},{"start":{"line":88,"column":4},"end":{"line":88,"column":4}}]},"20":{"line":92,"type":"if","locations":[{"start":{"line":92,"column":8},"end":{"line":92,"column":8}},{"start":{"line":92,"column":8},"end":{"line":92,"column":8}}]},"21":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":21},"end":{"line":94,"column":26}},{"start":{"line":94,"column":30},"end":{"line":94,"column":44}}]},"22":{"line":103,"type":"if","locations":[{"start":{"line":103,"column":4},"end":{"line":103,"column":4}},{"start":{"line":103,"column":4},"end":{"line":103,"column":4}}]},"23":{"line":103,"type":"binary-expr","locations":[{"start":{"line":103,"column":7},"end":{"line":103,"column":13}},{"start":{"line":103,"column":18},"end":{"line":103,"column":32}},{"start":{"line":103,"column":36},"end":{"line":103,"column":50}}]},"24":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":27},"end":{"line":104,"column":41}},{"start":{"line":104,"column":45},"end":{"line":104,"column":72}},{"start":{"line":104,"column":77},"end":{"line":104,"column":79}}]},"25":{"line":105,"type":"binary-expr","locations":[{"start":{"line":105,"column":29},"end":{"line":105,"column":43}},{"start":{"line":105,"column":47},"end":{"line":105,"column":74}},{"start":{"line":105,"column":79},"end":{"line":105,"column":81}}]},"26":{"line":106,"type":"binary-expr","locations":[{"start":{"line":106,"column":20},"end":{"line":106,"column":31}},{"start":{"line":106,"column":35},"end":{"line":106,"column":55}}]},"27":{"line":118,"type":"binary-expr","locations":[{"start":{"line":118,"column":16},"end":{"line":118,"column":41}},{"start":{"line":118,"column":45},"end":{"line":118,"column":47}}]},"28":{"line":119,"type":"if","locations":[{"start":{"line":119,"column":5},"end":{"line":119,"column":5}},{"start":{"line":119,"column":5},"end":{"line":119,"column":5}}]},"29":{"line":119,"type":"binary-expr","locations":[{"start":{"line":119,"column":8},"end":{"line":119,"column":12}},{"start":{"line":119,"column":16},"end":{"line":119,"column":31}}]},"30":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":9},"end":{"line":122,"column":9}},{"start":{"line":122,"column":9},"end":{"line":122,"column":9}}]},"31":{"line":123,"type":"if","locations":[{"start":{"line":123,"column":9},"end":{"line":123,"column":9}},{"start":{"line":123,"column":9},"end":{"line":123,"column":9}}]},"32":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":9},"end":{"line":124,"column":9}},{"start":{"line":124,"column":9},"end":{"line":124,"column":9}}]},"33":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":9},"end":{"line":125,"column":9}},{"start":{"line":125,"column":9},"end":{"line":125,"column":9}}]},"34":{"line":126,"type":"if","locations":[{"start":{"line":126,"column":9},"end":{"line":126,"column":9}},{"start":{"line":126,"column":9},"end":{"line":126,"column":9}}]},"35":{"line":132,"type":"binary-expr","locations":[{"start":{"line":132,"column":11},"end":{"line":132,"column":36}},{"start":{"line":132,"column":40},"end":{"line":132,"column":75}}]},"36":{"line":136,"type":"binary-expr","locations":[{"start":{"line":136,"column":11},"end":{"line":136,"column":36}},{"start":{"line":136,"column":40},"end":{"line":136,"column":61}}]},"37":{"line":144,"type":"binary-expr","locations":[{"start":{"line":144,"column":17},"end":{"line":144,"column":67}},{"start":{"line":144,"column":71},"end":{"line":144,"column":81}}]},"38":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":22},"end":{"line":145,"column":77}},{"start":{"line":145,"column":81},"end":{"line":145,"column":96}}]},"39":{"line":152,"type":"if","locations":[{"start":{"line":152,"column":8},"end":{"line":152,"column":8}},{"start":{"line":152,"column":8},"end":{"line":152,"column":8}}]},"40":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":11},"end":{"line":152,"column":18}},{"start":{"line":152,"column":22},"end":{"line":152,"column":48}}]},"41":{"line":155,"type":"if","locations":[{"start":{"line":155,"column":8},"end":{"line":155,"column":8}},{"start":{"line":155,"column":8},"end":{"line":155,"column":8}}]},"42":{"line":155,"type":"binary-expr","locations":[{"start":{"line":155,"column":11},"end":{"line":155,"column":21}},{"start":{"line":155,"column":25},"end":{"line":155,"column":59}}]},"43":{"line":157,"type":"binary-expr","locations":[{"start":{"line":157,"column":20},"end":{"line":157,"column":31}},{"start":{"line":157,"column":35},"end":{"line":157,"column":55}}]},"44":{"line":159,"type":"if","locations":[{"start":{"line":159,"column":11},"end":{"line":159,"column":11}},{"start":{"line":159,"column":11},"end":{"line":159,"column":11}}]},"45":{"line":159,"type":"binary-expr","locations":[{"start":{"line":159,"column":14},"end":{"line":159,"column":31}},{"start":{"line":159,"column":35},"end":{"line":159,"column":55}}]},"46":{"line":160,"type":"binary-expr","locations":[{"start":{"line":160,"column":20},"end":{"line":160,"column":34}},{"start":{"line":160,"column":38},"end":{"line":160,"column":59}}]},"47":{"line":161,"type":"binary-expr","locations":[{"start":{"line":161,"column":16},"end":{"line":161,"column":18}},{"start":{"line":161,"column":23},"end":{"line":161,"column":37}},{"start":{"line":161,"column":41},"end":{"line":161,"column":62}}]},"48":{"line":162,"type":"if","locations":[{"start":{"line":162,"column":11},"end":{"line":162,"column":11}},{"start":{"line":162,"column":11},"end":{"line":162,"column":11}}]},"49":{"line":165,"type":"if","locations":[{"start":{"line":165,"column":11},"end":{"line":165,"column":11}},{"start":{"line":165,"column":11},"end":{"line":165,"column":11}}]},"50":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":16},"end":{"line":171,"column":16}},{"start":{"line":171,"column":16},"end":{"line":171,"column":16}}]},"51":{"line":180,"type":"cond-expr","locations":[{"start":{"line":180,"column":84},"end":{"line":180,"column":123}},{"start":{"line":180,"column":124},"end":{"line":180,"column":175}}]},"52":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":4},"end":{"line":191,"column":4}},{"start":{"line":191,"column":4},"end":{"line":191,"column":4}}]},"53":{"line":193,"type":"if","locations":[{"start":{"line":193,"column":4},"end":{"line":193,"column":4}},{"start":{"line":193,"column":4},"end":{"line":193,"column":4}}]},"54":{"line":194,"type":"if","locations":[{"start":{"line":194,"column":8},"end":{"line":194,"column":8}},{"start":{"line":194,"column":8},"end":{"line":194,"column":8}}]},"55":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":4},"end":{"line":200,"column":4}},{"start":{"line":200,"column":4},"end":{"line":200,"column":4}}]},"56":{"line":200,"type":"binary-expr","locations":[{"start":{"line":200,"column":7},"end":{"line":200,"column":12}},{"start":{"line":200,"column":16},"end":{"line":200,"column":28}}]},"57":{"line":202,"type":"if","locations":[{"start":{"line":202,"column":4},"end":{"line":202,"column":4}},{"start":{"line":202,"column":4},"end":{"line":202,"column":4}}]},"58":{"line":214,"type":"binary-expr","locations":[{"start":{"line":214,"column":12},"end":{"line":214,"column":53}},{"start":{"line":214,"column":57},"end":{"line":214,"column":59}}]},"59":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":8},"end":{"line":235,"column":8}},{"start":{"line":235,"column":8},"end":{"line":235,"column":8}}]},"60":{"line":245,"type":"if","locations":[{"start":{"line":245,"column":8},"end":{"line":245,"column":8}},{"start":{"line":245,"column":8},"end":{"line":245,"column":8}}]},"61":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":8},"end":{"line":256,"column":8}},{"start":{"line":256,"column":8},"end":{"line":256,"column":8}}]}},"code":["var angoose = require(\"../lib/angoose\");","var toolbox = require(\"../lib/util/toolbox\");","","var EXTENSION = 'angoose-authorization';","var MODEL_NAME  = 'PermissionModel';","var COLLECTION_NAME  = 'angoose_perms';","","var cached = null;","var authExt = {","    name: EXTENSION,","    preAuthorize: preAuth,","    postAuthorize: postAuth,","    preRedact: redact,","    postInvoke: postInvoke,","    beforeCreateBundle: beforeCreateBundle","};","","module.exports = angoose.extension('AngooseAuthorization',  authExt);","","function preAuth(next){","    logger().trace(\"in preAuth\", session().$authenticatedUser);","    var authUser = session().$authenticatedUser;","    if(authUser){","        logger().trace(\"Found user in session\",    authUser);","        //angoose.getContext().setUser( session().$authenticatedUser );","        angoose.getContext().setPrincipal( new angoose.Principal( authUser.userId, authUser.roles) );","    }  ","    else{","        angoose.getContext().setPrincipal( new angoose.Principal( 'guest', 'guest' ));","    }","    next();","};","function logger(){","    var extensionOptions = angoose.config()[EXTENSION] ;","    angoose.getLogger('angoose-authorization').setLevel((extensionOptions && extensionOptions.logging) || 'INFO');","    return angoose.getLogger('angoose-authorization')","}","function postAuth(next, invocation){","   var extensionOptions = angoose.config()[EXTENSION]  ;","   ","   var ctx = angoose.getContext();","   var user = ctx.getPrincipal();","   ","   invocation.allowed = true;","   ","   /** admin user bypass */","   var superuser =  extensionOptions && extensionOptions.superuser ","   if(user.getUserId() ===  superuser ) return next(); // always allow super user admin","   var superrole = ( extensionOptions && extensionOptions.superrole ) || 'admin';","   if(user && user.getRoles().indexOf(superrole) >=0) return next();","   ","   logger().trace(\"in auth.postAuth:\", invocation.clazz, invocation.method);","   if(invocation.method == 'signin' || invocation.method==\"signout\") return next();","","   var mod = angoose.module( invocation.clazz );","   var category = mod.config(EXTENSION +\".category\") || invocation.clazz;","   var group = toolbox.camelcase(getGroup(mod, invocation.method)) || invocation.method;","   ","    var roles = user.getRoles() ? user.getRoles(): [];","    roles = Array.isArray(roles)? roles: [ roles ];","    if(roles.indexOf('guest') <0) roles.push('guest');","    if(roles.indexOf('authenticated') <0) roles.push('authenticated');","   ","   var allowed = isAllowed( category +\".\"+ group, roles, function(allowed){","        logger().trace(\"isAllowed: \", category, group, allowed);","        invocation.allowed = allowed;","        next();    ","   });","};","// redaction","function redact(next){","    logger().trace(\"in auth.preRedact\"); ","    next();","};","function isAllowed(action, roles, callback){","    logger().trace(\"Checking \", roles, \" for action\", action);","    getMatrix(function(perms){","        for(var i=0;i<roles.length;i++){","            var permissions =  perms &&  perms[ roles[i] ];","            if(permissions && permissions.get( action )  === true ) return callback(true);","        };","        callback(false); ","    });","}","","","function getMatrix(callback){","    if(cached){","        return callback(cached);","    }","    angoose(MODEL_NAME).find(function(err, perms){","        if(err) logger().error(\"Failed to load permission roles\", err);","        cached = {};","        for(var i=0; perms && i<perms.length; i++){","            var perm = perms[i];","            cached[perm.role] = perm;","        }","        callback(cached);","    });    ","}","function schemaInterceptor(next,  schema){  // shouldn't the err argument be here? ","    //console.log(\"in post prepareSchema\",schema);","    if(schema && (schema.methods || schema.statics) ){","        var methodNames = (schema.methods && Object.keys(schema.methods)) || [];","        methodNames.concat( (schema.statics && Object.keys(schema.statics)) || []);","        for(var i=0;methodNames && i<methodNames.length;i++){","           var mName = methodNames[i];  ","           var path = schema.moduleName +\".\" + mName;","           var opts = {path: path, options:{type:'Boolean'} };","           authItems[path] = opts;  ","        };","    };","    next(null, schema);  // we shouldn't need to provide the arguments here, bug in hooks module?","};","","function getGroup(module, methodName){","     var configPath = EXTENSION+\".\"+methodName+\".group\";","     var grp =  module.config(configPath) || \"\"","     if(!grp && isModel(module)){","         //populate,find,findOne,findById,findByIdAndRemove,findByIdAndUpdate,findOneAndRemove,findOneAndUpdate,update,remove,count,geoNear,geoSearch,aggregate","         // mongoose groups:  View, Modify, Create, Remove","         if('populate,find,findOne,findById,geoNear,geoSearch,aggregate,count,'.indexOf(methodName)>=0) return 'View';","         if('update,save'.indexOf(methodName  )>=0) return 'Modify';","         if('remove'.indexOf(methodName )>=0) return 'Delete';","         if('create'.indexOf(methodName  )>=0) return 'Create';","         if('findByIdAndRemove,findByIdAndUpdate,findOneAndRemove,findOneAndUpdate'.indexOf(methodName) >=0) return \"find-and-modify\"","     }","     return grp","}","function getLabel(module, methodName){","    var configPath = EXTENSION+\".\"+methodName+\".label\";","    return module.config(configPath) || toolbox.camelcase(methodName, true)","}","function getCategory(module){","    var configPath = EXTENSION+\".category\";","    return module.config(configPath) || module.config('name');","}","function isModel(module){","    return module.config('baseClass') == 'Model';","}","function beforeCreateBundle(  client){","    // generating PermissionModel schema used on UI","    logger().debug(\"in beforeCreateBundle\"); ","    MODEL_NAME = angoose.config('angoose-authorization.model-name') || MODEL_NAME;","    COLLECTION_NAME = angoose.config('angoose-authorization.collection-name') || COLLECTION_NAME;","    ","    var schemas = client.schemas;","    var authSchema = getModelSchema(); ","    // get list of all published methods","    Object.keys(schemas).forEach(function(moduleName){","        var schema = schemas[moduleName];","        if(!schema || moduleName == 'SampleUser') return;","        var methodNames =   Object.keys(schema.methods).concat(Object.keys(schema.statics));","        var mod = angoose.module(moduleName);","        if(mod.config && mod.config(\"visibility\") === false ) return;","        var category = getCategory(mod);","        for(var i=0;methodNames && i<methodNames.length;i++){","           var mName = methodNames[i];","           if(mName == 'config' || mName == 'getSchema') continue;","           var fn = schema.methods && schema.methods[mName];","           fn = fn || (schema.statics && schema.statics[mName]);","           if(toolbox.methodType(fn) != 'remote') continue; ","           ","           var group = getGroup(mod, mName);","           if(!group){","               var path = category +\".\" + mName;","               var field = {};","               field[path] = {type:Boolean, label: getLabel(mod,mName)};","               authSchema.add(field);    ","           }","           else if(!authSchema.path(group)){","               // add schema path for the permission group","               var path = category +\".\" +  toolbox.camelcase(group);","               var field = {};","               field[path] = {type:Boolean, label: toolbox.camelcase(group, true)};","               authSchema.add(field);   ","           }","        };","    });","    var mongooseModel =  angoose.getMongoose().modelNames().indexOf(MODEL_NAME)>=0? angoose.getMongoose().model(MODEL_NAME):angoose.getMongoose().model(MODEL_NAME, authSchema) ;","    var permModule = angoose.module(MODEL_NAME, mongooseModel); ","    new angoose.Bundle().exportModule(client, MODEL_NAME); // toolbox.exportModuleMethods(MODEL_NAME, permModule);","    logger().debug(\"Added mongoose model\", MODEL_NAME);","    ","    setupInitialRoles();","};","","function postInvoke(next, invocation){","    // this is bizzare, if main method fails, this will be called with arguments meant for pre()","    //var invocation = angoose.getContext().getInvocation(); ","    if( ['signin', 'signout'].indexOf(invocation.method ) <0 ) return next();;","    ","    if(invocation.method == 'signout'){","        if(angoose.getContext().getRequest().session)","            angoose.getContext().getRequest().session.$authenticatedUser =   null;","        logger().debug(\"User logged out\");","    }","    var data = invocation.result;","    logger().debug(\"Intercepting login methods\", invocation.method, data);","    if(!data || !data.userId  )","        return next();;","    if(invocation.method == 'signin'){","        angoose.getContext().getRequest().session.$authenticatedUser =   {userId: data.userId, roles: data.roles } ;","        logger().debug(\"User authenticated\", angoose.getContext().getRequest().session.$authenticatedUser );","    }","    next();    ","};","","function moduleSetup(next){","    next();    ","} ","","function session(){","     return angoose.getContext().getRequest().session || {};","};","","function getModelSchema(){","    var schema =  new angoose.getMongoose().Schema({","         role: {type:String, label:'Role', required:true, tags:['default-list'], unique:true },","         desc: {type:String, label:'Description',tags:['default-list']}","    }, {collection: COLLECTION_NAME});","    ","    schema.pre('save', function(next){","       cached =  null; // invalidate the cache","       next(); ","    });","    ","    return schema;","}","","","function setupInitialRoles(){","    var model=  angoose.module(MODEL_NAME);","    model.findOne({role:'admin'}, function(err, role){","        if(role) return;","        var u = new model({","            role:'admin', ","            desc:\"System default role with all permissions\"","        });","        u.save(function(err){","            logger().debug(\"Added default role: admin\");","        });","    });","    model.findOne({role:'authenticated'}, function(err, role){","        if(role) return;","        var u = new model({","            role:'authenticated', ","            desc:\"System default role for authenticated user\"","        });","        u.save(function(err){","            logger().debug(\"Added default role: authenticated\");","        });","    });","    ","     model.findOne({role:'guest'}, function(err, role){","        if(role) return;","        var u = new model({","            role:'guest', ","            desc:\"System default role for guest user\"","        });","        u.save(function(err){","            logger().debug(\"Added default role: guest\");","        });","    });","};",""],"l":{"1":1,"2":1,"4":1,"5":1,"6":1,"8":1,"9":1,"18":1,"20":1,"21":0,"22":0,"23":0,"24":0,"26":0,"29":0,"31":0,"33":1,"34":0,"35":0,"36":0,"38":1,"39":0,"41":0,"42":0,"44":0,"47":0,"48":0,"49":0,"50":0,"52":0,"53":0,"55":0,"56":0,"57":0,"59":0,"60":0,"61":0,"62":0,"64":0,"65":0,"66":0,"67":0,"71":1,"72":0,"73":0,"75":1,"76":0,"77":0,"78":0,"79":0,"80":0,"82":0,"87":1,"88":0,"89":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"98":0,"101":1,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"113":0,"116":1,"117":0,"118":0,"119":0,"122":0,"123":0,"124":0,"125":0,"126":0,"128":0,"130":1,"131":0,"132":0,"134":1,"135":0,"136":0,"138":1,"139":0,"141":1,"143":0,"144":0,"145":0,"147":0,"148":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"171":0,"173":0,"174":0,"175":0,"176":0,"180":0,"181":0,"182":0,"183":0,"185":0,"188":1,"191":0,"193":0,"194":0,"195":0,"196":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"206":0,"209":1,"210":0,"213":1,"214":0,"217":1,"218":0,"223":0,"224":0,"225":0,"228":0,"232":1,"233":0,"234":0,"235":0,"236":0,"240":0,"241":0,"244":0,"245":0,"246":0,"250":0,"251":0,"255":0,"256":0,"257":0,"261":0,"262":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-mongoose.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-mongoose.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":1,"58":0,"59":0,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":1,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":1,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":1,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":1,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0,0,0,0,0],"16":[0,0],"17":[0,0],"18":[0,0,0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0,0],"28":[0,0],"29":[0,0],"30":[0,0,0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0,0],"39":[0,0],"40":[0,0],"41":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0},"fnMap":{"1":{"name":"formatError","line":18,"loc":{"start":{"line":18,"column":0},"end":{"line":18,"column":38}}},"2":{"name":"(anonymous_2)","line":26,"loc":{"start":{"line":26,"column":36},"end":{"line":26,"column":49}}},"3":{"name":"decorateMongooseSchema","line":36,"loc":{"start":{"line":36,"column":0},"end":{"line":36,"column":53}}},"4":{"name":"(anonymous_4)","line":44,"loc":{"start":{"line":44,"column":39},"end":{"line":44,"column":50}}},"5":{"name":"remote","line":47,"loc":{"start":{"line":47,"column":31},"end":{"line":47,"column":48}}},"6":{"name":"(anonymous_6)","line":52,"loc":{"start":{"line":52,"column":37},"end":{"line":52,"column":48}}},"7":{"name":"remote","line":55,"loc":{"start":{"line":55,"column":31},"end":{"line":55,"column":48}}},"8":{"name":"(anonymous_8)","line":58,"loc":{"start":{"line":58,"column":52},"end":{"line":58,"column":66}}},"9":{"name":"filtPaths","line":73,"loc":{"start":{"line":73,"column":0},"end":{"line":73,"column":26}}},"10":{"name":"(anonymous_10)","line":74,"loc":{"start":{"line":74,"column":29},"end":{"line":74,"column":43}}},"11":{"name":"logger","line":85,"loc":{"start":{"line":85,"column":0},"end":{"line":85,"column":17}}},"12":{"name":"postResolveTarget","line":89,"loc":{"start":{"line":89,"column":0},"end":{"line":89,"column":44}}},"13":{"name":"mongoCallback","line":96,"loc":{"start":{"line":96,"column":31},"end":{"line":96,"column":76}}},"14":{"name":"(anonymous_14)","line":103,"loc":{"start":{"line":103,"column":41},"end":{"line":103,"column":55}}},"15":{"name":"postInvoke","line":121,"loc":{"start":{"line":121,"column":0},"end":{"line":121,"column":38}}},"16":{"name":"(anonymous_16)","line":126,"loc":{"start":{"line":126,"column":21},"end":{"line":126,"column":39}}},"17":{"name":"checkForModelError","line":134,"loc":{"start":{"line":134,"column":4},"end":{"line":134,"column":40}}},"18":{"name":"(anonymous_18)","line":141,"loc":{"start":{"line":141,"column":37},"end":{"line":141,"column":56}}},"19":{"name":"waitForModelError","line":150,"loc":{"start":{"line":150,"column":21},"end":{"line":150,"column":49}}},"20":{"name":"postPack","line":162,"loc":{"start":{"line":162,"column":0},"end":{"line":162,"column":35}}},"21":{"name":"getValueType","line":170,"loc":{"start":{"line":170,"column":0},"end":{"line":170,"column":26}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":45}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"4":{"start":{"line":4,"column":0},"end":{"line":4,"column":99}},"5":{"start":{"line":5,"column":0},"end":{"line":5,"column":50}},"6":{"start":{"line":7,"column":0},"end":{"line":7,"column":29}},"7":{"start":{"line":9,"column":0},"end":{"line":15,"column":2}},"8":{"start":{"line":16,"column":0},"end":{"line":16,"column":64}},"9":{"start":{"line":18,"column":0},"end":{"line":34,"column":1}},"10":{"start":{"line":19,"column":4},"end":{"line":19,"column":41}},"11":{"start":{"line":20,"column":4},"end":{"line":20,"column":42}},"12":{"start":{"line":22,"column":4},"end":{"line":22,"column":53}},"13":{"start":{"line":23,"column":4},"end":{"line":32,"column":5}},"14":{"start":{"line":25,"column":8},"end":{"line":25,"column":21}},"15":{"start":{"line":26,"column":8},"end":{"line":30,"column":11}},"16":{"start":{"line":27,"column":12},"end":{"line":27,"column":37}},"17":{"start":{"line":28,"column":12},"end":{"line":28,"column":38}},"18":{"start":{"line":29,"column":12},"end":{"line":29,"column":27}},"19":{"start":{"line":31,"column":8},"end":{"line":31,"column":25}},"20":{"start":{"line":33,"column":4},"end":{"line":33,"column":11}},"21":{"start":{"line":36,"column":0},"end":{"line":72,"column":1}},"22":{"start":{"line":37,"column":4},"end":{"line":37,"column":43}},"23":{"start":{"line":38,"column":4},"end":{"line":38,"column":52}},"24":{"start":{"line":38,"column":45},"end":{"line":38,"column":52}},"25":{"start":{"line":39,"column":4},"end":{"line":39,"column":60}},"26":{"start":{"line":41,"column":4},"end":{"line":41,"column":44}},"27":{"start":{"line":43,"column":4},"end":{"line":43,"column":49}},"28":{"start":{"line":44,"column":4},"end":{"line":48,"column":7}},"29":{"start":{"line":45,"column":8},"end":{"line":45,"column":34}},"30":{"start":{"line":46,"column":8},"end":{"line":47,"column":51}},"31":{"start":{"line":47,"column":12},"end":{"line":47,"column":51}},"32":{"start":{"line":51,"column":4},"end":{"line":51,"column":172}},"33":{"start":{"line":52,"column":4},"end":{"line":56,"column":7}},"34":{"start":{"line":53,"column":8},"end":{"line":53,"column":34}},"35":{"start":{"line":54,"column":8},"end":{"line":55,"column":51}},"36":{"start":{"line":55,"column":12},"end":{"line":55,"column":51}},"37":{"start":{"line":58,"column":4},"end":{"line":69,"column":7}},"38":{"start":{"line":59,"column":8},"end":{"line":59,"column":25}},"39":{"start":{"line":59,"column":18},"end":{"line":59,"column":25}},"40":{"start":{"line":60,"column":8},"end":{"line":65,"column":43}},"41":{"start":{"line":61,"column":12},"end":{"line":61,"column":39}},"42":{"start":{"line":62,"column":12},"end":{"line":62,"column":57}},"43":{"start":{"line":64,"column":13},"end":{"line":65,"column":43}},"44":{"start":{"line":65,"column":12},"end":{"line":65,"column":43}},"45":{"start":{"line":66,"column":8},"end":{"line":66,"column":65}},"46":{"start":{"line":66,"column":35},"end":{"line":66,"column":65}},"47":{"start":{"line":67,"column":8},"end":{"line":67,"column":57}},"48":{"start":{"line":67,"column":31},"end":{"line":67,"column":57}},"49":{"start":{"line":68,"column":8},"end":{"line":68,"column":51}},"50":{"start":{"line":68,"column":28},"end":{"line":68,"column":51}},"51":{"start":{"line":70,"column":4},"end":{"line":70,"column":61}},"52":{"start":{"line":73,"column":0},"end":{"line":83,"column":1}},"53":{"start":{"line":74,"column":4},"end":{"line":82,"column":6}},"54":{"start":{"line":75,"column":8},"end":{"line":81,"column":9}},"55":{"start":{"line":78,"column":12},"end":{"line":80,"column":13}},"56":{"start":{"line":79,"column":16},"end":{"line":79,"column":30}},"57":{"start":{"line":85,"column":0},"end":{"line":87,"column":1}},"58":{"start":{"line":86,"column":4},"end":{"line":86,"column":46}},"59":{"start":{"line":86,"column":47},"end":{"line":86,"column":61}},"60":{"start":{"line":89,"column":0},"end":{"line":119,"column":1}},"61":{"start":{"line":90,"column":4},"end":{"line":90,"column":116}},"62":{"start":{"line":90,"column":102},"end":{"line":90,"column":116}},"63":{"start":{"line":91,"column":4},"end":{"line":91,"column":60}},"64":{"start":{"line":93,"column":4},"end":{"line":93,"column":38}},"65":{"start":{"line":94,"column":4},"end":{"line":94,"column":78}},"66":{"start":{"line":95,"column":4},"end":{"line":95,"column":54}},"67":{"start":{"line":96,"column":4},"end":{"line":118,"column":7}},"68":{"start":{"line":97,"column":7},"end":{"line":100,"column":8}},"69":{"start":{"line":98,"column":11},"end":{"line":98,"column":61}},"70":{"start":{"line":99,"column":11},"end":{"line":99,"column":28}},"71":{"start":{"line":101,"column":7},"end":{"line":101,"column":56}},"72":{"start":{"line":102,"column":7},"end":{"line":102,"column":38}},"73":{"start":{"line":103,"column":7},"end":{"line":115,"column":10}},"74":{"start":{"line":104,"column":11},"end":{"line":104,"column":39}},"75":{"start":{"line":104,"column":32},"end":{"line":104,"column":39}},"76":{"start":{"line":107,"column":11},"end":{"line":107,"column":39}},"77":{"start":{"line":107,"column":32},"end":{"line":107,"column":39}},"78":{"start":{"line":108,"column":11},"end":{"line":108,"column":66}},"79":{"start":{"line":109,"column":11},"end":{"line":109,"column":63}},"80":{"start":{"line":110,"column":11},"end":{"line":114,"column":12}},"81":{"start":{"line":111,"column":16},"end":{"line":111,"column":54}},"82":{"start":{"line":111,"column":40},"end":{"line":111,"column":54}},"83":{"start":{"line":112,"column":16},"end":{"line":112,"column":50}},"84":{"start":{"line":113,"column":16},"end":{"line":113,"column":129}},"85":{"start":{"line":116,"column":7},"end":{"line":116,"column":44}},"86":{"start":{"line":117,"column":7},"end":{"line":117,"column":14}},"87":{"start":{"line":121,"column":0},"end":{"line":160,"column":1}},"88":{"start":{"line":122,"column":4},"end":{"line":122,"column":35}},"89":{"start":{"line":124,"column":4},"end":{"line":132,"column":5}},"90":{"start":{"line":125,"column":8},"end":{"line":125,"column":99}},"91":{"start":{"line":126,"column":8},"end":{"line":130,"column":11}},"92":{"start":{"line":127,"column":12},"end":{"line":127,"column":37}},"93":{"start":{"line":127,"column":20},"end":{"line":127,"column":37}},"94":{"start":{"line":128,"column":12},"end":{"line":128,"column":36}},"95":{"start":{"line":129,"column":12},"end":{"line":129,"column":19}},"96":{"start":{"line":131,"column":8},"end":{"line":131,"column":15}},"97":{"start":{"line":134,"column":4},"end":{"line":148,"column":5}},"98":{"start":{"line":135,"column":8},"end":{"line":135,"column":66}},"99":{"start":{"line":136,"column":8},"end":{"line":136,"column":74}},"100":{"start":{"line":137,"column":8},"end":{"line":147,"column":9}},"101":{"start":{"line":140,"column":12},"end":{"line":140,"column":25}},"102":{"start":{"line":141,"column":12},"end":{"line":144,"column":14}},"103":{"start":{"line":142,"column":16},"end":{"line":142,"column":42}},"104":{"start":{"line":143,"column":16},"end":{"line":143,"column":44}},"105":{"start":{"line":145,"column":12},"end":{"line":145,"column":40}},"106":{"start":{"line":146,"column":12},"end":{"line":146,"column":23}},"107":{"start":{"line":150,"column":4},"end":{"line":158,"column":7}},"108":{"start":{"line":152,"column":8},"end":{"line":152,"column":44}},"109":{"start":{"line":153,"column":8},"end":{"line":156,"column":9}},"110":{"start":{"line":154,"column":12},"end":{"line":154,"column":55}},"111":{"start":{"line":155,"column":12},"end":{"line":155,"column":28}},"112":{"start":{"line":157,"column":8},"end":{"line":157,"column":15}},"113":{"start":{"line":162,"column":0},"end":{"line":168,"column":1}},"114":{"start":{"line":164,"column":4},"end":{"line":164,"column":43}},"115":{"start":{"line":164,"column":29},"end":{"line":164,"column":43}},"116":{"start":{"line":165,"column":4},"end":{"line":165,"column":49}},"117":{"start":{"line":166,"column":4},"end":{"line":166,"column":47}},"118":{"start":{"line":166,"column":13},"end":{"line":166,"column":47}},"119":{"start":{"line":167,"column":4},"end":{"line":167,"column":11}},"120":{"start":{"line":170,"column":0},"end":{"line":176,"column":1}},"121":{"start":{"line":171,"column":4},"end":{"line":171,"column":78}},"122":{"start":{"line":171,"column":63},"end":{"line":171,"column":78}},"123":{"start":{"line":172,"column":4},"end":{"line":174,"column":5}},"124":{"start":{"line":173,"column":8},"end":{"line":173,"column":74}},"125":{"start":{"line":173,"column":58},"end":{"line":173,"column":74}},"126":{"start":{"line":175,"column":4},"end":{"line":175,"column":16}}},"branchMap":{"1":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":23,"column":4}},{"start":{"line":23,"column":4},"end":{"line":23,"column":4}}]},"2":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":4},"end":{"line":38,"column":4}},{"start":{"line":38,"column":4},"end":{"line":38,"column":4}}]},"3":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":7},"end":{"line":38,"column":20}},{"start":{"line":38,"column":24},"end":{"line":38,"column":43}}]},"4":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":8},"end":{"line":46,"column":8}},{"start":{"line":46,"column":8},"end":{"line":46,"column":8}}]},"5":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":8},"end":{"line":54,"column":8}},{"start":{"line":54,"column":8},"end":{"line":54,"column":8}}]},"6":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":8},"end":{"line":59,"column":8}},{"start":{"line":59,"column":8},"end":{"line":59,"column":8}}]},"7":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":8},"end":{"line":60,"column":8}},{"start":{"line":60,"column":8},"end":{"line":60,"column":8}}]},"8":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":11},"end":{"line":60,"column":23}},{"start":{"line":60,"column":27},"end":{"line":60,"column":67}}]},"9":{"line":62,"type":"binary-expr","locations":[{"start":{"line":62,"column":32},"end":{"line":62,"column":39}},{"start":{"line":62,"column":43},"end":{"line":62,"column":56}}]},"10":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":13},"end":{"line":64,"column":13}},{"start":{"line":64,"column":13},"end":{"line":64,"column":13}}]},"11":{"line":66,"type":"if","locations":[{"start":{"line":66,"column":8},"end":{"line":66,"column":8}},{"start":{"line":66,"column":8},"end":{"line":66,"column":8}}]},"12":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":8},"end":{"line":67,"column":8}},{"start":{"line":67,"column":8},"end":{"line":67,"column":8}}]},"13":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":68,"column":8}},{"start":{"line":68,"column":8},"end":{"line":68,"column":8}}]},"14":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":8}},{"start":{"line":75,"column":8},"end":{"line":75,"column":8}}]},"15":{"line":75,"type":"binary-expr","locations":[{"start":{"line":75,"column":12},"end":{"line":75,"column":23}},{"start":{"line":75,"column":25},"end":{"line":75,"column":43}},{"start":{"line":75,"column":45},"end":{"line":75,"column":76}},{"start":{"line":76,"column":19},"end":{"line":76,"column":30}},{"start":{"line":76,"column":34},"end":{"line":76,"column":52}},{"start":{"line":76,"column":56},"end":{"line":76,"column":83}}]},"16":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":12},"end":{"line":78,"column":12}},{"start":{"line":78,"column":12},"end":{"line":78,"column":12}}]},"17":{"line":90,"type":"if","locations":[{"start":{"line":90,"column":4},"end":{"line":90,"column":4}},{"start":{"line":90,"column":4},"end":{"line":90,"column":4}}]},"18":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":7},"end":{"line":90,"column":25}},{"start":{"line":90,"column":29},"end":{"line":90,"column":46}},{"start":{"line":90,"column":50},"end":{"line":90,"column":71}},{"start":{"line":90,"column":75},"end":{"line":90,"column":99}}]},"19":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":7},"end":{"line":97,"column":7}},{"start":{"line":97,"column":7},"end":{"line":97,"column":7}}]},"20":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":10},"end":{"line":97,"column":13}},{"start":{"line":97,"column":17},"end":{"line":97,"column":34}}]},"21":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":11},"end":{"line":104,"column":11}},{"start":{"line":104,"column":11},"end":{"line":104,"column":11}}]},"22":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":11},"end":{"line":107,"column":11}},{"start":{"line":107,"column":11},"end":{"line":107,"column":11}}]},"23":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":11},"end":{"line":110,"column":11}},{"start":{"line":110,"column":11},"end":{"line":110,"column":11}}]},"24":{"line":110,"type":"binary-expr","locations":[{"start":{"line":110,"column":14},"end":{"line":110,"column":40}},{"start":{"line":110,"column":45},"end":{"line":110,"column":66}}]},"25":{"line":111,"type":"if","locations":[{"start":{"line":111,"column":16},"end":{"line":111,"column":16}},{"start":{"line":111,"column":16},"end":{"line":111,"column":16}}]},"26":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":4},"end":{"line":124,"column":4}},{"start":{"line":124,"column":4},"end":{"line":124,"column":4}}]},"27":{"line":124,"type":"binary-expr","locations":[{"start":{"line":124,"column":7},"end":{"line":124,"column":13}},{"start":{"line":124,"column":17},"end":{"line":124,"column":28}},{"start":{"line":124,"column":33},"end":{"line":124,"column":78}}]},"28":{"line":127,"type":"if","locations":[{"start":{"line":127,"column":12},"end":{"line":127,"column":12}},{"start":{"line":127,"column":12},"end":{"line":127,"column":12}}]},"29":{"line":135,"type":"cond-expr","locations":[{"start":{"line":135,"column":41},"end":{"line":135,"column":45}},{"start":{"line":135,"column":48},"end":{"line":135,"column":65}}]},"30":{"line":136,"type":"binary-expr","locations":[{"start":{"line":136,"column":20},"end":{"line":136,"column":26}},{"start":{"line":136,"column":30},"end":{"line":136,"column":43}},{"start":{"line":136,"column":49},"end":{"line":136,"column":55}},{"start":{"line":136,"column":59},"end":{"line":136,"column":72}}]},"31":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":8},"end":{"line":137,"column":8}},{"start":{"line":137,"column":8},"end":{"line":137,"column":8}}]},"32":{"line":142,"type":"cond-expr","locations":[{"start":{"line":142,"column":34},"end":{"line":142,"column":38}},{"start":{"line":142,"column":39},"end":{"line":142,"column":41}}]},"33":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":18},"end":{"line":145,"column":21}},{"start":{"line":145,"column":25},"end":{"line":145,"column":39}}]},"34":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":8},"end":{"line":153,"column":8}},{"start":{"line":153,"column":8},"end":{"line":153,"column":8}}]},"35":{"line":164,"type":"if","locations":[{"start":{"line":164,"column":4},"end":{"line":164,"column":4}},{"start":{"line":164,"column":4},"end":{"line":164,"column":4}}]},"36":{"line":166,"type":"if","locations":[{"start":{"line":166,"column":4},"end":{"line":166,"column":4}},{"start":{"line":166,"column":4},"end":{"line":166,"column":4}}]},"37":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":4},"end":{"line":171,"column":4}},{"start":{"line":171,"column":4},"end":{"line":171,"column":4}}]},"38":{"line":171,"type":"binary-expr","locations":[{"start":{"line":171,"column":8},"end":{"line":171,"column":18}},{"start":{"line":171,"column":22},"end":{"line":171,"column":38}},{"start":{"line":171,"column":42},"end":{"line":171,"column":60}}]},"39":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":4},"end":{"line":172,"column":4}},{"start":{"line":172,"column":4},"end":{"line":172,"column":4}}]},"40":{"line":173,"type":"if","locations":[{"start":{"line":173,"column":8},"end":{"line":173,"column":8}},{"start":{"line":173,"column":8},"end":{"line":173,"column":8}}]},"41":{"line":173,"type":"binary-expr","locations":[{"start":{"line":173,"column":11},"end":{"line":173,"column":21}},{"start":{"line":173,"column":25},"end":{"line":173,"column":56}}]}},"code":["var angoose = require(\"../lib/angoose\");","var toolbox = require(\"../lib/util/toolbox\");","var EXTENSION = 'angoose-mongoose';","var path= require(\"path\"),traverse = require(\"traverse\"),hooks= require(\"hooks\"), Q = require(\"q\");","var fs = require(\"fs\"),  _ =require(\"underscore\");","","toolbox.patchMongoCallback();","","var plugin = {","    postResolveTarget: postResolveTarget,","    postInvoke: postInvoke,","    postPack: postPack,","    postExportModule: decorateMongooseSchema,","    afterFormatError: formatError","};","module.exports = angoose.extension('MongooseExtension', plugin);","","function formatError(next, invocation){","    var ex = invocation.packed.exception;","    console.log(\"Intercepting error\", ex);","    // check if it's mongoose's model error","    var errors = toolbox.getter(ex , 'cause.errors');","    if( errors){","        // format model error","        var msg = '';","        Object.keys(errors).forEach(function(key){","            var errobj = errors[key];","            var m = errobj.message+\"\";","            msg = msg+m+\" \" ","        });","        ex.message = msg;","    }","    next();","};","","function decorateMongooseSchema(  client, moduleName){","    var model = angoose.module(moduleName);","    if(!model.schema || !model.schema.paths) return;","    logger().trace(\"Decorating mongoose model\", moduleName);","    ","    var schema = client.schemas[moduleName];","    // automatically publish these instance methods","    var instanceMethods = \"save,remove,populate\";","    instanceMethods.split(\",\").forEach(function(m){","        m = m.replace(/\\s+/g, '');","        if(!schema.methods[m]) ","            schema.methods[m]= function remote(){};     ","    });","    ","    // automatically publish these static methods","    var staticMethods = \"populate,find,findOne,findById,findByIdAndRemove,findByIdAndUpdate,findOneAndRemove,findOneAndUpdate,update,remove,count,geoNear,geoSearch,create\";","    staticMethods.split(\",\").forEach(function(m){","        m = m.replace(/\\s+/g, '');","        if(!schema.statics[m])","            schema.statics[m]= function remote(){};     ","    });","    ","    schema.paths = traverse(model.schema.paths).map(function(item){","        if(!item) return;","        if(item.options && typeof(item.options.type) === 'function' ){","            var fn = item.options.type;","            item.options.type = fn.name || fn.toString();                ","        }","        else if(typeof(item) == 'function')","            this.update( 'not-supported' );","        if(item.requiredValidator) delete item.requiredValidator;","        if(item.enumValidator) delete item.enumValidator;","        if(item.validators) delete item.validators; /**@todo validators are not supported yet*/","    }); ","    schema.options = traverse( model.schema.options).clone();","//    filtPaths(schema);","}","function filtPaths(schema){","    traverse(schema).forEach(function(item){","        if((this.parent&&this.parent.parent&&this.parent.parent.key=='paths')","                ||(this.parent&& (this.parent.isRoot || this.parent.key == 'schema')))","        {","            if(_.indexOf(['moduleName','methods','statics','paths','enumValues','isRequired','schema','caster','path','options','instance'],this.key)<0){","                this.remove();","            }","        }","    })","}","","function logger(){","    var logger = angoose.getLogger('angoose'); return logger;","}","","function postResolveTarget(next, invocation){","    if(!invocation.target || invocation.static || ! invocation.instance || !invocation.instance._id ) return next();","    logger().debug(\"postResolveTarget for mongoose models\");","        ","    var _id = invocation.instance._id;","    logger().trace(\"Loading pristine instance as base\",invocation.clazz, _id);","    var modelClass = angoose.module(invocation.clazz);","    modelClass.findById(_id,   function mongoCallback(err, pristineInstance){","       if(err || !pristineInstance){","           logger().error(\"Failed to load model by id\", _id);","           return next(err);","       }","       var pristineObject = pristineInstance.toObject();","       var schema = modelClass.schema;","       Object.keys(schema.paths).forEach(function(path){","           if (/^_/.test(path)) return;","           //var pathSchema = schema.paths[path];","           //var ref = schemaUtil.getReference(pathSchema);","           if (/^_/.test(path)) return;","           var newVal = toolbox.getter(invocation.instance, path);","           var oldVal  =  toolbox.getter(pristineObject, path); ","           if(!_.isEqual(oldVal, newVal) &&  newVal !==  undefined ){ /**@todo: empty value from client side doesn't mean set to empty, need to implement the $dirty, modified' */","                if(newVal == '$CLEAR$') newVal = null;","                pristineInstance.set(path,newVal);","                logger().trace(\"seting\", path, \": \",oldVal, \" --> \", newVal, \" NOW dirty? \",  pristineInstance.isModified(path));","           }","       });","       invocation.target = pristineInstance;","       next();","    });","}","","function postInvoke (next, invocation){","    var result = invocation.result;","    ","    if(result && result.exec && (result instanceof angoose.getMongoose().Query) ){ // mongoose promise","        logger().debug(\"Return is mongoose query, call exec(). Conditions: \", result._conditions );","        result.exec( function(err, ret){","            if(err) return next(err);","            invocation.result = ret;","            next();    ","        });","        return;","    }","    ","    function checkForModelError(result ){","        var target = invocation.static ? null : invocation.target;","        var err = ( target && target.errors) || (result && result.errors);","        if(err)","        {","            // temp error handling","            var msg = ''; ","            Object.keys(err).forEach(function (errItem) {","                msg += ex.message?\"; \":\"\";","                msg += err[errItem].message; ","            })","            msg = msg || err.toString();","            return msg; ","        }","    }","    ","    process.nextTick(function waitForModelError(){","        /** the model error is emitted in next tick */","        var ex = checkForModelError(result);","        if(ex){","            logger().debug(\"Detected model error\", ex);","            return next(ex);","        } ","        next();  ","    });","      ","}; /**  end invoke */","","function postPack(next, invocation){","    //console.log(\"In mongoose post pack\", invocation)","    if(!invocation.redacted) return next();","    var type = getValueType(invocation.redacted);","    if(type) invocation.packed.datatype = type;","    next();","}"," ","function getValueType(obj){","    if( obj.schema && obj.schema.paths && obj.schema.methods ) return 'model';","    if(Array.isArray( obj )){","        if(obj.length && getValueType(obj[0]) == 'model') return \"models\";","    }","    return null;","}",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":1,"7":1,"9":1,"16":1,"18":1,"19":0,"20":0,"22":0,"23":0,"25":0,"26":0,"27":0,"28":0,"29":0,"31":0,"33":0,"36":1,"37":0,"38":0,"39":0,"41":0,"43":0,"44":0,"45":0,"46":0,"47":0,"51":0,"52":0,"53":0,"54":0,"55":0,"58":0,"59":0,"60":0,"61":0,"62":0,"64":0,"65":0,"66":0,"67":0,"68":0,"70":0,"73":1,"74":0,"75":0,"78":0,"79":0,"85":1,"86":0,"89":1,"90":0,"91":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"101":0,"102":0,"103":0,"104":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"116":0,"117":0,"121":1,"122":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"131":0,"134":1,"135":0,"136":0,"137":0,"140":0,"141":0,"142":0,"143":0,"145":0,"146":0,"150":0,"152":0,"153":0,"154":0,"155":0,"157":0,"162":1,"164":0,"165":0,"166":0,"167":0,"170":1,"171":0,"172":0,"173":0,"175":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/models/SampleService.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/models/SampleService.js","s":{"1":1,"2":1,"3":1,"4":1,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":1,"22":0,"23":0,"24":1},"b":{},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":21},"end":{"line":3,"column":31}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":40},"end":{"line":4,"column":50}}},"3":{"name":"remote","line":7,"loc":{"start":{"line":7,"column":36},"end":{"line":7,"column":62}}},"4":{"name":"(anonymous_4)","line":10,"loc":{"start":{"line":10,"column":35},"end":{"line":10,"column":53}}},"5":{"name":"(anonymous_5)","line":18,"loc":{"start":{"line":18,"column":32},"end":{"line":18,"column":42}}},"6":{"name":"(anonymous_6)","line":22,"loc":{"start":{"line":22,"column":21},"end":{"line":22,"column":31}}},"7":{"name":"(anonymous_7)","line":28,"loc":{"start":{"line":28,"column":30},"end":{"line":28,"column":49}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":21}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}},"4":{"start":{"line":4,"column":0},"end":{"line":6,"column":5}},"5":{"start":{"line":5,"column":8},"end":{"line":5,"column":55}},"6":{"start":{"line":7,"column":0},"end":{"line":16,"column":1}},"7":{"start":{"line":8,"column":8},"end":{"line":8,"column":24}},"8":{"start":{"line":9,"column":8},"end":{"line":9,"column":41}},"9":{"start":{"line":10,"column":8},"end":{"line":15,"column":11}},"10":{"start":{"line":11,"column":16},"end":{"line":11,"column":44}},"11":{"start":{"line":12,"column":16},"end":{"line":12,"column":67}},"12":{"start":{"line":13,"column":16},"end":{"line":13,"column":43}},"13":{"start":{"line":14,"column":16},"end":{"line":14,"column":55}},"14":{"start":{"line":18,"column":0},"end":{"line":26,"column":1}},"15":{"start":{"line":19,"column":4},"end":{"line":19,"column":38}},"16":{"start":{"line":20,"column":4},"end":{"line":20,"column":24}},"17":{"start":{"line":21,"column":4},"end":{"line":21,"column":29}},"18":{"start":{"line":22,"column":4},"end":{"line":24,"column":6}},"19":{"start":{"line":23,"column":8},"end":{"line":23,"column":33}},"20":{"start":{"line":25,"column":4},"end":{"line":25,"column":23}},"21":{"start":{"line":28,"column":0},"end":{"line":31,"column":1}},"22":{"start":{"line":29,"column":4},"end":{"line":29,"column":40}},"23":{"start":{"line":30,"column":4},"end":{"line":30,"column":36}},"24":{"start":{"line":32,"column":0},"end":{"line":32,"column":65}}},"branchMap":{},"code":["var angoose = require(\"../lib/angoose\");","var Q = require(\"q\");","var SampleService =  function(){};","SampleService.listFavoriteDestinations= function(){","        return [\"Paris\", \"Virgin Islands\", \"Antarctic\"]","    }","SampleService.testExecutionContext= function remote($callback){","        var self = this;","        var su = require(\"./SampleUser\");","        su.findOne(angoose.bind(   function(err, res){","                var ctx = self.getContext();","                console.log(\"In testExecutionContext \"+ ctx.seqnum)","                var req = ctx.getRequest();","                $callback(false, req.params['method']);","        }))","}","// static method","SampleService.testPromiseReturn=function(){","    console.log(\"testPromiseReturn!\");","    var out = Q.defer();","    out.resolve(\"PromiseOK\");","    process.nextTick(function(){","        out.resolve(\"PromiseOK\");","    })","    return out.promise;","}","","SampleService.testErrorBack = function($callback){","    console.log(\"In testErrorCallback\");","    $callback(\"Error in testError\");","} ","module.exports = angoose.module('SampleService',  SampleService);",""],"l":{"1":1,"2":1,"3":1,"4":1,"5":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"25":0,"28":1,"29":0,"30":0,"32":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/models/SampleUserGroup.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/models/SampleUserGroup.js","s":{"1":1,"2":1,"3":1,"4":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":35}},"2":{"start":{"line":2,"column":0},"end":{"line":9,"column":2}},"3":{"start":{"line":11,"column":0},"end":{"line":11,"column":70}},"4":{"start":{"line":12,"column":0},"end":{"line":12,"column":33}}},"branchMap":{},"code":["var mongoose = require('mongoose');","var SampleSchema = mongoose.Schema({","        name:  {type: String, required: true, unique:true},","        description:  {type: String }","    },","    {","        collection:'SampleGroups'","    }",");"," ","var SampleUserGroup = mongoose.model('SampleUserGroup', SampleSchema);","module.exports = SampleUserGroup;","",""],"l":{"1":1,"2":1,"11":1,"12":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/models/SampleUser.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/models/SampleUser.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":1,"16":0,"17":0,"18":0,"19":1,"20":0,"21":0,"22":0,"23":0,"24":0,"25":1,"26":1,"27":1,"28":0,"29":0,"30":0,"31":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"portable","line":24,"loc":{"start":{"line":24,"column":34},"end":{"line":24,"column":53}}},"2":{"name":"(anonymous_2)","line":29,"loc":{"start":{"line":29,"column":34},"end":{"line":29,"column":76}}},"3":{"name":"(anonymous_3)","line":38,"loc":{"start":{"line":38,"column":33},"end":{"line":38,"column":43}}},"4":{"name":"(anonymous_4)","line":45,"loc":{"start":{"line":45,"column":35},"end":{"line":45,"column":50}}},"5":{"name":"(anonymous_5)","line":55,"loc":{"start":{"line":55,"column":36},"end":{"line":55,"column":60}}},"6":{"name":"(anonymous_6)","line":57,"loc":{"start":{"line":57,"column":25},"end":{"line":57,"column":35}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":3,"column":0},"end":{"line":16,"column":2}},"4":{"start":{"line":17,"column":0},"end":{"line":22,"column":2}},"5":{"start":{"line":24,"column":0},"end":{"line":28,"column":1}},"6":{"start":{"line":26,"column":4},"end":{"line":26,"column":37}},"7":{"start":{"line":27,"column":4},"end":{"line":27,"column":79}},"8":{"start":{"line":29,"column":0},"end":{"line":37,"column":1}},"9":{"start":{"line":31,"column":4},"end":{"line":31,"column":51}},"10":{"start":{"line":31,"column":20},"end":{"line":31,"column":51}},"11":{"start":{"line":32,"column":4},"end":{"line":32,"column":48}},"12":{"start":{"line":32,"column":18},"end":{"line":32,"column":48}},"13":{"start":{"line":35,"column":4},"end":{"line":35,"column":44}},"14":{"start":{"line":36,"column":4},"end":{"line":36,"column":41}},"15":{"start":{"line":38,"column":0},"end":{"line":44,"column":1}},"16":{"start":{"line":40,"column":4},"end":{"line":40,"column":35}},"17":{"start":{"line":41,"column":4},"end":{"line":41,"column":45}},"18":{"start":{"line":42,"column":4},"end":{"line":42,"column":20}},"19":{"start":{"line":45,"column":0},"end":{"line":51,"column":1}},"20":{"start":{"line":47,"column":4},"end":{"line":47,"column":40}},"21":{"start":{"line":48,"column":4},"end":{"line":48,"column":18}},"22":{"start":{"line":49,"column":4},"end":{"line":49,"column":54}},"23":{"start":{"line":49,"column":41},"end":{"line":49,"column":54}},"24":{"start":{"line":50,"column":4},"end":{"line":50,"column":16}},"25":{"start":{"line":52,"column":0},"end":{"line":52,"column":60}},"26":{"start":{"line":53,"column":0},"end":{"line":53,"column":28}},"27":{"start":{"line":55,"column":0},"end":{"line":63,"column":30}},"28":{"start":{"line":56,"column":4},"end":{"line":62,"column":22}},"29":{"start":{"line":57,"column":8},"end":{"line":59,"column":10}},"30":{"start":{"line":58,"column":12},"end":{"line":58,"column":26}},"31":{"start":{"line":62,"column":8},"end":{"line":62,"column":22}}},"branchMap":{"1":{"line":27,"type":"cond-expr","locations":[{"start":{"line":27,"column":30},"end":{"line":27,"column":49}},{"start":{"line":27,"column":51},"end":{"line":27,"column":53}}]},"2":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":58},"end":{"line":27,"column":71}},{"start":{"line":27,"column":75},"end":{"line":27,"column":77}}]},"3":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":4},"end":{"line":31,"column":4}},{"start":{"line":31,"column":4},"end":{"line":31,"column":4}}]},"4":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":32,"column":4}},{"start":{"line":32,"column":4},"end":{"line":32,"column":4}}]},"5":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":4},"end":{"line":49,"column":4}},{"start":{"line":49,"column":4},"end":{"line":49,"column":4}}]},"6":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":7},"end":{"line":49,"column":12}},{"start":{"line":49,"column":16},"end":{"line":49,"column":39}}]},"7":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"8":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":7},"end":{"line":56,"column":12}},{"start":{"line":56,"column":16},"end":{"line":56,"column":39}}]}},"code":["var angoose = require(\"../lib/angoose\");","var mongoose = angoose.getMongoose();","var SampleSchema = mongoose.Schema({","        email:  {type: String, required: true, match: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i, unique:true},","        firstname: {type: String, required:true },","        lastname: {type: String, required:true },","        status: {type: String, enum: ['inactive', 'active', 'disabled', 'archived'], required:true, def:'inactive' },","        password: { type:String },","        verified: Boolean,","        groupRef: {type: mongoose.Schema.Types.ObjectId, ref: 'SampeUserGroup'}","    },","    {","        collection:'SampleUsers', ","        discriminatorKey: 'type'","    }",");","var sampleUserData = { ","    firstname:'Gaelyn', ","    lastname:'Hurd',","    status:'active',","    email: 'gaelyn@hurd.com',","};","","SampleSchema.methods.getFullname= function portable(){","    //_instance_portable","    console.log(\"getFullname\", this);","    return  (this.firstname ? this.firstname +\" \": \"\") + (this.lastname || \"\");","}","SampleSchema.methods.setPassword= function(newPassword, $context, $callback){","    // instance method, reset user's password.","    if(!$callback ) throw \"$callback not injected\";","    if(!$context) throw \"$context not injected\";","    //var cryptor = require(\"crypto\"); // require node module crypto","    //this.password = cryptor.encrypt(\"salt\", newPassword);","    this.password  = newPassword +\"salt123\"; // fake code","    $callback(false, \"Password changed\");","}","SampleSchema.statics.getSample = function(){","    // this should refer to the model class","    console.log(\"get sample user\");","    var instance = new this( sampleUserData); ","    return instance;","    ","}","SampleSchema.statics.checkExists = function(email){","    //_static_remote","    console.log(\"in checkExists\",email);","    require(\"fs\");  // do a server side operation to ensure this can only be done in the server side.","    if(email && email.indexOf('new')>=0) return false;","    return true;","}","var SampleUser = mongoose.model('SampleUser', SampleSchema);","module.exports = SampleUser;","","SampleSchema.path('email').validate(function(value, respond){","    if(value && value.indexOf(\".org\")>0){","        process.nextTick(function(){","            respond(false)    ","        })","    }","    else","        respond(true);","}, \"I don't like .org emails\")",""],"l":{"1":1,"2":1,"3":1,"17":1,"24":1,"26":0,"27":0,"29":1,"31":0,"32":0,"35":0,"36":0,"38":1,"40":0,"41":0,"42":0,"45":1,"47":0,"48":0,"49":0,"50":0,"52":1,"53":1,"55":1,"56":0,"57":0,"58":0,"62":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/models/Todo.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/models/Todo.js","s":{"1":1,"2":1,"3":1,"4":1},"b":{},"f":{},"fnMap":{},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":40}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":37}},"3":{"start":{"line":3,"column":0},"end":{"line":6,"column":7}},"4":{"start":{"line":7,"column":0},"end":{"line":7,"column":52}}},"branchMap":{},"code":["var angoose = require(\"../lib/angoose\"); /** if angoose is installed as module, then require('angoose')*/","var mongoose = angoose.getMongoose();","var todoSchema = mongoose.Schema({","       title: { type: String, required: true},","       completed: Boolean","    });  ","module.exports = mongoose.model('Todo', todoSchema);",""],"l":{"1":1,"2":1,"3":1,"7":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/public/todo-angular-app.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/public/todo-angular-app.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0},"fnMap":{"1":{"name":"(anonymous_1)","line":8,"loc":{"start":{"line":8,"column":117},"end":{"line":8,"column":161}}},"2":{"name":"TodoCtrl","line":15,"loc":{"start":{"line":15,"column":31},"end":{"line":15,"column":102}}},"3":{"name":"(anonymous_3)","line":30,"loc":{"start":{"line":30,"column":32},"end":{"line":30,"column":50}}},"4":{"name":"(anonymous_4)","line":34,"loc":{"start":{"line":34,"column":45},"end":{"line":34,"column":60}}},"5":{"name":"(anonymous_5)","line":38,"loc":{"start":{"line":38,"column":25},"end":{"line":38,"column":37}}},"6":{"name":"(anonymous_6)","line":48,"loc":{"start":{"line":48,"column":26},"end":{"line":48,"column":43}}},"7":{"name":"(anonymous_7)","line":57,"loc":{"start":{"line":57,"column":26},"end":{"line":57,"column":42}}},"8":{"name":"(anonymous_8)","line":61,"loc":{"start":{"line":61,"column":29},"end":{"line":61,"column":45}}},"9":{"name":"(anonymous_9)","line":68,"loc":{"start":{"line":68,"column":26},"end":{"line":68,"column":44}}},"10":{"name":"(anonymous_10)","line":73,"loc":{"start":{"line":73,"column":28},"end":{"line":73,"column":44}}},"11":{"name":"(anonymous_11)","line":75,"loc":{"start":{"line":75,"column":28},"end":{"line":75,"column":46}}},"12":{"name":"(anonymous_12)","line":80,"loc":{"start":{"line":80,"column":31},"end":{"line":80,"column":47}}},"13":{"name":"(anonymous_13)","line":85,"loc":{"start":{"line":85,"column":37},"end":{"line":85,"column":49}}},"14":{"name":"(anonymous_14)","line":86,"loc":{"start":{"line":86,"column":39},"end":{"line":86,"column":53}}},"15":{"name":"(anonymous_15)","line":92,"loc":{"start":{"line":92,"column":25},"end":{"line":92,"column":46}}},"16":{"name":"(anonymous_16)","line":93,"loc":{"start":{"line":93,"column":30},"end":{"line":93,"column":46}}}},"statementMap":{"1":{"start":{"line":8,"column":0},"end":{"line":12,"column":4}},"2":{"start":{"line":9,"column":4},"end":{"line":9,"column":104}},"3":{"start":{"line":11,"column":5},"end":{"line":11,"column":39}},"4":{"start":{"line":15,"column":0},"end":{"line":100,"column":3}},"5":{"start":{"line":16,"column":8},"end":{"line":16,"column":49}},"6":{"start":{"line":18,"column":8},"end":{"line":18,"column":27}},"7":{"start":{"line":20,"column":8},"end":{"line":20,"column":28}},"8":{"start":{"line":21,"column":8},"end":{"line":21,"column":79}},"9":{"start":{"line":22,"column":8},"end":{"line":22,"column":33}},"10":{"start":{"line":24,"column":8},"end":{"line":26,"column":9}},"11":{"start":{"line":25,"column":16},"end":{"line":25,"column":36}},"12":{"start":{"line":28,"column":8},"end":{"line":28,"column":36}},"13":{"start":{"line":30,"column":8},"end":{"line":32,"column":11}},"14":{"start":{"line":31,"column":16},"end":{"line":31,"column":111}},"15":{"start":{"line":34,"column":8},"end":{"line":36,"column":11}},"16":{"start":{"line":35,"column":16},"end":{"line":35,"column":40}},"17":{"start":{"line":38,"column":8},"end":{"line":55,"column":10}},"18":{"start":{"line":39,"column":16},"end":{"line":39,"column":52}},"19":{"start":{"line":40,"column":16},"end":{"line":42,"column":17}},"20":{"start":{"line":41,"column":24},"end":{"line":41,"column":31}},"21":{"start":{"line":44,"column":16},"end":{"line":47,"column":19}},"22":{"start":{"line":48,"column":16},"end":{"line":54,"column":19}},"23":{"start":{"line":49,"column":20},"end":{"line":49,"column":46}},"24":{"start":{"line":49,"column":28},"end":{"line":49,"column":46}},"25":{"start":{"line":51,"column":20},"end":{"line":51,"column":37}},"26":{"start":{"line":52,"column":20},"end":{"line":52,"column":40}},"27":{"start":{"line":53,"column":20},"end":{"line":53,"column":44}},"28":{"start":{"line":57,"column":8},"end":{"line":59,"column":10}},"29":{"start":{"line":58,"column":16},"end":{"line":58,"column":41}},"30":{"start":{"line":61,"column":8},"end":{"line":71,"column":10}},"31":{"start":{"line":62,"column":16},"end":{"line":62,"column":41}},"32":{"start":{"line":63,"column":16},"end":{"line":63,"column":47}},"33":{"start":{"line":65,"column":16},"end":{"line":67,"column":17}},"34":{"start":{"line":66,"column":24},"end":{"line":66,"column":48}},"35":{"start":{"line":68,"column":16},"end":{"line":70,"column":18}},"36":{"start":{"line":69,"column":20},"end":{"line":69,"column":39}},"37":{"start":{"line":69,"column":28},"end":{"line":69,"column":39}},"38":{"start":{"line":73,"column":8},"end":{"line":78,"column":10}},"39":{"start":{"line":74,"column":16},"end":{"line":74,"column":64}},"40":{"start":{"line":75,"column":16},"end":{"line":77,"column":19}},"41":{"start":{"line":76,"column":20},"end":{"line":76,"column":57}},"42":{"start":{"line":80,"column":8},"end":{"line":83,"column":10}},"43":{"start":{"line":81,"column":16},"end":{"line":81,"column":65}},"44":{"start":{"line":82,"column":16},"end":{"line":82,"column":28}},"45":{"start":{"line":85,"column":8},"end":{"line":90,"column":10}},"46":{"start":{"line":86,"column":16},"end":{"line":89,"column":19}},"47":{"start":{"line":87,"column":20},"end":{"line":88,"column":38}},"48":{"start":{"line":88,"column":24},"end":{"line":88,"column":38}},"49":{"start":{"line":92,"column":8},"end":{"line":99,"column":10}},"50":{"start":{"line":93,"column":16},"end":{"line":96,"column":19}},"51":{"start":{"line":94,"column":24},"end":{"line":94,"column":52}},"52":{"start":{"line":95,"column":24},"end":{"line":95,"column":36}},"53":{"start":{"line":97,"column":16},"end":{"line":97,"column":69}}},"branchMap":{"1":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":8}},{"start":{"line":24,"column":8},"end":{"line":24,"column":8}}]},"2":{"line":40,"type":"if","locations":[{"start":{"line":40,"column":16},"end":{"line":40,"column":16}},{"start":{"line":40,"column":16},"end":{"line":40,"column":16}}]},"3":{"line":49,"type":"if","locations":[{"start":{"line":49,"column":20},"end":{"line":49,"column":20}},{"start":{"line":49,"column":20},"end":{"line":49,"column":20}}]},"4":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":16},"end":{"line":65,"column":16}},{"start":{"line":65,"column":16},"end":{"line":65,"column":16}}]},"5":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":20},"end":{"line":69,"column":20}},{"start":{"line":69,"column":20},"end":{"line":69,"column":20}}]},"6":{"line":74,"type":"cond-expr","locations":[{"start":{"line":74,"column":58},"end":{"line":74,"column":59}},{"start":{"line":74,"column":62},"end":{"line":74,"column":63}}]},"7":{"line":81,"type":"cond-expr","locations":[{"start":{"line":81,"column":58},"end":{"line":81,"column":60}},{"start":{"line":81,"column":63},"end":{"line":81,"column":64}}]},"8":{"line":87,"type":"if","locations":[{"start":{"line":87,"column":20},"end":{"line":87,"column":20}},{"start":{"line":87,"column":20},"end":{"line":87,"column":20}}]},"9":{"line":97,"type":"cond-expr","locations":[{"start":{"line":97,"column":52},"end":{"line":97,"column":53}},{"start":{"line":97,"column":56},"end":{"line":97,"column":68}}]}},"code":["'use strict';","","/**"," * The main TodoMVC app module"," *"," * @type {angular.Module}"," */","var todomvc = angular.module('todomvc', ['ngRoute', 'angoose.client']).config(['$routeProvider','$locationProvider', function($routeProvider, $locationProvider) {","    $routeProvider.when('/:selectedStatus?', {templateUrl:'todomvc-index.html', controller: 'TodoCtrl'})","    ","     $locationProvider.html5Mode(true);","}]);","","/** controller */","todomvc.controller('TodoCtrl', function TodoCtrl($scope, $location, Todo, filterFilter, $routeParams) {","        var todos = $scope.todos = Todo.$query();","    ","        $scope.status = '';","    ","        $scope.newTodo = '';","        $scope.remainingCount = filterFilter(todos, {completed: false}).length;","        $scope.editedTodo = null;","","        if ($location.path() === '') {","                $location.path('/');","        }","","        $scope.location = $location;","","        $scope.$watch('status', function (status) {","                $scope.statusFilter = { 'active': {completed: false}, 'completed': {completed: true} }[status];","        });","","        $scope.$watch('remainingCount == 0', function (val) {","                $scope.allChecked = val;","        });","","        $scope.addTodo = function () {","                var newTodo = $scope.newTodo.trim();","                if (newTodo.length === 0) {","                        return;","                }","","                var todo = new Todo({","                        title: newTodo,","                        completed: false","                });","                todo.save(function(err,res){","                    if(err) return alert(err);","                    ","                    todos.push(todo);","                    $scope.newTodo = '';","                    $scope.remainingCount++;    ","                });","        };","","        $scope.editTodo = function (todo) {","                $scope.editedTodo = todo;","        };","","        $scope.doneEditing = function (todo) {","                $scope.editedTodo = null;","                todo.title = todo.title.trim();","","                if (!todo.title) {","                        $scope.removeTodo(todo);","                }","                todo.save(function(err, res){","                    if(err) alert(err);  ","                })","        };","","        $scope.removeTodo = function (todo) {","                $scope.remainingCount -= todo.completed ? 0 : 1;","                todo.remove(function(err, res){","                    todos.splice(todos.indexOf(todo), 1);    ","                });","        };","","        $scope.todoCompleted = function (todo) {","                $scope.remainingCount += todo.completed ? -1 : 1;","                todo.save();","        };","","        $scope.clearCompletedTodos = function () {","                angular.forEach(todos, function(todo){","                    if(todo.completed)  ","                        todo.remove();","                });","        };","","        $scope.markAll = function (completed) {","                todos.forEach(function (todo) {","                        todo.completed = !completed;","                        todo.save();","                });","                $scope.remainingCount = completed ? 0 : todos.length;","                //todoStorage.put(todos);","        };","});",""],"l":{"8":2,"9":0,"11":0,"15":0,"16":0,"18":0,"20":0,"21":0,"22":0,"24":0,"25":0,"28":0,"30":0,"31":0,"34":0,"35":0,"38":0,"39":0,"40":0,"41":0,"44":0,"48":0,"49":0,"51":0,"52":0,"53":0,"57":0,"58":0,"61":0,"62":0,"63":0,"65":0,"66":0,"68":0,"69":0,"73":0,"74":0,"75":0,"76":0,"80":0,"81":0,"82":0,"85":0,"86":0,"87":0,"88":0,"92":0,"93":0,"94":0,"95":0,"97":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/angular-modules.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/angular-modules.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":1,"10":0,"11":0,"12":0},"b":{"1":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":49},"end":{"line":17,"column":59}}},"2":{"name":"noop","line":18,"loc":{"start":{"line":18,"column":4},"end":{"line":18,"column":25}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":61}},"2":{"start":{"line":2,"column":0},"end":{"line":8,"column":25}},"3":{"start":{"line":10,"column":0},"end":{"line":10,"column":42}},"4":{"start":{"line":11,"column":0},"end":{"line":11,"column":65}},"5":{"start":{"line":12,"column":0},"end":{"line":12,"column":66}},"6":{"start":{"line":13,"column":0},"end":{"line":13,"column":62}},"7":{"start":{"line":14,"column":0},"end":{"line":14,"column":64}},"8":{"start":{"line":17,"column":0},"end":{"line":22,"column":3}},"9":{"start":{"line":18,"column":4},"end":{"line":18,"column":76}},"10":{"start":{"line":18,"column":26},"end":{"line":18,"column":63}},"11":{"start":{"line":18,"column":64},"end":{"line":18,"column":75}},"12":{"start":{"line":19,"column":4},"end":{"line":21,"column":5}}},"branchMap":{"1":{"line":18,"type":"binary-expr","locations":[{"start":{"line":18,"column":64},"end":{"line":18,"column":66}},{"start":{"line":18,"column":70},"end":{"line":18,"column":74}}]}},"code":["AngooseClient.logger.info(\"Loading angoose-forms extension\");","angular.module('angoose.ui',['angoose.client',","                'angoose.ui.services', ","                'angoose.ui.directives', ","                'angoose.ui.controllers', ","                'angoose.ui.templates', ","                'angoose.ui.filters', ","                'fake']);","","angular.module('angoose.ui.services', []);","angular.module('angoose.ui.directives', ['angoose.ui.services']);","angular.module('angoose.ui.controllers', ['angoose.ui.services']);","angular.module('angoose.ui.filters', ['angoose.ui.services']);","angular.module('angoose.ui.templates', ['angoose.ui.services']);","","// udnerscore","angular.module('fake', []).factory('MessageBox', function(){","    function noop(msg,cb){console.log(\"MessageBox\", arguments); cb && cb() };","    return {","        error: noop, success:noop,warn:noop, confirm:noop","    }","});","  "],"l":{"1":2,"2":1,"10":0,"11":0,"12":0,"13":0,"14":0,"17":0,"18":1,"19":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/index.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/index.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":1,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":1,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"fnMap":{"1":{"name":"appendUISource","line":16,"loc":{"start":{"line":16,"column":0},"end":{"line":16,"column":31}}},"2":{"name":"concatTemplates","line":26,"loc":{"start":{"line":26,"column":0},"end":{"line":26,"column":26}}},"3":{"name":"(anonymous_3)","line":30,"loc":{"start":{"line":30,"column":18},"end":{"line":30,"column":36}}},"4":{"name":"(anonymous_4)","line":39,"loc":{"start":{"line":39,"column":30},"end":{"line":39,"column":48}}},"5":{"name":"concatFilesInDirectory","line":52,"loc":{"start":{"line":52,"column":0},"end":{"line":52,"column":41}}},"6":{"name":"(anonymous_6)","line":55,"loc":{"start":{"line":55,"column":17},"end":{"line":55,"column":30}}},"7":{"name":"(anonymous_7)","line":58,"loc":{"start":{"line":58,"column":22},"end":{"line":58,"column":40}}},"8":{"name":"readFile","line":65,"loc":{"start":{"line":65,"column":0},"end":{"line":65,"column":41}}},"9":{"name":"$angooseTemplateCache","line":75,"loc":{"start":{"line":75,"column":0},"end":{"line":75,"column":45}}}},"statementMap":{"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":46}},"2":{"start":{"line":7,"column":0},"end":{"line":9,"column":2}},"3":{"start":{"line":11,"column":0},"end":{"line":11,"column":43}},"4":{"start":{"line":12,"column":0},"end":{"line":12,"column":35}},"5":{"start":{"line":16,"column":0},"end":{"line":24,"column":1}},"6":{"start":{"line":17,"column":4},"end":{"line":17,"column":71}},"7":{"start":{"line":19,"column":4},"end":{"line":19,"column":18}},"8":{"start":{"line":20,"column":4},"end":{"line":20,"column":70}},"9":{"start":{"line":21,"column":4},"end":{"line":21,"column":92}},"10":{"start":{"line":22,"column":4},"end":{"line":22,"column":33}},"11":{"start":{"line":23,"column":4},"end":{"line":23,"column":35}},"12":{"start":{"line":26,"column":0},"end":{"line":50,"column":1}},"13":{"start":{"line":28,"column":4},"end":{"line":28,"column":23}},"14":{"start":{"line":29,"column":4},"end":{"line":29,"column":65}},"15":{"start":{"line":30,"column":4},"end":{"line":33,"column":7}},"16":{"start":{"line":31,"column":9},"end":{"line":31,"column":88}},"17":{"start":{"line":32,"column":9},"end":{"line":32,"column":35}},"18":{"start":{"line":35,"column":4},"end":{"line":35,"column":57}},"19":{"start":{"line":36,"column":4},"end":{"line":47,"column":5}},"20":{"start":{"line":37,"column":8},"end":{"line":46,"column":9}},"21":{"start":{"line":38,"column":12},"end":{"line":38,"column":82}},"22":{"start":{"line":39,"column":12},"end":{"line":42,"column":15}},"23":{"start":{"line":40,"column":16},"end":{"line":40,"column":105}},"24":{"start":{"line":41,"column":16},"end":{"line":41,"column":42}},"25":{"start":{"line":45,"column":12},"end":{"line":45,"column":51}},"26":{"start":{"line":48,"column":4},"end":{"line":48,"column":99}},"27":{"start":{"line":49,"column":4},"end":{"line":49,"column":100}},"28":{"start":{"line":52,"column":0},"end":{"line":64,"column":1}},"29":{"start":{"line":53,"column":4},"end":{"line":53,"column":59}},"30":{"start":{"line":54,"column":4},"end":{"line":54,"column":20}},"31":{"start":{"line":55,"column":4},"end":{"line":62,"column":7}},"32":{"start":{"line":56,"column":8},"end":{"line":56,"column":50}},"33":{"start":{"line":57,"column":8},"end":{"line":57,"column":45}},"34":{"start":{"line":58,"column":8},"end":{"line":61,"column":11}},"35":{"start":{"line":59,"column":12},"end":{"line":59,"column":74}},"36":{"start":{"line":60,"column":12},"end":{"line":60,"column":81}},"37":{"start":{"line":63,"column":4},"end":{"line":63,"column":18}},"38":{"start":{"line":65,"column":0},"end":{"line":72,"column":1}},"39":{"start":{"line":66,"column":8},"end":{"line":66,"column":97}},"40":{"start":{"line":67,"column":8},"end":{"line":68,"column":98}},"41":{"start":{"line":68,"column":12},"end":{"line":68,"column":98}},"42":{"start":{"line":69,"column":8},"end":{"line":69,"column":51}},"43":{"start":{"line":70,"column":8},"end":{"line":70,"column":23}},"44":{"start":{"line":71,"column":8},"end":{"line":71,"column":22}},"45":{"start":{"line":75,"column":0},"end":{"line":85,"column":1}},"46":{"start":{"line":77,"column":4},"end":{"line":77,"column":90}},"47":{"start":{"line":78,"column":4},"end":{"line":78,"column":21}},"48":{"start":{"line":78,"column":14},"end":{"line":78,"column":21}},"49":{"start":{"line":79,"column":4},"end":{"line":84,"column":5}},"50":{"start":{"line":80,"column":8},"end":{"line":80,"column":57}},"51":{"start":{"line":83,"column":8},"end":{"line":83,"column":53}}},"branchMap":{"1":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":4},"end":{"line":36,"column":4}},{"start":{"line":36,"column":4},"end":{"line":36,"column":4}}]},"2":{"line":53,"type":"cond-expr","locations":[{"start":{"line":53,"column":39},"end":{"line":53,"column":46}},{"start":{"line":53,"column":49},"end":{"line":53,"column":58}}]},"3":{"line":66,"type":"binary-expr","locations":[{"start":{"line":66,"column":54},"end":{"line":66,"column":66}},{"start":{"line":66,"column":70},"end":{"line":66,"column":78}}]},"4":{"line":67,"type":"if","locations":[{"start":{"line":67,"column":8},"end":{"line":67,"column":8}},{"start":{"line":67,"column":8},"end":{"line":67,"column":8}}]},"5":{"line":68,"type":"binary-expr","locations":[{"start":{"line":68,"column":64},"end":{"line":68,"column":76}},{"start":{"line":68,"column":80},"end":{"line":68,"column":88}}]},"6":{"line":77,"type":"binary-expr","locations":[{"start":{"line":77,"column":38},"end":{"line":77,"column":69}},{"start":{"line":77,"column":73},"end":{"line":77,"column":89}}]},"7":{"line":78,"type":"if","locations":[{"start":{"line":78,"column":4},"end":{"line":78,"column":4}},{"start":{"line":78,"column":4},"end":{"line":78,"column":4}}]},"8":{"line":79,"type":"if","locations":[{"start":{"line":79,"column":4},"end":{"line":79,"column":4}},{"start":{"line":79,"column":4},"end":{"line":79,"column":4}}]}},"code":["/** ","    This extension is responsible to piggy back the angoose.ui angular sources to the angoose-client.js.","    This is meant to be temporary - should use grunt task to do these concatenations. "," */","","var path = require(\"path\"), fs= require(\"fs\");","var ui = {","    afterCreateBundle: appendUISource","};","","var angoose = require(\"../../lib/angoose\");","angoose.extension(\"AngooseUI\", ui);","","// append angoose-ui sources","//@todo: call grunt task api to concat/minify the source & templates ","function appendUISource(client){","    angoose.getLogger('angoose').debug(\"Appending angoose-ui sources\");","//    client.source += \" \\n;console.log('####################----------- angoose-ui -----------##############');\\n\";","    var output=\"\";","    output += readFile(path.resolve(__dirname, 'angular-modules.js'));","    output += concatFilesInDirectory(['services',  'controllers', 'directives', 'filters']); //'directives',","    output +=  concatTemplates();","    client.source+=\"\\n\\n\" + output;","} ","","function concatTemplates(){","    // read default templates","    var templates = {};","    var files = fs.readdirSync( path.resolve(__dirname, 'tpl') );","    files.forEach(function(filename){","         var tmp = readFile( path.resolve(__dirname, 'tpl', filename), \"tpl/\"+filename);","         templates[filename] = tmp;","    });","    // read user defined templates","    var userDir=angoose.config(\"angoose-ui-template-dir\")","    if(userDir){","        try{","            var userfiles = fs.readdirSync( path.resolve(process.cwd(), userDir));","            userfiles.forEach(function(filename){","                var tmp = readFile( path.resolve(process.cwd(), userDir,filename), userDir+\"/\"+filename);","                templates[filename] = tmp;","            });","        }","        catch(ex){","            angoose.getLogger('angoose').error(ex);","        }","    }","    angoose.getLogger('angoose').debug(\"preprocessing templates: \", Object.keys(templates).length);","    return  $angooseTemplateCache.toString().replace(\"{/**TEMPLATES*/}\", JSON.stringify(templates));","}","","function concatFilesInDirectory( dirname){","    var dirs = Array.isArray(dirname)? dirname : [dirname];","    var output = '';","    dirs.forEach(function(dir){","        var absDir = path.resolve(__dirname, dir);","        var files = fs.readdirSync( absDir );","        files.forEach(function(filename){","            angoose.getLogger('angoose').trace(\"concating file\", filename)","            output+= readFile( path.resolve(absDir, filename), dir+\"/\"+filename);","        });    ","    });","    return output;","}","function readFile(filename, relativeName){","        var output=\"/******* angoose-ui filename: \"+ (relativeName || filename) +\"   *******/\\n\";","        if(filename.indexOf(\".tpl\")>0) ","            output =  \"<!------------- angoose-ui filename: \"+ (relativeName || filename) +\" -->\";","        output+=fs.readFileSync(filename, 'ascii');","        output+=\"\\n\\n\";","        return output; ","}","","//@todo: properly implement it according to angular $templateCache","function $angooseTemplateCache(name, content){","","    $angooseTemplateCache.templates = $angooseTemplateCache.templates || {/**TEMPLATES*/}; // this will be replaced","    if(!name) return;","    if(content){","        $angooseTemplateCache.templates[name]  = content;","    } ","    else {","        return $angooseTemplateCache.templates[name];","    }","}",""],"l":{"6":1,"7":1,"11":1,"12":1,"16":1,"17":0,"19":0,"20":0,"21":0,"22":0,"23":0,"26":1,"28":0,"29":0,"30":0,"31":0,"32":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"45":0,"48":0,"49":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"63":0,"65":1,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"75":1,"77":0,"78":0,"79":0,"80":0,"83":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-users/login-service.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-users/login-service.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":1},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"logger","line":7,"loc":{"start":{"line":7,"column":0},"end":{"line":7,"column":17}}},"2":{"name":"(anonymous_2)","line":14,"loc":{"start":{"line":14,"column":17},"end":{"line":14,"column":56}}},"3":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":47},"end":{"line":18,"column":67}}},"4":{"name":"(anonymous_4)","line":47,"loc":{"start":{"line":47,"column":18},"end":{"line":47,"column":39}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":2,"column":42}},"2":{"start":{"line":3,"column":0},"end":{"line":3,"column":31}},"3":{"start":{"line":4,"column":0},"end":{"line":4,"column":40}},"4":{"start":{"line":5,"column":0},"end":{"line":5,"column":17}},"5":{"start":{"line":7,"column":0},"end":{"line":9,"column":1}},"6":{"start":{"line":8,"column":4},"end":{"line":8,"column":46}},"7":{"start":{"line":14,"column":0},"end":{"line":41,"column":1}},"8":{"start":{"line":15,"column":5},"end":{"line":15,"column":41}},"9":{"start":{"line":16,"column":5},"end":{"line":16,"column":86}},"10":{"start":{"line":16,"column":35},"end":{"line":16,"column":86}},"11":{"start":{"line":18,"column":5},"end":{"line":40,"column":11}},"12":{"start":{"line":19,"column":16},"end":{"line":19,"column":47}},"13":{"start":{"line":19,"column":25},"end":{"line":19,"column":47}},"14":{"start":{"line":20,"column":16},"end":{"line":23,"column":17}},"15":{"start":{"line":21,"column":20},"end":{"line":21,"column":72}},"16":{"start":{"line":22,"column":20},"end":{"line":22,"column":72}},"17":{"start":{"line":24,"column":16},"end":{"line":24,"column":112}},"18":{"start":{"line":27,"column":16},"end":{"line":27,"column":46}},"19":{"start":{"line":29,"column":16},"end":{"line":32,"column":17}},"20":{"start":{"line":30,"column":20},"end":{"line":30,"column":80}},"21":{"start":{"line":31,"column":20},"end":{"line":31,"column":72}},"22":{"start":{"line":34,"column":16},"end":{"line":34,"column":39}},"23":{"start":{"line":35,"column":16},"end":{"line":35,"column":40}},"24":{"start":{"line":38,"column":16},"end":{"line":38,"column":58}},"25":{"start":{"line":39,"column":16},"end":{"line":39,"column":39}},"26":{"start":{"line":47,"column":0},"end":{"line":51,"column":1}},"27":{"start":{"line":48,"column":4},"end":{"line":48,"column":40}},"28":{"start":{"line":49,"column":4},"end":{"line":49,"column":46}},"29":{"start":{"line":50,"column":4},"end":{"line":50,"column":21}},"30":{"start":{"line":54,"column":0},"end":{"line":54,"column":57}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":5},"end":{"line":16,"column":5}},{"start":{"line":16,"column":5},"end":{"line":16,"column":5}}]},"2":{"line":16,"type":"binary-expr","locations":[{"start":{"line":16,"column":9},"end":{"line":16,"column":19}},{"start":{"line":16,"column":23},"end":{"line":16,"column":33}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":16},"end":{"line":19,"column":16}},{"start":{"line":19,"column":16},"end":{"line":19,"column":16}}]},"4":{"line":20,"type":"if","locations":[{"start":{"line":20,"column":16},"end":{"line":20,"column":16}},{"start":{"line":20,"column":16},"end":{"line":20,"column":16}}]},"5":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":57},"end":{"line":24,"column":65}},{"start":{"line":24,"column":69},"end":{"line":24,"column":84}}]},"6":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":16},"end":{"line":29,"column":16}},{"start":{"line":29,"column":16},"end":{"line":29,"column":16}}]}},"code":[" /** @module LoginService */","var angoose =require('../../lib/angoose');  //@TODO: should be able to use require(\"angoose\") if the extension is individual module","var crypto = require(\"crypto\");","var UserModel = require(\"./user-model\");","var service = {};","","function logger(){","    return angoose.getLogger(\"angoose-users\");","}","/**"," * User login"," * "," */","service.signin = function(username, password, $callback){","     var $context = angoose.getContext();","     if (! username || ! password) return $callback(\"Must provide username/password\");","     ","     UserModel.findOne({\"email\":  username },  function(err, user) {","                if (err) return $callback(err);","                if(!user){","                    logger().debug(\"user \", username, \"does not exist\");","                    return $callback(\"Username/password do not match.\");   ","                }","                logger().debug(\"User login: \", username, password && password.length, user.get(\"password.salt\"))","                ","                //var hashedPassword = require(\"crypto\").pbkdf2Sync(password);","                var hashedPassword = password;","                ","                if(user.password !== hashedPassword){","                    logger().debug(\"user \", username, \"password did not match\");","                    return $callback(\"Username/password do not match.\");","                }","                // A login module must: 1) Implement a signin method 2) callback with an object with userId and roles properties","                user.userId = user._id;","                user.roles = user.roles; ","","                // keep user in session, optional","                $context.getRequest().session.user = user;","                $callback(false, user);","        }); // end inContext","}","","/** "," * Signout"," * "," */","service.signout = function(  $callback){","    var $context = angoose.getContext();","    $context.getRequest().session.user = null;","    $callback(false);","}"," ","","module.exports = angoose.module('LoginService', service);",""],"l":{"2":1,"3":1,"4":1,"5":1,"7":1,"8":0,"14":1,"15":0,"16":0,"18":0,"19":0,"20":0,"21":0,"22":0,"24":0,"27":0,"29":0,"30":0,"31":0,"34":0,"35":0,"38":0,"39":0,"47":1,"48":0,"49":0,"50":0,"54":1}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-users/user-model.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-users/user-model.js","s":{"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":0,"8":0,"9":1,"10":1,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":27,"loc":{"start":{"line":27,"column":23},"end":{"line":27,"column":37}}},"2":{"name":"(anonymous_2)","line":47,"loc":{"start":{"line":47,"column":11},"end":{"line":47,"column":21}}},"3":{"name":"(anonymous_3)","line":49,"loc":{"start":{"line":49,"column":48},"end":{"line":49,"column":67}}},"4":{"name":"(anonymous_4)","line":52,"loc":{"start":{"line":52,"column":15},"end":{"line":52,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1,"column":42}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":31}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":37}},"4":{"start":{"line":4,"column":0},"end":{"line":7,"column":1}},"5":{"start":{"line":8,"column":0},"end":{"line":25,"column":65}},"6":{"start":{"line":27,"column":0},"end":{"line":32,"column":3}},"7":{"start":{"line":28,"column":4},"end":{"line":30,"column":5}},"8":{"start":{"line":31,"column":4},"end":{"line":31,"column":11}},"9":{"start":{"line":33,"column":0},"end":{"line":33,"column":66}},"10":{"start":{"line":38,"column":0},"end":{"line":46,"column":1}},"11":{"start":{"line":47,"column":0},"end":{"line":56,"column":8}},"12":{"start":{"line":48,"column":4},"end":{"line":48,"column":55}},"13":{"start":{"line":49,"column":4},"end":{"line":55,"column":6}},"14":{"start":{"line":50,"column":8},"end":{"line":50,"column":24}},"15":{"start":{"line":50,"column":17},"end":{"line":50,"column":24}},"16":{"start":{"line":51,"column":8},"end":{"line":51,"column":41}},"17":{"start":{"line":52,"column":8},"end":{"line":54,"column":11}},"18":{"start":{"line":53,"column":12},"end":{"line":53,"column":63}}},"branchMap":{"1":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":4},"end":{"line":28,"column":4}},{"start":{"line":28,"column":4},"end":{"line":28,"column":4}}]},"2":{"line":50,"type":"if","locations":[{"start":{"line":50,"column":8},"end":{"line":50,"column":8}},{"start":{"line":50,"column":8},"end":{"line":50,"column":8}}]}},"code":["var angoose =require('../../lib/angoose');  //@TODO: should be able to use require(\"angoose\") if the extension is individual module","var crypto = require(\"crypto\");","var mongoose = angoose.getMongoose();","var options = {","    MODEL_NAME: 'AngooseUser',","    COLLECTION_NAME: 'angoose_users'","}","var UserSchema = new mongoose.Schema({","                email: {type: String, required: true, label: 'Email', match:[/[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}/i, \"Email is not valid\"], unique:true, tags:['default-list']},","                name: {","                    first: {type: String,   label: 'First Name' },","                    middle: {type: String, label: 'Middle Name'},","                    last: {type: String,   label: 'Last Name'  }","                },","                status: {","                    type: String,","                    required: true,","                    label: 'Status',","                    enum:['active','disabled','archived'],","                    default:'active',","                    tags:['default-list']","                },","                password: {type:String, required:true, label:'Password' },","                roles:{type:String, enum:[ 'admin','manager','content-admin', 'user' ], default:'user', label:'User Role', required:true, tags:['default-list']} // the roles are sample ones","        } , {collection: options.COLLECTION_NAME, label:'User'});","        ","UserSchema.pre('save', function(next){","    if(this.isModified('password')){","        //this.password = crypto.pbkdf2Sync(this.password)","    } ","    next();","});      ","module.exports =  mongoose.model( options.MODEL_NAME, UserSchema);","","","// create a default user","","var adminUser = {","    email:'admin@demo.com',","    password:'demo',","    name: {","        first:'Admin', last:'Demo'","    },","    status:'active',","    roles:'admin'","}","setTimeout(function(){","    var UserModel=  mongoose.model(options.MODEL_NAME);","    UserModel.findOne({email: adminUser.email}, function(err, user){","        if(user) return;","        var u = new UserModel(adminUser);","        u.save(function(err){","            console.log(\"Add default admin user result:\", err);","        });","    })","},1000);",""],"l":{"1":1,"2":1,"3":1,"4":1,"8":1,"27":1,"28":0,"31":0,"33":1,"38":1,"47":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/client/angoose-angular.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/client/angoose-angular.js","s":{"1":2,"2":2,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":1,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":1,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":1,"72":0,"73":1,"74":0},"b":{"1":[1,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"(anonymous_1)","line":10,"loc":{"start":{"line":10,"column":1},"end":{"line":10,"column":11}}},"2":{"name":"(anonymous_2)","line":25,"loc":{"start":{"line":25,"column":37},"end":{"line":25,"column":78}}},"3":{"name":"factoryFunc","line":33,"loc":{"start":{"line":33,"column":4},"end":{"line":33,"column":35}}},"4":{"name":"(anonymous_4)","line":35,"loc":{"start":{"line":35,"column":42},"end":{"line":35,"column":93}}},"5":{"name":"addDoneMethod","line":43,"loc":{"start":{"line":43,"column":4},"end":{"line":43,"column":30}}},"6":{"name":"(anonymous_6)","line":45,"loc":{"start":{"line":45,"column":20},"end":{"line":45,"column":30}}},"7":{"name":"(anonymous_7)","line":48,"loc":{"start":{"line":48,"column":31},"end":{"line":48,"column":71}}},"8":{"name":"angularHttpWrapper","line":55,"loc":{"start":{"line":55,"column":4},"end":{"line":55,"column":64}}},"9":{"name":"(anonymous_9)","line":59,"loc":{"start":{"line":59,"column":19},"end":{"line":59,"column":29}}},"10":{"name":"(anonymous_10)","line":61,"loc":{"start":{"line":61,"column":83},"end":{"line":61,"column":97}}},"11":{"name":"(anonymous_11)","line":65,"loc":{"start":{"line":65,"column":53},"end":{"line":65,"column":63}}},"12":{"name":"(anonymous_12)","line":70,"loc":{"start":{"line":70,"column":47},"end":{"line":70,"column":57}}},"13":{"name":"(anonymous_13)","line":78,"loc":{"start":{"line":78,"column":21},"end":{"line":78,"column":34}}},"14":{"name":"resourceAdapt","line":86,"loc":{"start":{"line":86,"column":4},"end":{"line":86,"column":61}}},"15":{"name":"(anonymous_15)","line":88,"loc":{"start":{"line":88,"column":25},"end":{"line":88,"column":35}}},"16":{"name":"(anonymous_16)","line":91,"loc":{"start":{"line":91,"column":65},"end":{"line":91,"column":81}}},"17":{"name":"(anonymous_17)","line":100,"loc":{"start":{"line":100,"column":26},"end":{"line":100,"column":36}}},"18":{"name":"(anonymous_18)","line":103,"loc":{"start":{"line":103,"column":62},"end":{"line":103,"column":81}}},"19":{"name":"errorHandler","line":114,"loc":{"start":{"line":114,"column":8},"end":{"line":114,"column":34}}},"20":{"name":"$anget","line":134,"loc":{"start":{"line":134,"column":0},"end":{"line":134,"column":28}}}},"statementMap":{"1":{"start":{"line":10,"column":0},"end":{"line":131,"column":5}},"2":{"start":{"line":11,"column":4},"end":{"line":11,"column":38}},"3":{"start":{"line":13,"column":4},"end":{"line":16,"column":5}},"4":{"start":{"line":14,"column":8},"end":{"line":14,"column":34}},"5":{"start":{"line":15,"column":8},"end":{"line":15,"column":15}},"6":{"start":{"line":17,"column":4},"end":{"line":17,"column":63}},"7":{"start":{"line":18,"column":4},"end":{"line":18,"column":62}},"8":{"start":{"line":19,"column":4},"end":{"line":19,"column":35}},"9":{"start":{"line":25,"column":4},"end":{"line":32,"column":6}},"10":{"start":{"line":26,"column":12},"end":{"line":26,"column":40}},"11":{"start":{"line":27,"column":12},"end":{"line":30,"column":15}},"12":{"start":{"line":31,"column":12},"end":{"line":31,"column":33}},"13":{"start":{"line":33,"column":4},"end":{"line":40,"column":5}},"14":{"start":{"line":34,"column":8},"end":{"line":34,"column":60}},"15":{"start":{"line":35,"column":8},"end":{"line":39,"column":11}},"16":{"start":{"line":36,"column":12},"end":{"line":36,"column":57}},"17":{"start":{"line":37,"column":12},"end":{"line":37,"column":59}},"18":{"start":{"line":38,"column":12},"end":{"line":38,"column":27}},"19":{"start":{"line":41,"column":4},"end":{"line":41,"column":63}},"20":{"start":{"line":43,"column":4},"end":{"line":54,"column":5}},"21":{"start":{"line":44,"column":8},"end":{"line":44,"column":40}},"22":{"start":{"line":45,"column":8},"end":{"line":52,"column":9}},"23":{"start":{"line":46,"column":12},"end":{"line":46,"column":52}},"24":{"start":{"line":47,"column":12},"end":{"line":47,"column":44}},"25":{"start":{"line":47,"column":33},"end":{"line":47,"column":44}},"26":{"start":{"line":48,"column":12},"end":{"line":50,"column":13}},"27":{"start":{"line":49,"column":16},"end":{"line":49,"column":65}},"28":{"start":{"line":51,"column":12},"end":{"line":51,"column":23}},"29":{"start":{"line":53,"column":8},"end":{"line":53,"column":19}},"30":{"start":{"line":55,"column":4},"end":{"line":85,"column":5}},"31":{"start":{"line":56,"column":8},"end":{"line":56,"column":31}},"32":{"start":{"line":58,"column":8},"end":{"line":58,"column":21}},"33":{"start":{"line":59,"column":8},"end":{"line":83,"column":9}},"34":{"start":{"line":60,"column":12},"end":{"line":60,"column":38}},"35":{"start":{"line":61,"column":12},"end":{"line":81,"column":15}},"36":{"start":{"line":62,"column":16},"end":{"line":62,"column":42}},"37":{"start":{"line":63,"column":16},"end":{"line":63,"column":52}},"38":{"start":{"line":63,"column":45},"end":{"line":63,"column":52}},"39":{"start":{"line":64,"column":16},"end":{"line":77,"column":17}},"40":{"start":{"line":65,"column":24},"end":{"line":68,"column":25}},"41":{"start":{"line":66,"column":28},"end":{"line":66,"column":49}},"42":{"start":{"line":67,"column":28},"end":{"line":67,"column":79}},"43":{"start":{"line":69,"column":24},"end":{"line":69,"column":73}},"44":{"start":{"line":70,"column":24},"end":{"line":76,"column":32}},"45":{"start":{"line":71,"column":28},"end":{"line":71,"column":47}},"46":{"start":{"line":72,"column":28},"end":{"line":75,"column":29}},"47":{"start":{"line":73,"column":32},"end":{"line":73,"column":100}},"48":{"start":{"line":74,"column":32},"end":{"line":74,"column":53}},"49":{"start":{"line":80,"column":16},"end":{"line":80,"column":37}},"50":{"start":{"line":82,"column":12},"end":{"line":82,"column":36}},"51":{"start":{"line":84,"column":8},"end":{"line":84,"column":19}},"52":{"start":{"line":86,"column":4},"end":{"line":130,"column":5}},"53":{"start":{"line":88,"column":8},"end":{"line":99,"column":10}},"54":{"start":{"line":89,"column":12},"end":{"line":89,"column":85}},"55":{"start":{"line":89,"column":36},"end":{"line":89,"column":85}},"56":{"start":{"line":90,"column":12},"end":{"line":90,"column":49}},"57":{"start":{"line":91,"column":12},"end":{"line":96,"column":29}},"58":{"start":{"line":93,"column":16},"end":{"line":93,"column":48}},"59":{"start":{"line":95,"column":16},"end":{"line":95,"column":80}},"60":{"start":{"line":98,"column":12},"end":{"line":98,"column":33}},"61":{"start":{"line":100,"column":8},"end":{"line":112,"column":10}},"62":{"start":{"line":101,"column":12},"end":{"line":101,"column":79}},"63":{"start":{"line":101,"column":33},"end":{"line":101,"column":79}},"64":{"start":{"line":102,"column":12},"end":{"line":102,"column":28}},"65":{"start":{"line":103,"column":12},"end":{"line":110,"column":30}},"66":{"start":{"line":105,"column":16},"end":{"line":105,"column":34}},"67":{"start":{"line":106,"column":16},"end":{"line":107,"column":45}},"68":{"start":{"line":107,"column":20},"end":{"line":107,"column":45}},"69":{"start":{"line":109,"column":16},"end":{"line":109,"column":65}},"70":{"start":{"line":111,"column":12},"end":{"line":111,"column":26}},"71":{"start":{"line":114,"column":8},"end":{"line":129,"column":9}},"72":{"start":{"line":115,"column":12},"end":{"line":115,"column":54}},"73":{"start":{"line":134,"column":0},"end":{"line":136,"column":1}},"74":{"start":{"line":135,"column":4},"end":{"line":135,"column":64}}},"branchMap":{"1":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":4},"end":{"line":13,"column":4}},{"start":{"line":13,"column":4},"end":{"line":13,"column":4}}]},"2":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":12},"end":{"line":47,"column":12}},{"start":{"line":47,"column":12},"end":{"line":47,"column":12}}]},"3":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":16},"end":{"line":63,"column":16}},{"start":{"line":63,"column":16},"end":{"line":63,"column":16}}]},"4":{"line":63,"type":"binary-expr","locations":[{"start":{"line":63,"column":19},"end":{"line":63,"column":24}},{"start":{"line":63,"column":28},"end":{"line":63,"column":43}}]},"5":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":16},"end":{"line":64,"column":16}},{"start":{"line":64,"column":16},"end":{"line":64,"column":16}}]},"6":{"line":67,"type":"binary-expr","locations":[{"start":{"line":67,"column":36},"end":{"line":67,"column":48}},{"start":{"line":67,"column":52},"end":{"line":67,"column":78}}]},"7":{"line":72,"type":"if","locations":[{"start":{"line":72,"column":28},"end":{"line":72,"column":28}},{"start":{"line":72,"column":28},"end":{"line":72,"column":28}}]},"8":{"line":89,"type":"if","locations":[{"start":{"line":89,"column":12},"end":{"line":89,"column":12}},{"start":{"line":89,"column":12},"end":{"line":89,"column":12}}]},"9":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":12},"end":{"line":101,"column":12}},{"start":{"line":101,"column":12},"end":{"line":101,"column":12}}]},"10":{"line":106,"type":"binary-expr","locations":[{"start":{"line":106,"column":29},"end":{"line":106,"column":38}},{"start":{"line":106,"column":42},"end":{"line":106,"column":60}}]}},"code":["/****** Angular Adapter for Angoose Client *******/","// Angular client for Angoose automatically register the model and service classes as angular injectables. ","// For instance, with the `SampleUser` model, you can inject in your controller:","//","//      angular.module('myapp', ['angoose.client'])","//            .controller('MyCtroller', function($scope, SampleUser){","//              $scope.users = SampleUser.$query({'status':'active'});","//        })      ","//","(function(){","    var logger = AngooseClient.logger;","    ","    if(typeof angular =='undefined'){","        logger.error(\"No angular\")","        return;  ","    } ","    logger.info(\"angoose-angular client adapter initializing\");","    var angularModule =  angular.module(\"angoose.client\", []);","    AngooseClient.client='angular';","    ","    // ** angoose **","    //","    //  You may require `angoose` client as an injectable","    //  ","    angularModule.factory('angoose', function($http, $q, $rootScope, $timeout){","            var myQ = addDoneMethod($q);","            AngooseClient.init({","                http:angularHttpWrapper($http, myQ, $rootScope, $timeout),","                promise: myQ","            });","            return AngooseClient;","    })","    function factoryFunc(modelName){","        logger.trace(\"Create factory for model \"+ modelName)","        angularModule.factory(modelName , function($http, $q, $rootScope, $injector, angoose){","            var acModel = AngooseClient.model(modelName);","            resourceAdapt(acModel, $rootScope, $injector );","            return acModel;","        });","    }","    angular.forEach( AngooseClient.modelNames(), factoryFunc );","","    function addDoneMethod($q){","        var myQ = angular.extend({}, $q)","        myQ.defer = function(){","            var out = $q.defer.apply($q, arguments);","            if(out.promise.done) return out;","            out.promise.done = function(successCallback, errorCallback){","                out.promise.then(successCallback, errorCallback);","            }","            return out;","        }","        return myQ;","    }","    function angularHttpWrapper($http, $q, $rootScope, $timeout){","        var autoThrower = null;","        ","        var ret = {};","        ret.post = function(){","            var deferred = $q.defer();","            $http.post(arguments[0], arguments[1], {withCredentials:true}).success(function(data){","                deferred.resolve(  data );","                if(!data || !data.exception) return;","                if(!autoThrower){","                        data.exception.toString =    function(){","                            this.consumed = true;","                            return  this.message || Object.toString.call(this);","                        }","                        $rootScope.$emit('AngooseError', data.exception);","                        autoThrower = $timeout(function(){","                            autoThrower = null;","                            if(!data.exception.consumed){","                                console.error(\"Unhandled error detected, throwing\", data.exception);","                                throw data.exception;  ","                            } ","                        }, 100);  ","                }   ","            }).error(function(err){","                // emit angoose error","                deferred.reject(err);","            });","            return deferred.promise;","        }","        return ret;","    }","    function resourceAdapt(modelClass, $rootScope, $injector){","        // now adpat to angular resource","        modelClass.$get= function(){","            if(!modelClass.findOne) throw \"Model does not support findOne operation\";","            var modelInstance = new modelClass();","            modelClass.findOne.apply(modelClass, arguments).done(function(object){","                // the return data should be a model instance","                modelInstance.mergeData(object);","                //$rootScope.$digest();","                logger.trace(\"Copied server data to placeholder\", modelInstance)","            }, errorHandler);    ","            ","            return modelInstance;","        };","        modelClass.$query=function(){","            if(!modelClass.find) throw \"Model does not support find operation\";","            var models = [];","            modelClass.find.apply(modelClass, arguments).done(function(retModels){","                // the return data should be a list of models","                models.length = 0;","                for(var i=0; retModels && retModels.length>i; i++)","                    models[i] = retModels[i];","                //$rootScope.$digest();","                logger.trace(\"Copied server data to placeholder\")","            },  errorHandler);","            return models;","        };","        ","        function errorHandler(err){","            console.error(\"$query/$get error: \", err);","            // if(true) return","            // var action = 'throw';","            // try{","                // var $ui = $injector.get(\"$ui\");","                // action = $ui.config(\"$query-error\") || action;","                // if(action == 'alert'){","                    // var alerts = $injector.get(\"$alert\");","                    // alerts && alerts.error(err);    ","                // } ","            // }","            // catch(ex){","            // }","            // if(action === 'throw')  throw err;","        }","    }","})();","","// testing functions","function $anget(serviceName){","    return angular.element(document).injector().get(serviceName)","}"],"l":{"10":2,"11":2,"13":1,"14":1,"15":1,"17":0,"18":0,"19":0,"25":0,"26":0,"27":0,"31":0,"33":1,"34":0,"35":0,"36":0,"37":0,"38":0,"41":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"51":0,"53":0,"55":1,"56":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"80":0,"82":0,"84":0,"86":1,"88":0,"89":0,"90":0,"91":0,"93":0,"95":0,"98":0,"100":0,"101":0,"102":0,"103":0,"105":0,"106":0,"107":0,"109":0,"111":0,"114":1,"115":0,"134":1,"135":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/client/angoose-client.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/client/angoose-client.js","s":{"1":1,"2":1,"3":0,"4":0,"5":0,"6":1,"7":1,"8":1,"9":1,"10":1,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":6,"24":6,"25":5,"26":1,"27":1,"28":5,"29":3,"30":3,"31":3,"32":3,"33":3,"34":3,"35":0,"36":3,"37":1,"38":1,"39":0,"40":1,"41":1,"42":1,"43":1,"44":1,"45":0,"46":1,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":1,"60":1,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":1,"71":0,"72":1,"73":0,"74":1,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":1,"123":0,"124":0,"125":0,"126":1,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":1,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":1,"164":0,"165":0,"166":0,"167":0,"168":1,"169":1,"170":1,"171":0,"172":1,"173":1,"174":1,"175":0,"176":1,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":1,"186":0,"187":0,"188":0,"189":0,"190":1,"191":1,"192":0,"193":1,"194":1,"195":1,"196":1,"197":1,"198":1,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":1,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":1,"220":1,"221":1,"222":0},"b":{"1":[0,0],"2":[1,1],"3":[1,0],"4":[5,1],"5":[6,6],"6":[3,0],"7":[0,3],"8":[0,1],"9":[1,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0,0,0],"28":[0,0],"29":[0,0],"30":[0,0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0,0],"40":[0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,1],"49":[1,0],"50":[1,0],"51":[0,0],"52":[0,0],"53":[0,1],"54":[0,1],"55":[1,1],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0]},"f":{"1":1,"2":0,"3":1,"4":0,"5":5,"6":3,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":1,"30":0,"31":0,"32":1,"33":0},"fnMap":{"1":{"name":"BootstrapAngoose","line":3,"loc":{"start":{"line":3,"column":1},"end":{"line":3,"column":29}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":20},"end":{"line":5,"column":35}}},"3":{"name":"getLogger","line":29,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":25}}},"4":{"name":"(anonymous_4)","line":67,"loc":{"start":{"line":67,"column":37},"end":{"line":67,"column":47}}},"5":{"name":"getLoggingFunc","line":69,"loc":{"start":{"line":69,"column":8},"end":{"line":69,"column":39}}},"6":{"name":"(anonymous_6)","line":70,"loc":{"start":{"line":70,"column":19},"end":{"line":70,"column":29}}},"7":{"name":"(anonymous_7)","line":81,"loc":{"start":{"line":81,"column":30},"end":{"line":81,"column":45}}},"8":{"name":"(anonymous_8)","line":90,"loc":{"start":{"line":90,"column":22},"end":{"line":90,"column":33}}},"9":{"name":"(anonymous_9)","line":93,"loc":{"start":{"line":93,"column":18},"end":{"line":93,"column":32}}},"10":{"name":"(anonymous_10)","line":114,"loc":{"start":{"line":114,"column":23},"end":{"line":114,"column":67}}},"11":{"name":"(anonymous_11)","line":120,"loc":{"start":{"line":120,"column":29},"end":{"line":120,"column":40}}},"12":{"name":"staticInvoker","line":129,"loc":{"start":{"line":129,"column":4},"end":{"line":129,"column":63}}},"13":{"name":"instanceInvoker","line":133,"loc":{"start":{"line":133,"column":4},"end":{"line":133,"column":72}}},"14":{"name":"invoker","line":138,"loc":{"start":{"line":138,"column":4},"end":{"line":138,"column":72}}},"15":{"name":"(anonymous_15)","line":176,"loc":{"start":{"line":176,"column":17},"end":{"line":176,"column":35}}},"16":{"name":"(anonymous_16)","line":205,"loc":{"start":{"line":205,"column":11},"end":{"line":205,"column":29}}},"17":{"name":"newInstance","line":220,"loc":{"start":{"line":220,"column":4},"end":{"line":220,"column":42}}},"18":{"name":"createProxy","line":228,"loc":{"start":{"line":228,"column":4},"end":{"line":228,"column":59}}},"19":{"name":"proxy","line":236,"loc":{"start":{"line":236,"column":19},"end":{"line":236,"column":36}}},"20":{"name":"proxy","line":241,"loc":{"start":{"line":241,"column":19},"end":{"line":241,"column":36}}},"21":{"name":"compile","line":249,"loc":{"start":{"line":249,"column":4},"end":{"line":249,"column":54}}},"22":{"name":"AngooseModule","line":251,"loc":{"start":{"line":251,"column":20},"end":{"line":251,"column":49}}},"23":{"name":"(anonymous_23)","line":258,"loc":{"start":{"line":258,"column":25},"end":{"line":258,"column":36}}},"24":{"name":"(anonymous_24)","line":281,"loc":{"start":{"line":281,"column":36},"end":{"line":281,"column":53}}},"25":{"name":"modelNames","line":294,"loc":{"start":{"line":294,"column":4},"end":{"line":294,"column":26}}},"26":{"name":"config","line":302,"loc":{"start":{"line":302,"column":4},"end":{"line":302,"column":31}}},"27":{"name":"init","line":313,"loc":{"start":{"line":313,"column":4},"end":{"line":313,"column":32}}},"28":{"name":"getClass","line":325,"loc":{"start":{"line":325,"column":4},"end":{"line":325,"column":28}}},"29":{"name":"getter","line":332,"loc":{"start":{"line":332,"column":5},"end":{"line":332,"column":27}}},"30":{"name":"setter","line":343,"loc":{"start":{"line":343,"column":4},"end":{"line":343,"column":31}}},"31":{"name":"camelcase","line":358,"loc":{"start":{"line":358,"column":4},"end":{"line":358,"column":36}}},"32":{"name":"getConfigs","line":373,"loc":{"start":{"line":373,"column":4},"end":{"line":373,"column":26}}},"33":{"name":"getSchemas","line":376,"loc":{"start":{"line":376,"column":4},"end":{"line":376,"column":26}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":379,"column":5}},"2":{"start":{"line":5,"column":4},"end":{"line":10,"column":6}},"3":{"start":{"line":6,"column":8},"end":{"line":8,"column":9}},"4":{"start":{"line":7,"column":12},"end":{"line":7,"column":43}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":43}},"6":{"start":{"line":12,"column":4},"end":{"line":12,"column":29}},"7":{"start":{"line":13,"column":4},"end":{"line":13,"column":49}},"8":{"start":{"line":15,"column":4},"end":{"line":15,"column":38}},"9":{"start":{"line":16,"column":4},"end":{"line":16,"column":35}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":42}},"11":{"start":{"line":18,"column":4},"end":{"line":18,"column":30}},"12":{"start":{"line":19,"column":4},"end":{"line":19,"column":36}},"13":{"start":{"line":20,"column":4},"end":{"line":20,"column":34}},"14":{"start":{"line":21,"column":4},"end":{"line":21,"column":34}},"15":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"16":{"start":{"line":24,"column":8},"end":{"line":24,"column":32}},"17":{"start":{"line":27,"column":4},"end":{"line":27,"column":47}},"18":{"start":{"line":29,"column":4},"end":{"line":87,"column":5}},"19":{"start":{"line":30,"column":8},"end":{"line":55,"column":10}},"20":{"start":{"line":57,"column":8},"end":{"line":60,"column":9}},"21":{"start":{"line":61,"column":8},"end":{"line":61,"column":67}},"22":{"start":{"line":62,"column":8},"end":{"line":68,"column":9}},"23":{"start":{"line":63,"column":12},"end":{"line":63,"column":36}},"24":{"start":{"line":64,"column":12},"end":{"line":67,"column":49}},"25":{"start":{"line":65,"column":16},"end":{"line":65,"column":61}},"26":{"start":{"line":67,"column":16},"end":{"line":67,"column":49}},"27":{"start":{"line":69,"column":8},"end":{"line":80,"column":9}},"28":{"start":{"line":70,"column":12},"end":{"line":79,"column":13}},"29":{"start":{"line":71,"column":16},"end":{"line":78,"column":17}},"30":{"start":{"line":72,"column":20},"end":{"line":72,"column":34}},"31":{"start":{"line":72,"column":35},"end":{"line":72,"column":74}},"32":{"start":{"line":73,"column":20},"end":{"line":73,"column":81}},"33":{"start":{"line":73,"column":57},"end":{"line":73,"column":81}},"34":{"start":{"line":74,"column":20},"end":{"line":77,"column":59}},"35":{"start":{"line":75,"column":24},"end":{"line":75,"column":58}},"36":{"start":{"line":77,"column":24},"end":{"line":77,"column":59}},"37":{"start":{"line":81,"column":8},"end":{"line":85,"column":9}},"38":{"start":{"line":82,"column":12},"end":{"line":82,"column":30}},"39":{"start":{"line":82,"column":23},"end":{"line":82,"column":30}},"40":{"start":{"line":83,"column":12},"end":{"line":83,"column":40}},"41":{"start":{"line":84,"column":12},"end":{"line":84,"column":62}},"42":{"start":{"line":86,"column":8},"end":{"line":86,"column":28}},"43":{"start":{"line":89,"column":4},"end":{"line":89,"column":64}},"44":{"start":{"line":90,"column":4},"end":{"line":92,"column":5}},"45":{"start":{"line":91,"column":8},"end":{"line":91,"column":29}},"46":{"start":{"line":93,"column":4},"end":{"line":112,"column":5}},"47":{"start":{"line":94,"column":8},"end":{"line":95,"column":23}},"48":{"start":{"line":95,"column":12},"end":{"line":95,"column":23}},"49":{"start":{"line":96,"column":8},"end":{"line":110,"column":9}},"50":{"start":{"line":97,"column":12},"end":{"line":99,"column":13}},"51":{"start":{"line":98,"column":16},"end":{"line":98,"column":41}},"52":{"start":{"line":102,"column":12},"end":{"line":109,"column":13}},"53":{"start":{"line":103,"column":16},"end":{"line":103,"column":44}},"54":{"start":{"line":104,"column":16},"end":{"line":107,"column":17}},"55":{"start":{"line":105,"column":20},"end":{"line":105,"column":36}},"56":{"start":{"line":106,"column":20},"end":{"line":106,"column":42}},"57":{"start":{"line":108,"column":16},"end":{"line":108,"column":31}},"58":{"start":{"line":111,"column":8},"end":{"line":111,"column":19}},"59":{"start":{"line":113,"column":4},"end":{"line":113,"column":27}},"60":{"start":{"line":114,"column":4},"end":{"line":128,"column":5}},"61":{"start":{"line":115,"column":8},"end":{"line":124,"column":9}},"62":{"start":{"line":116,"column":12},"end":{"line":119,"column":17}},"63":{"start":{"line":117,"column":16},"end":{"line":119,"column":17}},"64":{"start":{"line":120,"column":12},"end":{"line":123,"column":13}},"65":{"start":{"line":121,"column":16},"end":{"line":121,"column":37}},"66":{"start":{"line":122,"column":16},"end":{"line":122,"column":66}},"67":{"start":{"line":125,"column":8},"end":{"line":126,"column":43}},"68":{"start":{"line":126,"column":12},"end":{"line":126,"column":43}},"69":{"start":{"line":127,"column":8},"end":{"line":127,"column":73}},"70":{"start":{"line":129,"column":4},"end":{"line":132,"column":5}},"71":{"start":{"line":130,"column":8},"end":{"line":130,"column":65}},"72":{"start":{"line":133,"column":4},"end":{"line":136,"column":5}},"73":{"start":{"line":135,"column":8},"end":{"line":135,"column":66}},"74":{"start":{"line":138,"column":4},"end":{"line":218,"column":5}},"75":{"start":{"line":140,"column":8},"end":{"line":140,"column":45}},"76":{"start":{"line":141,"column":8},"end":{"line":141,"column":69}},"77":{"start":{"line":142,"column":8},"end":{"line":142,"column":28}},"78":{"start":{"line":143,"column":8},"end":{"line":143,"column":45}},"79":{"start":{"line":144,"column":8},"end":{"line":144,"column":47}},"80":{"start":{"line":145,"column":8},"end":{"line":151,"column":9}},"81":{"start":{"line":152,"column":8},"end":{"line":160,"column":9}},"82":{"start":{"line":153,"column":12},"end":{"line":159,"column":13}},"83":{"start":{"line":154,"column":16},"end":{"line":154,"column":46}},"84":{"start":{"line":156,"column":16},"end":{"line":156,"column":40}},"85":{"start":{"line":157,"column":16},"end":{"line":157,"column":43}},"86":{"start":{"line":158,"column":16},"end":{"line":158,"column":50}},"87":{"start":{"line":161,"column":8},"end":{"line":164,"column":9}},"88":{"start":{"line":162,"column":12},"end":{"line":162,"column":42}},"89":{"start":{"line":167,"column":8},"end":{"line":167,"column":29}},"90":{"start":{"line":168,"column":8},"end":{"line":168,"column":52}},"91":{"start":{"line":169,"column":8},"end":{"line":169,"column":75}},"92":{"start":{"line":170,"column":8},"end":{"line":170,"column":35}},"93":{"start":{"line":171,"column":8},"end":{"line":171,"column":38}},"94":{"start":{"line":172,"column":8},"end":{"line":173,"column":55}},"95":{"start":{"line":173,"column":12},"end":{"line":173,"column":55}},"96":{"start":{"line":174,"column":8},"end":{"line":174,"column":36}},"97":{"start":{"line":175,"column":8},"end":{"line":175,"column":115}},"98":{"start":{"line":176,"column":8},"end":{"line":215,"column":10}},"99":{"start":{"line":177,"column":12},"end":{"line":177,"column":92}},"100":{"start":{"line":178,"column":12},"end":{"line":178,"column":32}},"101":{"start":{"line":180,"column":12},"end":{"line":194,"column":13}},"102":{"start":{"line":182,"column":16},"end":{"line":190,"column":17}},"103":{"start":{"line":183,"column":20},"end":{"line":183,"column":66}},"104":{"start":{"line":185,"column":20},"end":{"line":185,"column":36}},"105":{"start":{"line":186,"column":20},"end":{"line":188,"column":21}},"106":{"start":{"line":187,"column":24},"end":{"line":187,"column":80}},"107":{"start":{"line":189,"column":20},"end":{"line":189,"column":33}},"108":{"start":{"line":195,"column":12},"end":{"line":199,"column":13}},"109":{"start":{"line":197,"column":16},"end":{"line":197,"column":58}},"110":{"start":{"line":198,"column":16},"end":{"line":198,"column":71}},"111":{"start":{"line":200,"column":12},"end":{"line":201,"column":79}},"112":{"start":{"line":201,"column":16},"end":{"line":201,"column":79}},"113":{"start":{"line":202,"column":12},"end":{"line":202,"column":69}},"114":{"start":{"line":203,"column":12},"end":{"line":203,"column":62}},"115":{"start":{"line":206,"column":12},"end":{"line":206,"column":91}},"116":{"start":{"line":207,"column":12},"end":{"line":208,"column":102}},"117":{"start":{"line":208,"column":16},"end":{"line":208,"column":102}},"118":{"start":{"line":209,"column":12},"end":{"line":211,"column":14}},"119":{"start":{"line":213,"column":12},"end":{"line":213,"column":62}},"120":{"start":{"line":216,"column":8},"end":{"line":217,"column":36}},"121":{"start":{"line":217,"column":12},"end":{"line":217,"column":36}},"122":{"start":{"line":220,"column":4},"end":{"line":226,"column":5}},"123":{"start":{"line":221,"column":8},"end":{"line":224,"column":9}},"124":{"start":{"line":222,"column":12},"end":{"line":222,"column":52}},"125":{"start":{"line":225,"column":8},"end":{"line":225,"column":35}},"126":{"start":{"line":228,"column":4},"end":{"line":246,"column":5}},"127":{"start":{"line":229,"column":8},"end":{"line":230,"column":24}},"128":{"start":{"line":230,"column":12},"end":{"line":230,"column":24}},"129":{"start":{"line":231,"column":8},"end":{"line":234,"column":9}},"130":{"start":{"line":232,"column":12},"end":{"line":232,"column":22}},"131":{"start":{"line":233,"column":12},"end":{"line":233,"column":41}},"132":{"start":{"line":235,"column":8},"end":{"line":239,"column":9}},"133":{"start":{"line":236,"column":12},"end":{"line":238,"column":13}},"134":{"start":{"line":237,"column":16},"end":{"line":237,"column":66}},"135":{"start":{"line":240,"column":8},"end":{"line":244,"column":9}},"136":{"start":{"line":241,"column":12},"end":{"line":243,"column":13}},"137":{"start":{"line":242,"column":16},"end":{"line":242,"column":74}},"138":{"start":{"line":249,"column":4},"end":{"line":292,"column":5}},"139":{"start":{"line":250,"column":8},"end":{"line":250,"column":52}},"140":{"start":{"line":251,"column":8},"end":{"line":256,"column":10}},"141":{"start":{"line":253,"column":12},"end":{"line":255,"column":13}},"142":{"start":{"line":254,"column":16},"end":{"line":254,"column":34}},"143":{"start":{"line":258,"column":8},"end":{"line":260,"column":9}},"144":{"start":{"line":259,"column":12},"end":{"line":259,"column":57}},"145":{"start":{"line":262,"column":8},"end":{"line":264,"column":9}},"146":{"start":{"line":263,"column":12},"end":{"line":263,"column":83}},"147":{"start":{"line":265,"column":8},"end":{"line":267,"column":9}},"148":{"start":{"line":266,"column":12},"end":{"line":266,"column":95}},"149":{"start":{"line":270,"column":8},"end":{"line":270,"column":43}},"150":{"start":{"line":271,"column":8},"end":{"line":271,"column":30}},"151":{"start":{"line":275,"column":8},"end":{"line":275,"column":37}},"152":{"start":{"line":276,"column":8},"end":{"line":276,"column":37}},"153":{"start":{"line":277,"column":8},"end":{"line":277,"column":36}},"154":{"start":{"line":278,"column":8},"end":{"line":278,"column":31}},"155":{"start":{"line":281,"column":8},"end":{"line":288,"column":9}},"156":{"start":{"line":282,"column":12},"end":{"line":283,"column":73}},"157":{"start":{"line":283,"column":16},"end":{"line":283,"column":73}},"158":{"start":{"line":285,"column":12},"end":{"line":287,"column":13}},"159":{"start":{"line":286,"column":16},"end":{"line":286,"column":36}},"160":{"start":{"line":289,"column":8},"end":{"line":289,"column":58}},"161":{"start":{"line":290,"column":8},"end":{"line":290,"column":48}},"162":{"start":{"line":291,"column":8},"end":{"line":291,"column":21}},"163":{"start":{"line":294,"column":4},"end":{"line":300,"column":5}},"164":{"start":{"line":295,"column":8},"end":{"line":295,"column":21}},"165":{"start":{"line":296,"column":8},"end":{"line":298,"column":9}},"166":{"start":{"line":297,"column":12},"end":{"line":297,"column":26}},"167":{"start":{"line":299,"column":8},"end":{"line":299,"column":19}},"168":{"start":{"line":302,"column":4},"end":{"line":311,"column":5}},"169":{"start":{"line":303,"column":8},"end":{"line":303,"column":35}},"170":{"start":{"line":304,"column":8},"end":{"line":304,"column":33}},"171":{"start":{"line":304,"column":18},"end":{"line":304,"column":33}},"172":{"start":{"line":306,"column":8},"end":{"line":310,"column":9}},"173":{"start":{"line":307,"column":13},"end":{"line":308,"column":51}},"174":{"start":{"line":308,"column":16},"end":{"line":308,"column":51}},"175":{"start":{"line":309,"column":13},"end":{"line":309,"column":45}},"176":{"start":{"line":313,"column":4},"end":{"line":324,"column":5}},"177":{"start":{"line":314,"column":8},"end":{"line":317,"column":9}},"178":{"start":{"line":315,"column":12},"end":{"line":315,"column":49}},"179":{"start":{"line":316,"column":12},"end":{"line":316,"column":19}},"180":{"start":{"line":318,"column":8},"end":{"line":318,"column":50}},"181":{"start":{"line":319,"column":8},"end":{"line":319,"column":73}},"182":{"start":{"line":320,"column":8},"end":{"line":322,"column":9}},"183":{"start":{"line":321,"column":12},"end":{"line":321,"column":62}},"184":{"start":{"line":323,"column":8},"end":{"line":323,"column":41}},"185":{"start":{"line":325,"column":4},"end":{"line":330,"column":5}},"186":{"start":{"line":326,"column":8},"end":{"line":327,"column":55}},"187":{"start":{"line":327,"column":12},"end":{"line":327,"column":55}},"188":{"start":{"line":328,"column":8},"end":{"line":328,"column":31}},"189":{"start":{"line":329,"column":8},"end":{"line":329,"column":42}},"190":{"start":{"line":332,"column":5},"end":{"line":342,"column":5}},"191":{"start":{"line":333,"column":9},"end":{"line":333,"column":36}},"192":{"start":{"line":333,"column":19},"end":{"line":333,"column":36}},"193":{"start":{"line":334,"column":10},"end":{"line":334,"column":41}},"194":{"start":{"line":335,"column":10},"end":{"line":335,"column":25}},"195":{"start":{"line":336,"column":10},"end":{"line":340,"column":11}},"196":{"start":{"line":337,"column":12},"end":{"line":339,"column":31}},"197":{"start":{"line":341,"column":10},"end":{"line":341,"column":21}},"198":{"start":{"line":343,"column":4},"end":{"line":356,"column":5}},"199":{"start":{"line":344,"column":4},"end":{"line":344,"column":48}},"200":{"start":{"line":344,"column":41},"end":{"line":344,"column":48}},"201":{"start":{"line":345,"column":5},"end":{"line":345,"column":36}},"202":{"start":{"line":346,"column":6},"end":{"line":346,"column":21}},"203":{"start":{"line":347,"column":6},"end":{"line":355,"column":7}},"204":{"start":{"line":348,"column":10},"end":{"line":352,"column":11}},"205":{"start":{"line":350,"column":14},"end":{"line":350,"column":36}},"206":{"start":{"line":351,"column":14},"end":{"line":351,"column":21}},"207":{"start":{"line":353,"column":10},"end":{"line":353,"column":48}},"208":{"start":{"line":354,"column":10},"end":{"line":354,"column":37}},"209":{"start":{"line":358,"column":4},"end":{"line":371,"column":5}},"210":{"start":{"line":360,"column":8},"end":{"line":361,"column":24}},"211":{"start":{"line":361,"column":12},"end":{"line":361,"column":24}},"212":{"start":{"line":362,"column":8},"end":{"line":362,"column":36}},"213":{"start":{"line":363,"column":8},"end":{"line":363,"column":18}},"214":{"start":{"line":364,"column":8},"end":{"line":369,"column":9}},"215":{"start":{"line":365,"column":12},"end":{"line":368,"column":13}},"216":{"start":{"line":366,"column":16},"end":{"line":366,"column":57}},"217":{"start":{"line":367,"column":16},"end":{"line":367,"column":87}},"218":{"start":{"line":370,"column":8},"end":{"line":370,"column":20}},"219":{"start":{"line":373,"column":4},"end":{"line":375,"column":5}},"220":{"start":{"line":374,"column":8},"end":{"line":374,"column":14}},"221":{"start":{"line":376,"column":4},"end":{"line":378,"column":5}},"222":{"start":{"line":377,"column":8},"end":{"line":377,"column":14}}},"branchMap":{"1":{"line":6,"type":"if","locations":[{"start":{"line":6,"column":8},"end":{"line":6,"column":8}},{"start":{"line":6,"column":8},"end":{"line":6,"column":8}}]},"2":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":20},"end":{"line":13,"column":37}},{"start":{"line":13,"column":41},"end":{"line":13,"column":47}}]},"3":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":23,"column":4}},{"start":{"line":23,"column":4},"end":{"line":23,"column":4}}]},"4":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":12},"end":{"line":64,"column":12}},{"start":{"line":64,"column":12},"end":{"line":64,"column":12}}]},"5":{"line":64,"type":"binary-expr","locations":[{"start":{"line":64,"column":15},"end":{"line":64,"column":43}},{"start":{"line":64,"column":47},"end":{"line":64,"column":62}}]},"6":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":16},"end":{"line":71,"column":16}},{"start":{"line":71,"column":16},"end":{"line":71,"column":16}}]},"7":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":20},"end":{"line":74,"column":20}},{"start":{"line":74,"column":20},"end":{"line":74,"column":20}}]},"8":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":12},"end":{"line":82,"column":12}},{"start":{"line":82,"column":12},"end":{"line":82,"column":12}}]},"9":{"line":84,"type":"binary-expr","locations":[{"start":{"line":84,"column":33},"end":{"line":84,"column":46}},{"start":{"line":84,"column":50},"end":{"line":84,"column":61}}]},"10":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":8},"end":{"line":94,"column":8}},{"start":{"line":94,"column":8},"end":{"line":94,"column":8}}]},"11":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":12},"end":{"line":94,"column":16}},{"start":{"line":94,"column":20},"end":{"line":94,"column":42}}]},"12":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":8},"end":{"line":96,"column":8}},{"start":{"line":96,"column":8},"end":{"line":96,"column":8}}]},"13":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":12},"end":{"line":96,"column":15}},{"start":{"line":96,"column":19},"end":{"line":96,"column":29}}]},"14":{"line":104,"type":"if","locations":[{"start":{"line":104,"column":16},"end":{"line":104,"column":16}},{"start":{"line":104,"column":16},"end":{"line":104,"column":16}}]},"15":{"line":115,"type":"if","locations":[{"start":{"line":115,"column":8},"end":{"line":115,"column":8}},{"start":{"line":115,"column":8},"end":{"line":115,"column":8}}]},"16":{"line":116,"type":"if","locations":[{"start":{"line":116,"column":12},"end":{"line":116,"column":12}},{"start":{"line":116,"column":12},"end":{"line":116,"column":12}}]},"17":{"line":122,"type":"binary-expr","locations":[{"start":{"line":122,"column":23},"end":{"line":122,"column":35}},{"start":{"line":122,"column":39},"end":{"line":122,"column":65}}]},"18":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":8},"end":{"line":125,"column":8}},{"start":{"line":125,"column":8},"end":{"line":125,"column":8}}]},"19":{"line":127,"type":"cond-expr","locations":[{"start":{"line":127,"column":23},"end":{"line":127,"column":45}},{"start":{"line":127,"column":48},"end":{"line":127,"column":72}}]},"20":{"line":152,"type":"binary-expr","locations":[{"start":{"line":152,"column":24},"end":{"line":152,"column":34}},{"start":{"line":152,"column":38},"end":{"line":152,"column":59}}]},"21":{"line":153,"type":"if","locations":[{"start":{"line":153,"column":12},"end":{"line":153,"column":12}},{"start":{"line":153,"column":12},"end":{"line":153,"column":12}}]},"22":{"line":161,"type":"if","locations":[{"start":{"line":161,"column":8},"end":{"line":161,"column":8}},{"start":{"line":161,"column":8},"end":{"line":161,"column":8}}]},"23":{"line":172,"type":"if","locations":[{"start":{"line":172,"column":8},"end":{"line":172,"column":8}},{"start":{"line":172,"column":8},"end":{"line":172,"column":8}}]},"24":{"line":172,"type":"binary-expr","locations":[{"start":{"line":172,"column":12},"end":{"line":172,"column":17}},{"start":{"line":172,"column":21},"end":{"line":172,"column":26}}]},"25":{"line":175,"type":"binary-expr","locations":[{"start":{"line":175,"column":29},"end":{"line":175,"column":51}},{"start":{"line":175,"column":55},"end":{"line":175,"column":65}}]},"26":{"line":180,"type":"if","locations":[{"start":{"line":180,"column":12},"end":{"line":180,"column":12}},{"start":{"line":180,"column":12},"end":{"line":180,"column":12}}]},"27":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":16},"end":{"line":180,"column":23}},{"start":{"line":180,"column":27},"end":{"line":180,"column":41}},{"start":{"line":180,"column":46},"end":{"line":180,"column":73}},{"start":{"line":180,"column":77},"end":{"line":180,"column":105}}]},"28":{"line":182,"type":"if","locations":[{"start":{"line":182,"column":16},"end":{"line":182,"column":16}},{"start":{"line":182,"column":16},"end":{"line":182,"column":16}}]},"29":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":12},"end":{"line":195,"column":12}},{"start":{"line":195,"column":12},"end":{"line":195,"column":12}}]},"30":{"line":195,"type":"binary-expr","locations":[{"start":{"line":195,"column":16},"end":{"line":195,"column":23}},{"start":{"line":195,"column":27},"end":{"line":195,"column":43}},{"start":{"line":195,"column":47},"end":{"line":195,"column":56}}]},"31":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":12},"end":{"line":200,"column":12}},{"start":{"line":200,"column":12},"end":{"line":200,"column":12}}]},"32":{"line":201,"type":"binary-expr","locations":[{"start":{"line":201,"column":36},"end":{"line":201,"column":39}},{"start":{"line":201,"column":43},"end":{"line":201,"column":57}}]},"33":{"line":202,"type":"cond-expr","locations":[{"start":{"line":202,"column":41},"end":{"line":202,"column":58}},{"start":{"line":202,"column":61},"end":{"line":202,"column":68}}]},"34":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":12},"end":{"line":207,"column":12}},{"start":{"line":207,"column":12},"end":{"line":207,"column":12}}]},"35":{"line":209,"type":"cond-expr","locations":[{"start":{"line":209,"column":52},"end":{"line":209,"column":69}},{"start":{"line":209,"column":72},"end":{"line":211,"column":13}}]},"36":{"line":209,"type":"binary-expr","locations":[{"start":{"line":209,"column":21},"end":{"line":209,"column":28}},{"start":{"line":209,"column":32},"end":{"line":209,"column":49}}]},"37":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":8},"end":{"line":216,"column":8}},{"start":{"line":216,"column":8},"end":{"line":216,"column":8}}]},"38":{"line":221,"type":"if","locations":[{"start":{"line":221,"column":8},"end":{"line":221,"column":8}},{"start":{"line":221,"column":8},"end":{"line":221,"column":8}}]},"39":{"line":221,"type":"binary-expr","locations":[{"start":{"line":221,"column":12},"end":{"line":221,"column":20}},{"start":{"line":221,"column":24},"end":{"line":221,"column":36}},{"start":{"line":221,"column":40},"end":{"line":221,"column":67}}]},"40":{"line":222,"type":"binary-expr","locations":[{"start":{"line":222,"column":20},"end":{"line":222,"column":42}},{"start":{"line":222,"column":46},"end":{"line":222,"column":51}}]},"41":{"line":229,"type":"if","locations":[{"start":{"line":229,"column":8},"end":{"line":229,"column":8}},{"start":{"line":229,"column":8},"end":{"line":229,"column":8}}]},"42":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":8},"end":{"line":231,"column":8}},{"start":{"line":231,"column":8},"end":{"line":231,"column":8}}]},"43":{"line":231,"type":"binary-expr","locations":[{"start":{"line":231,"column":13},"end":{"line":231,"column":38}},{"start":{"line":231,"column":42},"end":{"line":231,"column":71}}]},"44":{"line":235,"type":"if","locations":[{"start":{"line":235,"column":8},"end":{"line":235,"column":8}},{"start":{"line":235,"column":8},"end":{"line":235,"column":8}}]},"45":{"line":240,"type":"if","locations":[{"start":{"line":240,"column":8},"end":{"line":240,"column":8}},{"start":{"line":240,"column":8},"end":{"line":240,"column":8}}]},"46":{"line":282,"type":"if","locations":[{"start":{"line":282,"column":12},"end":{"line":282,"column":12}},{"start":{"line":282,"column":12},"end":{"line":282,"column":12}}]},"47":{"line":289,"type":"binary-expr","locations":[{"start":{"line":289,"column":31},"end":{"line":289,"column":51}},{"start":{"line":289,"column":55},"end":{"line":289,"column":57}}]},"48":{"line":304,"type":"if","locations":[{"start":{"line":304,"column":8},"end":{"line":304,"column":8}},{"start":{"line":304,"column":8},"end":{"line":304,"column":8}}]},"49":{"line":306,"type":"if","locations":[{"start":{"line":306,"column":8},"end":{"line":306,"column":8}},{"start":{"line":306,"column":8},"end":{"line":306,"column":8}}]},"50":{"line":307,"type":"if","locations":[{"start":{"line":307,"column":13},"end":{"line":307,"column":13}},{"start":{"line":307,"column":13},"end":{"line":307,"column":13}}]},"51":{"line":314,"type":"if","locations":[{"start":{"line":314,"column":8},"end":{"line":314,"column":8}},{"start":{"line":314,"column":8},"end":{"line":314,"column":8}}]},"52":{"line":326,"type":"if","locations":[{"start":{"line":326,"column":8},"end":{"line":326,"column":8}},{"start":{"line":326,"column":8},"end":{"line":326,"column":8}}]},"53":{"line":333,"type":"if","locations":[{"start":{"line":333,"column":9},"end":{"line":333,"column":9}},{"start":{"line":333,"column":9},"end":{"line":333,"column":9}}]},"54":{"line":337,"type":"cond-expr","locations":[{"start":{"line":338,"column":16},"end":{"line":338,"column":25}},{"start":{"line":339,"column":16},"end":{"line":339,"column":30}}]},"55":{"line":337,"type":"binary-expr","locations":[{"start":{"line":337,"column":18},"end":{"line":337,"column":35}},{"start":{"line":337,"column":39},"end":{"line":337,"column":51}}]},"56":{"line":344,"type":"if","locations":[{"start":{"line":344,"column":4},"end":{"line":344,"column":4}},{"start":{"line":344,"column":4},"end":{"line":344,"column":4}}]},"57":{"line":344,"type":"binary-expr","locations":[{"start":{"line":344,"column":7},"end":{"line":344,"column":12}},{"start":{"line":344,"column":17},"end":{"line":344,"column":39}}]},"58":{"line":348,"type":"if","locations":[{"start":{"line":348,"column":10},"end":{"line":348,"column":10}},{"start":{"line":348,"column":10},"end":{"line":348,"column":10}}]},"59":{"line":353,"type":"binary-expr","locations":[{"start":{"line":353,"column":27},"end":{"line":353,"column":41}},{"start":{"line":353,"column":45},"end":{"line":353,"column":47}}]},"60":{"line":354,"type":"binary-expr","locations":[{"start":{"line":354,"column":16},"end":{"line":354,"column":30}},{"start":{"line":354,"column":34},"end":{"line":354,"column":36}}]},"61":{"line":360,"type":"if","locations":[{"start":{"line":360,"column":8},"end":{"line":360,"column":8}},{"start":{"line":360,"column":8},"end":{"line":360,"column":8}}]},"62":{"line":365,"type":"if","locations":[{"start":{"line":365,"column":12},"end":{"line":365,"column":12}},{"start":{"line":365,"column":12},"end":{"line":365,"column":12}}]},"63":{"line":365,"type":"binary-expr","locations":[{"start":{"line":365,"column":16},"end":{"line":365,"column":24}},{"start":{"line":365,"column":28},"end":{"line":365,"column":47}}]},"64":{"line":366,"type":"cond-expr","locations":[{"start":{"line":366,"column":39},"end":{"line":366,"column":49}},{"start":{"line":366,"column":52},"end":{"line":366,"column":56}}]},"65":{"line":366,"type":"binary-expr","locations":[{"start":{"line":366,"column":23},"end":{"line":366,"column":27}},{"start":{"line":366,"column":31},"end":{"line":366,"column":36}}]}},"code":["/** Angoose Client Core */","/**  depdnencies: http, Q */","(function BootstrapAngoose() {","","    AngooseClient = function(name) {","        if ( typeof $anget != 'undefined') {","            return $anget(camelcase(name));","        }","        return AngooseClient.getClass(name)","    };","","    var logger = getLogger();","    logger.setLevel(config('logging') || 'INFO');","","    AngooseClient.getClass = getClass;","    AngooseClient.model = getClass;","    AngooseClient.modelNames = modelNames;","    AngooseClient.init = init;","    AngooseClient.module = getClass;","    AngooseClient.config = config;","    AngooseClient.logger = logger;","","    if ( typeof (angoose) == 'undefined') {","        angoose = AngooseClient;","    }","","    logger.info(\"Bootstraping angoose-client\");","","    function getLogger() {","        var levels = {","            TRACE : {","                v : 1,","                name : \"TRACE\"","            },","            DEBUG : {","                v : 2,","                name : \"DEBUG\"","            },","            INFO : {","                v : 3,","                name : \"INFO\"","            },","            WARN : {","                v : 4,","                name : \"WARN\"","            },","            ERROR : {","                v : 5,","                name : \"ERROR\"","            },","            LOG : {","                v : 6,","                name : \"LOG\"","            }","        };","","        var ClientLogger = {","            levels : levels,","            level : levels.INFO","        }","        var methods = \"log,info,trace,debug,warn,error\".split(\",\");","        for(var i=0; i < methods.length; i++){ ","            var method = methods[i];","            if(typeof(console)!='undefined' && console[method])","                ClientLogger[method]= getLoggingFunc(method);","            else","                ClientLogger[method]=function(){}","        };","        function getLoggingFunc(method){","            return function(){","                if(ClientLogger.level.v <=  levels[method.toUpperCase()].v ){","                    var args = []; args.push( method.toUpperCase() + \":\");","                    for(var i =0;i<arguments.length;i++) args.push(arguments[i]);","                    if(method == 'trace') ","                        console.debug.apply(console,args);","                    else","                        console[method].apply(console,args)","                }","            }","        }","        ClientLogger.setLevel=function(level){","            if(!level) return; ","            level = level.toUpperCase();","            ClientLogger.level = levels[level] || levels.INFO;","        }","        return ClientLogger;","    }","","    var counterBase = Math.round(Math.random() * 10000) * 10000;","    var nextCounter = function() {","        return counterBase++;","    }","    var encode$ = function(obj) {","        if (!obj || typeof obj != 'object')","            return obj;","        if (obj && obj.length) {","            for (var i = 0; i < obj.length; i++) {","                obj[i] = encode$(obj[i]);","            };","        } else {","            //logger.debug(\"Type\", (typeof obj), obj)","            for (var key in obj) {","                var val = encode$(obj[key]);","                if (key.indexOf('$') == 0) {","                    delete obj[key];","                    key = \"_mongo_\" + key;","                }","                obj[key] = val;","            }","        }","        return obj;","    }","    var autoThrower = null;","    var handleReturn = function(retval, callback, deferred, error) {","        if (error) {","            if ( typeof (error) !== 'object')","                error = {","                    message : error","                }","            error.toString = function() {","                this.consumed = true;","                return this.message || Object.toString.call(this);","            }","        }","        if (callback)","            return callback(error, retval);","        return error ? deferred.reject(error) : deferred.resolve(retval);","    }","    function staticInvoker(modelClass, methodName, methodArgs) {","        return invoker(modelClass, methodName, methodArgs, null);","","    };","    function instanceInvoker(modelClass, model, methodName, methodArgs) {","        //var modelClass = getClass(model.classname$)","        return invoker(modelClass, methodName, methodArgs, model);","    }","","    function invoker(modelClass, methodName, methodArgs, modelInstance) {","        // modelInstance can be null, everything else is required.","        var modelName = modelClass.modelName;","        logger.trace(\"invoker: \", modelName, methodName, methodArgs);","        var callback = null;","        var isStatic = modelInstance == null;","        var depends = modelClass.dependencies$;","        var data = {","            method : methodName,","            seqnumber : nextCounter(),","            args : [],","            clazz : modelName,","            static : isStatic","        }","        for (var i = 0; methodArgs && methodArgs.length > i; i++) {","            if ( typeof methodArgs[i] != 'function')","                data.args.push(methodArgs[i]);","            else {","                callback = methodArgs[i]","                data.args.push(\"$callback\")","                logger.debug(\"Callback provided\");","            }","        }","        if (!isStatic) {","            data.instance = modelInstance;","            // including model instance data for instance methods","        }","","        // angular http ignores all key names starting with $, this will break the mongo query","        data = encode$(data);","        var callname = modelName + \".\" + methodName;","        logger.debug(\"****** BEGIN RMI #\", data.seqnumber, callname, data);","        var http = depends['http'];","        var theQ = depends['promise'];","        if (!http || !theQ)","            throw \"Missing http and/or Q dependencies\";","        var deferred = theQ.defer();","        var ret = http.post((getConfigs().urlPrefix || '/angoose') + \"/rmi/\" + modelName + \"/\" + methodName, data);","        ret.done(function(retdata) {","            logger.debug(\"====== END RMI #\", data.seqnumber, callname, \" Result:\", retdata);","            var val = undefined;","            //@todo construct object, ret value types:  1) model data, 2) list of model data, 3) String, 4) object","            if (retdata && retdata.retval && (retdata.datatype == 'model' || retdata.datatype == 'models')) {","","                if (retdata.datatype == 'model') {","                    val = newInstance(modelClass, retdata.retval);","                } else {","                    var models = [];","                    for (var i = 0; i < retdata.retval.length; i++) {","                        models.push(newInstance(modelClass, retdata.retval[i]));","                    }","                    val = models;","                }","                //return handleReturn(val, callback, deferred);","                //","                //return deferred.resolve(models);","            }","            if (retdata && retdata.instance && !isStatic) {","                // state has been changed on the server side","                modelInstance.mergeData(retdata.instance);","                logger.trace(\"Merged server side data\", modelInstance);","            }","            if (retdata.success)","                return handleReturn(val || retdata.retval, callback, deferred);","            var ex = retdata.exception ? retdata.exception : retdata;","            return handleReturn(null, callback, deferred, ex);","            //deferred.reject(ex)","        }, function(errdata) {","            logger.debug(\"====== END RMI #\", data.seqnumber, callname, \" Error:\", errdata);","            if (!errdata)","                return handleReturn(errdata, callback, deferred, \"Unexpected server error occurred.\");","            var ex = errdata && errdata.exception ? errdata.exception : {","                message : errdata","            };","            //var ex = errdata.exception?  (errdata.exception.message || errdata.exception.value) : errdata;","            return handleReturn(null, callback, deferred, ex);","            //return deferred.reject(ex);","        })","        if (!callback)","            return deferred.promise;","    }","","    function newInstance(clazz, jsonData) {","        if (jsonData && jsonData.__t && jsonData.__t !== clazz.name) {","            clazz = getClass(jsonData.__t) || clazz;","            //@todo: __t handling is not long term solution","        }","        return new clazz(jsonData);","    }","","    function createProxy(module, funcName, func, funcType) {","        if ( typeof (func) == 'function')","            return func;","        if ( typeof (func) == \"string\" && func.indexOf(\"function\") == 0) {","            var vname;","            return eval(\"vname=\" + func);","        }","        if (funcType == 'static') {","            return function proxy() {","                return staticInvoker(module, funcName, arguments);","            }","        };","        if (funcType == 'instance') {","            return function proxy() {","                return instanceInvoker(module, this, funcName, arguments);","            }","        };","","    }","","    /** compile the model based on the server side schema */","    function compile(modelName, schema, dependencies) {","        logger.trace(\"Compiling schema \", modelName)","        var model = function AngooseModule(data) {","            //@todo proper clone","            for (var i in data) {","                this[i] = data[i];","            }","        };","","        model.toString = function() {","            return \"PROXY: function \" + modelName + \"()\";","        }","        // static methods","        for (var name in schema.statics) {","            model[name] = createProxy(model, name, schema.statics[name], 'static');","        }","        for (var name in schema.methods) {","            model.prototype[name] = createProxy(model, name, schema.methods[name], 'instance');","        }","","        //model.angoose$ = staticInvoker;","        model.dependencies$ = dependencies;","        model.schema = schema;","        //model.prototype.angoose$ = instanceInvoker;","        //model.prototype.classname$ = modelName;","        //model.prototype.schema$ = schema;","        model.prototype.get = getter;","        model.prototype.set = setter;","        model.modelName = modelName; // this is to be compatible with backend mongoose","        model.name = modelName; ","","        // merge data into this instance","        model.prototype.mergeData = function(source) {","            if ( typeof source != \"object\")","                throw \"Invalid source object, must be an model instance\";","            //@todo: proper implementation","            for (var i in source) {","                this[i] = source[i];","            }","        }","        AngooseClient.models = AngooseClient.models || {};","        AngooseClient.models[modelName] = model;","        return model;","    };","","    function modelNames() {","        var ret = [];","        for (var key in getSchemas()) {","            ret.push(key);","        }","        return ret;","    };","","    function config(path, val) {","        var options = getConfigs();","        if(!path) return options; /**@todo: probably a deep copy */","        ","        if(typeof (path) === 'string'){","             if(val === undefined)","                return  getter.call(options, path);","             setter.call(options, path, val);","        }","    }","","    function init(dependencies) {","        if (AngooseClient.initialized) {","            logger.debug(\"init has been called\");","            return;","        }","        AngooseClient.dependencies = dependencies;","        logger.debug(\"Creating client side proxies for backend modules\");","        for (var mName in getSchemas()) {","            compile(mName, getSchemas()[mName], dependencies);","        }","        AngooseClient.initialized = true;","    };","    function getClass(name) {","        if (!AngooseClient.initialized)","            throw \"Angoose models not initialized yet\";","        name = camelcase(name);","        return AngooseClient.models[name];","    };","    ","     function getter(path) {","         if(!path) return undefined;","          var   pieces = path.split('.');","          var obj = this;","          for (var i = 0, l = pieces.length; i < l; i++) {","            obj = undefined === obj || null === obj","              ? undefined","              : obj[pieces[i]];","          }","          return obj;","    };","    function  setter(path, val){","    if(!path  || typeof(path)!='string') return;","     var   pieces = path.split('.');","      var obj = this;","      for (var i = 0, len = pieces.length; i < len; i++) {","          if(i+1  == len ) // last one","          {","              obj[ pieces[i]] = val;","              return;","          }","          obj[pieces[i]] = obj[pieces[i]] || {};","          obj = obj[pieces[i]] || {};","      }","    }","","    function camelcase(name, space) {","        // converting client-user to ClientUser","        if (!name)","            return name;","        var parts = name.split(\"-\");","        name = \"\";","        for (var i = 0; i < parts.length; i++) {","            if (parts[i] && parts[i].length > 0) {","                name = name && space ? name + \" \" : name;","                name += parts[i].substring(0, 1).toUpperCase() + parts[i].substring(1);","            }","        }","        return name;","    }","","    function getConfigs() {","        return /**CONFIG_PLACEHOLDER*/","    };","    function getSchemas() {","        return /**SCHEMA_PLACEHOLDER*/","    };","})();","",""],"l":{"3":1,"5":1,"6":0,"7":0,"9":0,"12":1,"13":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"23":1,"24":1,"27":1,"29":1,"30":1,"57":1,"61":1,"62":1,"63":6,"64":6,"65":5,"67":1,"69":1,"70":5,"71":3,"72":3,"73":3,"74":3,"75":0,"77":3,"81":1,"82":1,"83":1,"84":1,"86":1,"89":1,"90":1,"91":0,"93":1,"94":0,"95":0,"96":0,"97":0,"98":0,"102":0,"103":0,"104":0,"105":0,"106":0,"108":0,"111":0,"113":1,"114":1,"115":0,"116":0,"117":0,"120":0,"121":0,"122":0,"125":0,"126":0,"127":0,"129":1,"130":0,"133":1,"135":0,"138":1,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"152":0,"153":0,"154":0,"156":0,"157":0,"158":0,"161":0,"162":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"180":0,"182":0,"183":0,"185":0,"186":0,"187":0,"189":0,"195":0,"197":0,"198":0,"200":0,"201":0,"202":0,"203":0,"206":0,"207":0,"208":0,"209":0,"213":0,"216":0,"217":0,"220":1,"221":0,"222":0,"225":0,"228":1,"229":0,"230":0,"231":0,"232":0,"233":0,"235":0,"236":0,"237":0,"240":0,"241":0,"242":0,"249":1,"250":0,"251":0,"253":0,"254":0,"258":0,"259":0,"262":0,"263":0,"265":0,"266":0,"270":0,"271":0,"275":0,"276":0,"277":0,"278":0,"281":0,"282":0,"283":0,"285":0,"286":0,"289":0,"290":0,"291":0,"294":1,"295":0,"296":0,"297":0,"299":0,"302":1,"303":1,"304":1,"306":1,"307":1,"308":1,"309":0,"313":1,"314":0,"315":0,"316":0,"318":0,"319":0,"320":0,"321":0,"323":0,"325":1,"326":0,"327":0,"328":0,"329":0,"332":1,"333":1,"334":1,"335":1,"336":1,"337":1,"341":1,"343":1,"344":0,"345":0,"346":0,"347":0,"348":0,"350":0,"351":0,"353":0,"354":0,"358":1,"360":0,"361":0,"362":0,"363":0,"364":0,"365":0,"366":0,"367":0,"370":0,"373":1,"374":1,"376":1,"377":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/client/angoose-jquery.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/client/angoose-jquery.js","s":{"1":1,"2":1,"3":0,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":1,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":1,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":1,"130":0,"131":1,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":1,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":1,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":1,"162":0,"163":1,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":1,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":1,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":1,"193":0,"194":0,"195":0,"196":0,"197":1,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":1,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":1,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":1,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"278":0,"279":0,"280":0,"281":0,"282":0,"283":0,"284":0,"285":0,"286":0,"287":0,"288":0,"289":0,"290":0,"291":1,"292":0,"293":0,"294":0,"295":0,"296":0,"297":0,"298":1,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"305":0,"306":0,"307":0,"308":0,"309":0,"310":0,"311":0,"312":0,"313":0,"314":0,"315":0,"316":0,"317":0,"318":0,"319":0,"320":0,"321":0,"322":0,"323":0,"324":0,"325":0,"326":0,"327":0,"328":0,"329":0,"330":0,"331":0,"332":1,"333":0,"334":0,"335":0,"336":1,"337":0,"338":0,"339":0,"340":0,"341":0,"342":0,"343":1,"344":0,"345":0,"346":0,"347":0,"348":0,"349":0,"350":0,"351":0,"352":0,"353":0,"354":0,"355":0,"356":0,"357":0,"358":0,"359":0,"360":0,"361":0,"362":0,"363":0,"364":0,"365":0,"366":0,"367":0,"368":1,"369":0,"370":0,"371":0,"372":0,"373":0,"374":0,"375":0,"376":0,"377":0,"378":0,"379":0,"380":0,"381":1,"382":0,"383":0,"384":0,"385":0,"386":0,"387":0,"388":1,"389":0,"390":0,"391":1,"392":0,"393":0,"394":1,"395":0,"396":0,"397":0,"398":0,"399":1,"400":0,"401":0,"402":0,"403":0,"404":1,"405":0,"406":0,"407":0,"408":0,"409":0,"410":0,"411":0,"412":1,"413":0,"414":0,"415":0,"416":1,"417":0,"418":0,"419":0,"420":1,"421":0,"422":0,"423":0,"424":0,"425":0,"426":0,"427":0,"428":1,"429":0,"430":0,"431":0,"432":0,"433":0,"434":0,"435":0,"436":1,"437":0,"438":0,"439":0,"440":0,"441":0,"442":0,"443":0,"444":0,"445":0,"446":0,"447":0,"448":0,"449":0,"450":0,"451":0,"452":0,"453":1,"454":0,"455":0,"456":0,"457":0,"458":0,"459":0,"460":0,"461":0,"462":0,"463":1,"464":0,"465":0,"466":0,"467":0,"468":0,"469":0,"470":0,"471":0,"472":0,"473":0,"474":0,"475":1,"476":0,"477":0,"478":0,"479":0,"480":0,"481":0,"482":0,"483":1,"484":0,"485":0,"486":0,"487":0,"488":1,"489":0,"490":0,"491":0,"492":0,"493":0,"494":1,"495":0,"496":1,"497":0,"498":0,"499":0,"500":0,"501":0,"502":0,"503":0,"504":0,"505":0,"506":0,"507":0,"508":0,"509":0,"510":0,"511":0,"512":0,"513":0,"514":0,"515":0,"516":1,"517":0,"518":0,"519":1,"520":0,"521":0,"522":1,"523":0,"524":0,"525":0,"526":0,"527":1,"528":0,"529":0,"530":0,"531":0,"532":0,"533":0,"534":0,"535":0,"536":0,"537":0,"538":0,"539":0,"540":0,"541":0,"542":0,"543":0,"544":0,"545":0,"546":0,"547":0,"548":0,"549":0,"550":0,"551":0,"552":0,"553":0,"554":0,"555":0,"556":0,"557":0,"558":0,"559":0,"560":0,"561":0,"562":0,"563":0,"564":0,"565":0,"566":0,"567":0,"568":0,"569":0,"570":0,"571":0,"572":0,"573":0,"574":0,"575":0,"576":0,"577":0,"578":1,"579":0,"580":0,"581":0,"582":0,"583":0,"584":0,"585":0,"586":0,"587":0,"588":0,"589":0,"590":0,"591":0,"592":0,"593":0,"594":0,"595":0,"596":0,"597":0,"598":1,"599":0,"600":0,"601":0,"602":0,"603":0,"604":0,"605":0,"606":0,"607":1,"608":0,"609":0,"610":0,"611":0,"612":0,"613":1,"614":0,"615":0,"616":0,"617":0,"618":0,"619":0,"620":0,"621":1,"622":0,"623":0,"624":0,"625":0,"626":0,"627":0,"628":0,"629":0,"630":0,"631":0,"632":0,"633":0,"634":0,"635":0,"636":0,"637":0,"638":0,"639":0,"640":0,"641":0,"642":0,"643":0,"644":0,"645":0,"646":0,"647":0,"648":0,"649":0,"650":0,"651":0,"652":0,"653":0,"654":0,"655":0,"656":0,"657":0,"658":0,"659":0,"660":0,"661":0,"662":0,"663":0,"664":0,"665":0,"666":0,"667":0,"668":0,"669":0,"670":0,"671":0,"672":0,"673":0,"674":0,"675":0,"676":0,"677":0,"678":0,"679":0,"680":0,"681":0,"682":0,"683":0,"684":0,"685":0,"686":0,"687":0,"688":0,"689":0,"690":0,"691":0,"692":0,"693":0,"694":0,"695":0,"696":0,"697":0,"698":0,"699":0,"700":0,"701":0,"702":0,"703":0,"704":0,"705":1,"706":0,"707":0,"708":0,"709":0,"710":0,"711":0,"712":0,"713":0,"714":0,"715":0,"716":0,"717":0,"718":0,"719":0,"720":0,"721":0,"722":0,"723":0,"724":0,"725":0,"726":0,"727":0,"728":0,"729":0,"730":0,"731":0,"732":0,"733":0,"734":1,"735":0,"736":0,"737":0,"738":0,"739":0,"740":0,"741":0,"742":0,"743":0,"744":0,"745":0},"b":{"1":[0,1],"2":[1,0],"3":[1,1],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0,0,0,0,0],"34":[0,0],"35":[0,0],"36":[0,0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0],"42":[0,0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0],"71":[0,0],"72":[0,0],"73":[0,0],"74":[0,0],"75":[0,0],"76":[0,0],"77":[0,0],"78":[0,0],"79":[0,0],"80":[0,0],"81":[0,0],"82":[0,0],"83":[0,0,0],"84":[0,0],"85":[0,0],"86":[0,0],"87":[0,0],"88":[0,0],"89":[0,0,0],"90":[0,0],"91":[0,0],"92":[0,0],"93":[0,0],"94":[0,0],"95":[0,0],"96":[0,0],"97":[0,0],"98":[0,0],"99":[0,0],"100":[0,0],"101":[0,0],"102":[0,0],"103":[0,0],"104":[0,0],"105":[0,0],"106":[0,0],"107":[0,0],"108":[0,0],"109":[0,0],"110":[0,0],"111":[0,0],"112":[0,0],"113":[0,0,0],"114":[0,0],"115":[0,0,0],"116":[0,0],"117":[0,0],"118":[0,0],"119":[0,0]},"f":{"1":1,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0},"fnMap":{"1":{"name":"angoose_jquery_adapater","line":3,"loc":{"start":{"line":3,"column":0},"end":{"line":3,"column":34}}},"2":{"name":"ajaxHttpWrapper","line":15,"loc":{"start":{"line":15,"column":5},"end":{"line":15,"column":32}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":19},"end":{"line":17,"column":29}}},"4":{"name":"(anonymous_4)","line":29,"loc":{"start":{"line":29,"column":20},"end":{"line":29,"column":54}}},"5":{"name":"(anonymous_5)","line":31,"loc":{"start":{"line":31,"column":20},"end":{"line":31,"column":53}}},"6":{"name":"createQ","line":43,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":19}}},"7":{"name":"(anonymous_7)","line":61,"loc":{"start":{"line":61,"column":11},"end":{"line":61,"column":23}}},"8":{"name":"(anonymous_8)","line":65,"loc":{"start":{"line":65,"column":15},"end":{"line":65,"column":27}}},"9":{"name":"flush","line":73,"loc":{"start":{"line":73,"column":4},"end":{"line":73,"column":21}}},"10":{"name":"(anonymous_10)","line":111,"loc":{"start":{"line":111,"column":31},"end":{"line":111,"column":42}}},"11":{"name":"(anonymous_11)","line":125,"loc":{"start":{"line":125,"column":15},"end":{"line":125,"column":31}}},"12":{"name":"(anonymous_12)","line":143,"loc":{"start":{"line":143,"column":22},"end":{"line":143,"column":34}}},"13":{"name":"(anonymous_13)","line":152,"loc":{"start":{"line":152,"column":26},"end":{"line":152,"column":38}}},"14":{"name":"(anonymous_14)","line":163,"loc":{"start":{"line":163,"column":34},"end":{"line":163,"column":46}}},"15":{"name":"(anonymous_15)","line":168,"loc":{"start":{"line":168,"column":30},"end":{"line":168,"column":42}}},"16":{"name":"(anonymous_16)","line":173,"loc":{"start":{"line":173,"column":22},"end":{"line":173,"column":34}}},"17":{"name":"(anonymous_17)","line":180,"loc":{"start":{"line":180,"column":22},"end":{"line":180,"column":34}}},"18":{"name":"uncurryThis","line":199,"loc":{"start":{"line":199,"column":0},"end":{"line":199,"column":24}}},"19":{"name":"(anonymous_19)","line":200,"loc":{"start":{"line":200,"column":11},"end":{"line":200,"column":23}}},"20":{"name":"(anonymous_20)","line":211,"loc":{"start":{"line":211,"column":30},"end":{"line":211,"column":57}}},"21":{"name":"(anonymous_21)","line":240,"loc":{"start":{"line":240,"column":31},"end":{"line":240,"column":48}}},"22":{"name":"(anonymous_22)","line":252,"loc":{"start":{"line":252,"column":27},"end":{"line":252,"column":54}}},"23":{"name":"(anonymous_23)","line":255,"loc":{"start":{"line":255,"column":27},"end":{"line":255,"column":62}}},"24":{"name":"(anonymous_24)","line":262,"loc":{"start":{"line":262,"column":37},"end":{"line":262,"column":58}}},"25":{"name":"Type","line":263,"loc":{"start":{"line":263,"column":4},"end":{"line":263,"column":20}}},"26":{"name":"(anonymous_26)","line":270,"loc":{"start":{"line":270,"column":33},"end":{"line":270,"column":51}}},"27":{"name":"isObject","line":282,"loc":{"start":{"line":282,"column":0},"end":{"line":282,"column":25}}},"28":{"name":"isStopIteration","line":289,"loc":{"start":{"line":289,"column":0},"end":{"line":289,"column":36}}},"29":{"name":"(anonymous_29)","line":302,"loc":{"start":{"line":302,"column":19},"end":{"line":302,"column":36}}},"30":{"name":"makeStackTraceLong","line":327,"loc":{"start":{"line":327,"column":0},"end":{"line":327,"column":44}}},"31":{"name":"filterStackString","line":350,"loc":{"start":{"line":350,"column":0},"end":{"line":350,"column":40}}},"32":{"name":"isNodeFrame","line":363,"loc":{"start":{"line":363,"column":0},"end":{"line":363,"column":32}}},"33":{"name":"getFileNameAndLineNumber","line":368,"loc":{"start":{"line":368,"column":0},"end":{"line":368,"column":45}}},"34":{"name":"isInternalFrame","line":389,"loc":{"start":{"line":389,"column":0},"end":{"line":389,"column":36}}},"35":{"name":"captureLine","line":406,"loc":{"start":{"line":406,"column":0},"end":{"line":406,"column":23}}},"36":{"name":"deprecate","line":426,"loc":{"start":{"line":426,"column":0},"end":{"line":426,"column":48}}},"37":{"name":"(anonymous_37)","line":427,"loc":{"start":{"line":427,"column":11},"end":{"line":427,"column":23}}},"38":{"name":"Q","line":445,"loc":{"start":{"line":445,"column":0},"end":{"line":445,"column":18}}},"39":{"name":"defer","line":484,"loc":{"start":{"line":484,"column":0},"end":{"line":484,"column":17}}},"40":{"name":"(anonymous_40)","line":496,"loc":{"start":{"line":496,"column":30},"end":{"line":496,"column":63}}},"41":{"name":"(anonymous_41)","line":504,"loc":{"start":{"line":504,"column":21},"end":{"line":504,"column":33}}},"42":{"name":"(anonymous_42)","line":511,"loc":{"start":{"line":511,"column":22},"end":{"line":511,"column":34}}},"43":{"name":"(anonymous_43)","line":522,"loc":{"start":{"line":522,"column":22},"end":{"line":522,"column":34}}},"44":{"name":"become","line":547,"loc":{"start":{"line":547,"column":4},"end":{"line":547,"column":32}}},"45":{"name":"(anonymous_45)","line":551,"loc":{"start":{"line":551,"column":31},"end":{"line":551,"column":61}}},"46":{"name":"(anonymous_46)","line":552,"loc":{"start":{"line":552,"column":21},"end":{"line":552,"column":33}}},"47":{"name":"(anonymous_47)","line":562,"loc":{"start":{"line":562,"column":23},"end":{"line":562,"column":40}}},"48":{"name":"(anonymous_48)","line":570,"loc":{"start":{"line":570,"column":23},"end":{"line":570,"column":40}}},"49":{"name":"(anonymous_49)","line":577,"loc":{"start":{"line":577,"column":22},"end":{"line":577,"column":40}}},"50":{"name":"(anonymous_50)","line":584,"loc":{"start":{"line":584,"column":22},"end":{"line":584,"column":42}}},"51":{"name":"(anonymous_51)","line":589,"loc":{"start":{"line":589,"column":40},"end":{"line":589,"column":79}}},"52":{"name":"(anonymous_52)","line":590,"loc":{"start":{"line":590,"column":21},"end":{"line":590,"column":33}}},"53":{"name":"(anonymous_53)","line":604,"loc":{"start":{"line":604,"column":35},"end":{"line":604,"column":47}}},"54":{"name":"(anonymous_54)","line":606,"loc":{"start":{"line":606,"column":11},"end":{"line":606,"column":35}}},"55":{"name":"promise","line":624,"loc":{"start":{"line":624,"column":0},"end":{"line":624,"column":27}}},"56":{"name":"(anonymous_56)","line":640,"loc":{"start":{"line":640,"column":15},"end":{"line":640,"column":33}}},"57":{"name":"(anonymous_57)","line":646,"loc":{"start":{"line":646,"column":31},"end":{"line":646,"column":43}}},"58":{"name":"(anonymous_58)","line":661,"loc":{"start":{"line":661,"column":9},"end":{"line":661,"column":25}}},"59":{"name":"(anonymous_59)","line":665,"loc":{"start":{"line":665,"column":25},"end":{"line":665,"column":41}}},"60":{"name":"(anonymous_60)","line":666,"loc":{"start":{"line":666,"column":34},"end":{"line":666,"column":50}}},"61":{"name":"race","line":682,"loc":{"start":{"line":682,"column":0},"end":{"line":682,"column":24}}},"62":{"name":"(anonymous_62)","line":683,"loc":{"start":{"line":683,"column":19},"end":{"line":683,"column":45}}},"63":{"name":"(anonymous_63)","line":695,"loc":{"start":{"line":695,"column":25},"end":{"line":695,"column":37}}},"64":{"name":"Promise","line":711,"loc":{"start":{"line":711,"column":0},"end":{"line":711,"column":48}}},"65":{"name":"(anonymous_65)","line":713,"loc":{"start":{"line":713,"column":19},"end":{"line":713,"column":33}}},"66":{"name":"(anonymous_66)","line":720,"loc":{"start":{"line":720,"column":18},"end":{"line":720,"column":30}}},"67":{"name":"(anonymous_67)","line":727,"loc":{"start":{"line":727,"column":30},"end":{"line":727,"column":59}}},"68":{"name":"(anonymous_68)","line":752,"loc":{"start":{"line":752,"column":26},"end":{"line":752,"column":38}}},"69":{"name":"(anonymous_69)","line":765,"loc":{"start":{"line":765,"column":29},"end":{"line":765,"column":41}}},"70":{"name":"(anonymous_70)","line":769,"loc":{"start":{"line":769,"column":25},"end":{"line":769,"column":68}}},"71":{"name":"_fulfilled","line":775,"loc":{"start":{"line":775,"column":4},"end":{"line":775,"column":31}}},"72":{"name":"_rejected","line":783,"loc":{"start":{"line":783,"column":4},"end":{"line":783,"column":34}}},"73":{"name":"_progressed","line":795,"loc":{"start":{"line":795,"column":4},"end":{"line":795,"column":32}}},"74":{"name":"(anonymous_74)","line":799,"loc":{"start":{"line":799,"column":13},"end":{"line":799,"column":25}}},"75":{"name":"(anonymous_75)","line":800,"loc":{"start":{"line":800,"column":29},"end":{"line":800,"column":46}}},"76":{"name":"(anonymous_76)","line":807,"loc":{"start":{"line":807,"column":20},"end":{"line":807,"column":41}}},"77":{"name":"(anonymous_77)","line":818,"loc":{"start":{"line":818,"column":50},"end":{"line":818,"column":67}}},"78":{"name":"when","line":857,"loc":{"start":{"line":857,"column":0},"end":{"line":857,"column":54}}},"79":{"name":"(anonymous_79)","line":861,"loc":{"start":{"line":861,"column":32},"end":{"line":861,"column":49}}},"80":{"name":"(anonymous_80)","line":862,"loc":{"start":{"line":862,"column":21},"end":{"line":862,"column":33}}},"81":{"name":"(anonymous_81)","line":865,"loc":{"start":{"line":865,"column":16},"end":{"line":865,"column":42}}},"82":{"name":"(anonymous_82)","line":869,"loc":{"start":{"line":869,"column":31},"end":{"line":869,"column":49}}},"83":{"name":"(anonymous_83)","line":870,"loc":{"start":{"line":870,"column":21},"end":{"line":870,"column":33}}},"84":{"name":"(anonymous_84)","line":873,"loc":{"start":{"line":873,"column":15},"end":{"line":873,"column":42}}},"85":{"name":"nearer","line":889,"loc":{"start":{"line":889,"column":0},"end":{"line":889,"column":23}}},"86":{"name":"isPromise","line":904,"loc":{"start":{"line":904,"column":0},"end":{"line":904,"column":27}}},"87":{"name":"isPromiseAlike","line":911,"loc":{"start":{"line":911,"column":0},"end":{"line":911,"column":32}}},"88":{"name":"isPending","line":920,"loc":{"start":{"line":920,"column":0},"end":{"line":920,"column":27}}},"89":{"name":"(anonymous_89)","line":924,"loc":{"start":{"line":924,"column":30},"end":{"line":924,"column":42}}},"90":{"name":"isFulfilled","line":933,"loc":{"start":{"line":933,"column":0},"end":{"line":933,"column":29}}},"91":{"name":"(anonymous_91)","line":937,"loc":{"start":{"line":937,"column":32},"end":{"line":937,"column":44}}},"92":{"name":"isRejected","line":945,"loc":{"start":{"line":945,"column":0},"end":{"line":945,"column":28}}},"93":{"name":"(anonymous_93)","line":949,"loc":{"start":{"line":949,"column":31},"end":{"line":949,"column":43}}},"94":{"name":"displayUnhandledReasons","line":963,"loc":{"start":{"line":963,"column":0},"end":{"line":963,"column":35}}},"95":{"name":"logUnhandledReasons","line":976,"loc":{"start":{"line":976,"column":0},"end":{"line":976,"column":31}}},"96":{"name":"resetUnhandledRejections","line":983,"loc":{"start":{"line":983,"column":0},"end":{"line":983,"column":36}}},"97":{"name":"trackRejection","line":1000,"loc":{"start":{"line":1000,"column":0},"end":{"line":1000,"column":41}}},"98":{"name":"untrackRejection","line":1014,"loc":{"start":{"line":1014,"column":0},"end":{"line":1014,"column":35}}},"99":{"name":"(anonymous_99)","line":1028,"loc":{"start":{"line":1028,"column":24},"end":{"line":1028,"column":36}}},"100":{"name":"(anonymous_100)","line":1033,"loc":{"start":{"line":1033,"column":35},"end":{"line":1033,"column":47}}},"101":{"name":"reject","line":1050,"loc":{"start":{"line":1050,"column":0},"end":{"line":1050,"column":24}}},"102":{"name":"(anonymous_102)","line":1052,"loc":{"start":{"line":1052,"column":16},"end":{"line":1052,"column":36}}},"103":{"name":"fallback","line":1059,"loc":{"start":{"line":1059,"column":7},"end":{"line":1059,"column":27}}},"104":{"name":"inspect","line":1061,"loc":{"start":{"line":1061,"column":7},"end":{"line":1061,"column":26}}},"105":{"name":"fulfill","line":1076,"loc":{"start":{"line":1076,"column":0},"end":{"line":1076,"column":24}}},"106":{"name":"(anonymous_106)","line":1078,"loc":{"start":{"line":1078,"column":16},"end":{"line":1078,"column":28}}},"107":{"name":"(anonymous_107)","line":1081,"loc":{"start":{"line":1081,"column":15},"end":{"line":1081,"column":31}}},"108":{"name":"(anonymous_108)","line":1084,"loc":{"start":{"line":1084,"column":15},"end":{"line":1084,"column":36}}},"109":{"name":"(anonymous_109)","line":1087,"loc":{"start":{"line":1087,"column":18},"end":{"line":1087,"column":34}}},"110":{"name":"(anonymous_110)","line":1090,"loc":{"start":{"line":1090,"column":16},"end":{"line":1090,"column":38}}},"111":{"name":"(anonymous_111)","line":1099,"loc":{"start":{"line":1099,"column":17},"end":{"line":1099,"column":40}}},"112":{"name":"(anonymous_112)","line":1102,"loc":{"start":{"line":1102,"column":16},"end":{"line":1102,"column":28}}},"113":{"name":"inspect","line":1105,"loc":{"start":{"line":1105,"column":15},"end":{"line":1105,"column":34}}},"114":{"name":"coerce","line":1115,"loc":{"start":{"line":1115,"column":0},"end":{"line":1115,"column":25}}},"115":{"name":"(anonymous_115)","line":1117,"loc":{"start":{"line":1117,"column":13},"end":{"line":1117,"column":25}}},"116":{"name":"master","line":1137,"loc":{"start":{"line":1137,"column":0},"end":{"line":1137,"column":24}}},"117":{"name":"(anonymous_117)","line":1139,"loc":{"start":{"line":1139,"column":17},"end":{"line":1139,"column":29}}},"118":{"name":"fallback","line":1140,"loc":{"start":{"line":1140,"column":7},"end":{"line":1140,"column":35}}},"119":{"name":"(anonymous_119)","line":1142,"loc":{"start":{"line":1142,"column":7},"end":{"line":1142,"column":19}}},"120":{"name":"spread","line":1158,"loc":{"start":{"line":1158,"column":0},"end":{"line":1158,"column":44}}},"121":{"name":"(anonymous_121)","line":1162,"loc":{"start":{"line":1162,"column":27},"end":{"line":1162,"column":58}}},"122":{"name":"(anonymous_122)","line":1163,"loc":{"start":{"line":1163,"column":27},"end":{"line":1163,"column":44}}},"123":{"name":"async","line":1195,"loc":{"start":{"line":1195,"column":0},"end":{"line":1195,"column":30}}},"124":{"name":"(anonymous_124)","line":1196,"loc":{"start":{"line":1196,"column":11},"end":{"line":1196,"column":23}}},"125":{"name":"continuer","line":1199,"loc":{"start":{"line":1199,"column":8},"end":{"line":1199,"column":38}}},"126":{"name":"spawn","line":1241,"loc":{"start":{"line":1241,"column":0},"end":{"line":1241,"column":30}}},"127":{"name":"_return","line":1271,"loc":{"start":{"line":1271,"column":0},"end":{"line":1271,"column":24}}},"128":{"name":"promised","line":1291,"loc":{"start":{"line":1291,"column":0},"end":{"line":1291,"column":28}}},"129":{"name":"(anonymous_129)","line":1292,"loc":{"start":{"line":1292,"column":11},"end":{"line":1292,"column":23}}},"130":{"name":"(anonymous_130)","line":1293,"loc":{"start":{"line":1293,"column":46},"end":{"line":1293,"column":68}}},"131":{"name":"dispatch","line":1307,"loc":{"start":{"line":1307,"column":0},"end":{"line":1307,"column":36}}},"132":{"name":"(anonymous_132)","line":1311,"loc":{"start":{"line":1311,"column":29},"end":{"line":1311,"column":49}}},"133":{"name":"(anonymous_133)","line":1314,"loc":{"start":{"line":1314,"column":13},"end":{"line":1314,"column":25}}},"134":{"name":"(anonymous_134)","line":1326,"loc":{"start":{"line":1326,"column":8},"end":{"line":1326,"column":31}}},"135":{"name":"(anonymous_135)","line":1330,"loc":{"start":{"line":1330,"column":24},"end":{"line":1330,"column":39}}},"136":{"name":"(anonymous_136)","line":1341,"loc":{"start":{"line":1341,"column":8},"end":{"line":1341,"column":38}}},"137":{"name":"(anonymous_137)","line":1345,"loc":{"start":{"line":1345,"column":24},"end":{"line":1345,"column":46}}},"138":{"name":"(anonymous_138)","line":1356,"loc":{"start":{"line":1356,"column":14},"end":{"line":1356,"column":37}}},"139":{"name":"(anonymous_139)","line":1361,"loc":{"start":{"line":1361,"column":30},"end":{"line":1361,"column":45}}},"140":{"name":"(anonymous_140)","line":1379,"loc":{"start":{"line":1379,"column":9},"end":{"line":1379,"column":39}}},"141":{"name":"(anonymous_141)","line":1384,"loc":{"start":{"line":1384,"column":25},"end":{"line":1384,"column":47}}},"142":{"name":"(anonymous_142)","line":1397,"loc":{"start":{"line":1397,"column":11},"end":{"line":1397,"column":47}}},"143":{"name":"(anonymous_143)","line":1403,"loc":{"start":{"line":1403,"column":27},"end":{"line":1403,"column":55}}},"144":{"name":"(anonymous_144)","line":1412,"loc":{"start":{"line":1412,"column":11},"end":{"line":1412,"column":35}}},"145":{"name":"(anonymous_145)","line":1416,"loc":{"start":{"line":1416,"column":27},"end":{"line":1416,"column":43}}},"146":{"name":"(anonymous_146)","line":1426,"loc":{"start":{"line":1426,"column":10},"end":{"line":1426,"column":41}}},"147":{"name":"(anonymous_147)","line":1430,"loc":{"start":{"line":1430,"column":26},"end":{"line":1430,"column":49}}},"148":{"name":"(anonymous_148)","line":1440,"loc":{"start":{"line":1440,"column":10},"end":{"line":1440,"column":40}}},"149":{"name":"fbound","line":1443,"loc":{"start":{"line":1443,"column":11},"end":{"line":1443,"column":29}}},"150":{"name":"(anonymous_150)","line":1450,"loc":{"start":{"line":1450,"column":26},"end":{"line":1450,"column":49}}},"151":{"name":"fbound","line":1453,"loc":{"start":{"line":1453,"column":11},"end":{"line":1453,"column":29}}},"152":{"name":"(anonymous_152)","line":1467,"loc":{"start":{"line":1467,"column":9},"end":{"line":1467,"column":27}}},"153":{"name":"(anonymous_153)","line":1471,"loc":{"start":{"line":1471,"column":25},"end":{"line":1471,"column":37}}},"154":{"name":"all","line":1485,"loc":{"start":{"line":1485,"column":0},"end":{"line":1485,"column":23}}},"155":{"name":"(anonymous_155)","line":1486,"loc":{"start":{"line":1486,"column":26},"end":{"line":1486,"column":46}}},"156":{"name":"(anonymous_156)","line":1489,"loc":{"start":{"line":1489,"column":31},"end":{"line":1489,"column":68}}},"157":{"name":"(anonymous_157)","line":1500,"loc":{"start":{"line":1500,"column":20},"end":{"line":1500,"column":37}}},"158":{"name":"(anonymous_158)","line":1507,"loc":{"start":{"line":1507,"column":20},"end":{"line":1507,"column":40}}},"159":{"name":"(anonymous_159)","line":1520,"loc":{"start":{"line":1520,"column":24},"end":{"line":1520,"column":36}}},"160":{"name":"allResolved","line":1534,"loc":{"start":{"line":1534,"column":0},"end":{"line":1534,"column":31}}},"161":{"name":"(anonymous_161)","line":1535,"loc":{"start":{"line":1535,"column":26},"end":{"line":1535,"column":46}}},"162":{"name":"(anonymous_162)","line":1537,"loc":{"start":{"line":1537,"column":44},"end":{"line":1537,"column":63}}},"163":{"name":"(anonymous_163)","line":1539,"loc":{"start":{"line":1539,"column":13},"end":{"line":1539,"column":25}}},"164":{"name":"(anonymous_164)","line":1545,"loc":{"start":{"line":1545,"column":32},"end":{"line":1545,"column":44}}},"165":{"name":"allSettled","line":1553,"loc":{"start":{"line":1553,"column":0},"end":{"line":1553,"column":30}}},"166":{"name":"(anonymous_166)","line":1564,"loc":{"start":{"line":1564,"column":31},"end":{"line":1564,"column":43}}},"167":{"name":"(anonymous_167)","line":1565,"loc":{"start":{"line":1565,"column":21},"end":{"line":1565,"column":41}}},"168":{"name":"(anonymous_168)","line":1566,"loc":{"start":{"line":1566,"column":39},"end":{"line":1566,"column":58}}},"169":{"name":"regardless","line":1568,"loc":{"start":{"line":1568,"column":12},"end":{"line":1568,"column":34}}},"170":{"name":"(anonymous_170)","line":1586,"loc":{"start":{"line":1586,"column":13},"end":{"line":1586,"column":41}}},"171":{"name":"(anonymous_171)","line":1591,"loc":{"start":{"line":1591,"column":29},"end":{"line":1591,"column":49}}},"172":{"name":"progress","line":1604,"loc":{"start":{"line":1604,"column":0},"end":{"line":1604,"column":38}}},"173":{"name":"(anonymous_173)","line":1608,"loc":{"start":{"line":1608,"column":29},"end":{"line":1608,"column":51}}},"174":{"name":"(anonymous_174)","line":1624,"loc":{"start":{"line":1624,"column":15},"end":{"line":1624,"column":43}}},"175":{"name":"(anonymous_175)","line":1629,"loc":{"start":{"line":1629,"column":31},"end":{"line":1629,"column":51}}},"176":{"name":"(anonymous_176)","line":1631,"loc":{"start":{"line":1631,"column":21},"end":{"line":1631,"column":38}}},"177":{"name":"(anonymous_177)","line":1632,"loc":{"start":{"line":1632,"column":37},"end":{"line":1632,"column":49}}},"178":{"name":"(anonymous_178)","line":1635,"loc":{"start":{"line":1635,"column":7},"end":{"line":1635,"column":25}}},"179":{"name":"(anonymous_179)","line":1637,"loc":{"start":{"line":1637,"column":37},"end":{"line":1637,"column":49}}},"180":{"name":"(anonymous_180)","line":1649,"loc":{"start":{"line":1649,"column":9},"end":{"line":1649,"column":58}}},"181":{"name":"(anonymous_181)","line":1653,"loc":{"start":{"line":1653,"column":25},"end":{"line":1653,"column":66}}},"182":{"name":"(anonymous_182)","line":1654,"loc":{"start":{"line":1654,"column":27},"end":{"line":1654,"column":44}}},"183":{"name":"(anonymous_183)","line":1657,"loc":{"start":{"line":1657,"column":17},"end":{"line":1657,"column":29}}},"184":{"name":"(anonymous_184)","line":1688,"loc":{"start":{"line":1688,"column":12},"end":{"line":1688,"column":43}}},"185":{"name":"(anonymous_185)","line":1692,"loc":{"start":{"line":1692,"column":28},"end":{"line":1692,"column":51}}},"186":{"name":"(anonymous_186)","line":1694,"loc":{"start":{"line":1694,"column":31},"end":{"line":1694,"column":43}}},"187":{"name":"(anonymous_187)","line":1698,"loc":{"start":{"line":1698,"column":14},"end":{"line":1698,"column":31}}},"188":{"name":"(anonymous_188)","line":1701,"loc":{"start":{"line":1701,"column":7},"end":{"line":1701,"column":28}}},"189":{"name":"(anonymous_189)","line":1718,"loc":{"start":{"line":1718,"column":10},"end":{"line":1718,"column":37}}},"190":{"name":"(anonymous_190)","line":1726,"loc":{"start":{"line":1726,"column":26},"end":{"line":1726,"column":45}}},"191":{"name":"(anonymous_191)","line":1727,"loc":{"start":{"line":1727,"column":21},"end":{"line":1727,"column":38}}},"192":{"name":"(anonymous_192)","line":1729,"loc":{"start":{"line":1729,"column":19},"end":{"line":1729,"column":31}}},"193":{"name":"(anonymous_193)","line":1745,"loc":{"start":{"line":1745,"column":12},"end":{"line":1745,"column":38}}},"194":{"name":"(anonymous_194)","line":1749,"loc":{"start":{"line":1749,"column":28},"end":{"line":1749,"column":44}}},"195":{"name":"(anonymous_195)","line":1766,"loc":{"start":{"line":1766,"column":11},"end":{"line":1766,"column":43}}},"196":{"name":"(anonymous_196)","line":1771,"loc":{"start":{"line":1771,"column":27},"end":{"line":1771,"column":50}}},"197":{"name":"(anonymous_197)","line":1788,"loc":{"start":{"line":1788,"column":14},"end":{"line":1788,"column":46}}},"198":{"name":"(anonymous_198)","line":1790,"loc":{"start":{"line":1790,"column":11},"end":{"line":1790,"column":23}}},"199":{"name":"(anonymous_199)","line":1800,"loc":{"start":{"line":1800,"column":30},"end":{"line":1800,"column":53}}},"200":{"name":"(anonymous_200)","line":1806,"loc":{"start":{"line":1806,"column":10},"end":{"line":1806,"column":49}}},"201":{"name":"(anonymous_201)","line":1808,"loc":{"start":{"line":1808,"column":11},"end":{"line":1808,"column":23}}},"202":{"name":"bound","line":1812,"loc":{"start":{"line":1812,"column":8},"end":{"line":1812,"column":25}}},"203":{"name":"(anonymous_203)","line":1820,"loc":{"start":{"line":1820,"column":26},"end":{"line":1820,"column":56}}},"204":{"name":"(anonymous_204)","line":1836,"loc":{"start":{"line":1836,"column":10},"end":{"line":1836,"column":40}}},"205":{"name":"(anonymous_205)","line":1841,"loc":{"start":{"line":1841,"column":26},"end":{"line":1841,"column":48}}},"206":{"name":"(anonymous_206)","line":1861,"loc":{"start":{"line":1861,"column":12},"end":{"line":1861,"column":48}}},"207":{"name":"(anonymous_207)","line":1871,"loc":{"start":{"line":1871,"column":28},"end":{"line":1871,"column":56}}},"208":{"name":"nodeify","line":1890,"loc":{"start":{"line":1890,"column":0},"end":{"line":1890,"column":35}}},"209":{"name":"(anonymous_209)","line":1894,"loc":{"start":{"line":1894,"column":28},"end":{"line":1894,"column":48}}},"210":{"name":"(anonymous_210)","line":1896,"loc":{"start":{"line":1896,"column":18},"end":{"line":1896,"column":35}}},"211":{"name":"(anonymous_211)","line":1897,"loc":{"start":{"line":1897,"column":21},"end":{"line":1897,"column":33}}},"212":{"name":"(anonymous_212)","line":1900,"loc":{"start":{"line":1900,"column":11},"end":{"line":1900,"column":28}}},"213":{"name":"(anonymous_213)","line":1901,"loc":{"start":{"line":1901,"column":21},"end":{"line":1901,"column":33}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":39,"column":1}},"2":{"start":{"line":4,"column":4},"end":{"line":4,"column":36}},"3":{"start":{"line":4,"column":29},"end":{"line":4,"column":36}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":73}},"5":{"start":{"line":5,"column":66},"end":{"line":5,"column":73}},"6":{"start":{"line":6,"column":4},"end":{"line":6,"column":36}},"7":{"start":{"line":7,"column":4},"end":{"line":7,"column":24}},"8":{"start":{"line":8,"column":4},"end":{"line":8,"column":53}},"9":{"start":{"line":10,"column":4},"end":{"line":10,"column":82}},"10":{"start":{"line":11,"column":5},"end":{"line":14,"column":15}},"11":{"start":{"line":15,"column":5},"end":{"line":37,"column":5}},"12":{"start":{"line":16,"column":8},"end":{"line":16,"column":21}},"13":{"start":{"line":17,"column":8},"end":{"line":35,"column":10}},"14":{"start":{"line":18,"column":12},"end":{"line":18,"column":38}},"15":{"start":{"line":19,"column":12},"end":{"line":19,"column":35}},"16":{"start":{"line":20,"column":12},"end":{"line":20,"column":36}},"17":{"start":{"line":21,"column":12},"end":{"line":33,"column":15}},"18":{"start":{"line":30,"column":16},"end":{"line":30,"column":42}},"19":{"start":{"line":32,"column":16},"end":{"line":32,"column":37}},"20":{"start":{"line":34,"column":12},"end":{"line":34,"column":36}},"21":{"start":{"line":36,"column":8},"end":{"line":36,"column":19}},"22":{"start":{"line":40,"column":0},"end":{"line":40,"column":26}},"23":{"start":{"line":43,"column":0},"end":{"line":1915,"column":1}},"24":{"start":{"line":46,"column":0},"end":{"line":46,"column":22}},"25":{"start":{"line":47,"column":0},"end":{"line":51,"column":1}},"26":{"start":{"line":48,"column":4},"end":{"line":48,"column":22}},"27":{"start":{"line":50,"column":4},"end":{"line":50,"column":26}},"28":{"start":{"line":55,"column":0},"end":{"line":55,"column":34}},"29":{"start":{"line":56,"column":0},"end":{"line":56,"column":14}},"30":{"start":{"line":61,"column":0},"end":{"line":61,"column":26}},"31":{"start":{"line":65,"column":0},"end":{"line":186,"column":5}},"32":{"start":{"line":67,"column":4},"end":{"line":67,"column":42}},"33":{"start":{"line":68,"column":4},"end":{"line":68,"column":20}},"34":{"start":{"line":69,"column":4},"end":{"line":69,"column":25}},"35":{"start":{"line":70,"column":4},"end":{"line":70,"column":29}},"36":{"start":{"line":71,"column":4},"end":{"line":71,"column":25}},"37":{"start":{"line":73,"column":4},"end":{"line":123,"column":5}},"38":{"start":{"line":76,"column":8},"end":{"line":120,"column":9}},"39":{"start":{"line":77,"column":12},"end":{"line":77,"column":29}},"40":{"start":{"line":78,"column":12},"end":{"line":78,"column":33}},"41":{"start":{"line":79,"column":12},"end":{"line":79,"column":31}},"42":{"start":{"line":80,"column":12},"end":{"line":80,"column":37}},"43":{"start":{"line":82,"column":12},"end":{"line":85,"column":13}},"44":{"start":{"line":83,"column":16},"end":{"line":83,"column":37}},"45":{"start":{"line":84,"column":16},"end":{"line":84,"column":31}},"46":{"start":{"line":87,"column":12},"end":{"line":115,"column":13}},"47":{"start":{"line":88,"column":16},"end":{"line":88,"column":23}},"48":{"start":{"line":91,"column":16},"end":{"line":114,"column":17}},"49":{"start":{"line":98,"column":20},"end":{"line":100,"column":21}},"50":{"start":{"line":99,"column":24},"end":{"line":99,"column":38}},"51":{"start":{"line":101,"column":20},"end":{"line":101,"column":41}},"52":{"start":{"line":102,"column":20},"end":{"line":104,"column":21}},"53":{"start":{"line":103,"column":24},"end":{"line":103,"column":39}},"54":{"start":{"line":106,"column":20},"end":{"line":106,"column":28}},"55":{"start":{"line":111,"column":20},"end":{"line":113,"column":26}},"56":{"start":{"line":112,"column":23},"end":{"line":112,"column":31}},"57":{"start":{"line":117,"column":12},"end":{"line":119,"column":13}},"58":{"start":{"line":118,"column":16},"end":{"line":118,"column":30}},"59":{"start":{"line":122,"column":8},"end":{"line":122,"column":25}},"60":{"start":{"line":125,"column":4},"end":{"line":136,"column":6}},"61":{"start":{"line":126,"column":8},"end":{"line":130,"column":10}},"62":{"start":{"line":132,"column":8},"end":{"line":135,"column":9}},"63":{"start":{"line":133,"column":12},"end":{"line":133,"column":28}},"64":{"start":{"line":134,"column":12},"end":{"line":134,"column":26}},"65":{"start":{"line":138,"column":4},"end":{"line":183,"column":5}},"66":{"start":{"line":141,"column":8},"end":{"line":141,"column":24}},"67":{"start":{"line":143,"column":8},"end":{"line":145,"column":10}},"68":{"start":{"line":144,"column":12},"end":{"line":144,"column":36}},"69":{"start":{"line":147,"column":11},"end":{"line":183,"column":5}},"70":{"start":{"line":149,"column":8},"end":{"line":155,"column":9}},"71":{"start":{"line":150,"column":12},"end":{"line":150,"column":59}},"72":{"start":{"line":152,"column":12},"end":{"line":154,"column":14}},"73":{"start":{"line":153,"column":16},"end":{"line":153,"column":36}},"74":{"start":{"line":157,"column":11},"end":{"line":183,"column":5}},"75":{"start":{"line":160,"column":8},"end":{"line":160,"column":43}},"76":{"start":{"line":163,"column":8},"end":{"line":167,"column":10}},"77":{"start":{"line":164,"column":12},"end":{"line":164,"column":42}},"78":{"start":{"line":165,"column":12},"end":{"line":165,"column":44}},"79":{"start":{"line":166,"column":12},"end":{"line":166,"column":20}},"80":{"start":{"line":168,"column":8},"end":{"line":172,"column":10}},"81":{"start":{"line":171,"column":12},"end":{"line":171,"column":41}},"82":{"start":{"line":173,"column":8},"end":{"line":176,"column":10}},"83":{"start":{"line":174,"column":12},"end":{"line":174,"column":33}},"84":{"start":{"line":175,"column":12},"end":{"line":175,"column":30}},"85":{"start":{"line":180,"column":8},"end":{"line":182,"column":10}},"86":{"start":{"line":181,"column":12},"end":{"line":181,"column":33}},"87":{"start":{"line":185,"column":4},"end":{"line":185,"column":20}},"88":{"start":{"line":198,"column":0},"end":{"line":198,"column":25}},"89":{"start":{"line":199,"column":0},"end":{"line":203,"column":1}},"90":{"start":{"line":200,"column":4},"end":{"line":202,"column":6}},"91":{"start":{"line":201,"column":8},"end":{"line":201,"column":40}},"92":{"start":{"line":208,"column":0},"end":{"line":208,"column":53}},"93":{"start":{"line":210,"column":0},"end":{"line":237,"column":2}},"94":{"start":{"line":212,"column":8},"end":{"line":213,"column":33}},"95":{"start":{"line":215,"column":8},"end":{"line":227,"column":9}},"96":{"start":{"line":218,"column":12},"end":{"line":226,"column":24}},"97":{"start":{"line":219,"column":16},"end":{"line":222,"column":17}},"98":{"start":{"line":220,"column":20},"end":{"line":220,"column":42}},"99":{"start":{"line":221,"column":20},"end":{"line":221,"column":26}},"100":{"start":{"line":223,"column":16},"end":{"line":225,"column":17}},"101":{"start":{"line":224,"column":20},"end":{"line":224,"column":42}},"102":{"start":{"line":229,"column":8},"end":{"line":234,"column":9}},"103":{"start":{"line":231,"column":12},"end":{"line":233,"column":13}},"104":{"start":{"line":232,"column":16},"end":{"line":232,"column":60}},"105":{"start":{"line":235,"column":8},"end":{"line":235,"column":21}},"106":{"start":{"line":239,"column":0},"end":{"line":249,"column":2}},"107":{"start":{"line":242,"column":8},"end":{"line":246,"column":9}},"108":{"start":{"line":243,"column":12},"end":{"line":245,"column":13}},"109":{"start":{"line":244,"column":16},"end":{"line":244,"column":25}},"110":{"start":{"line":247,"column":8},"end":{"line":247,"column":18}},"111":{"start":{"line":251,"column":0},"end":{"line":260,"column":2}},"112":{"start":{"line":253,"column":8},"end":{"line":253,"column":24}},"113":{"start":{"line":254,"column":8},"end":{"line":254,"column":25}},"114":{"start":{"line":255,"column":8},"end":{"line":257,"column":19}},"115":{"start":{"line":256,"column":12},"end":{"line":256,"column":67}},"116":{"start":{"line":258,"column":8},"end":{"line":258,"column":23}},"117":{"start":{"line":262,"column":0},"end":{"line":266,"column":2}},"118":{"start":{"line":263,"column":4},"end":{"line":263,"column":23}},"119":{"start":{"line":264,"column":4},"end":{"line":264,"column":31}},"120":{"start":{"line":265,"column":4},"end":{"line":265,"column":22}},"121":{"start":{"line":268,"column":0},"end":{"line":268,"column":73}},"122":{"start":{"line":270,"column":0},"end":{"line":278,"column":2}},"123":{"start":{"line":271,"column":4},"end":{"line":271,"column":18}},"124":{"start":{"line":272,"column":4},"end":{"line":276,"column":5}},"125":{"start":{"line":273,"column":8},"end":{"line":275,"column":9}},"126":{"start":{"line":274,"column":12},"end":{"line":274,"column":27}},"127":{"start":{"line":277,"column":4},"end":{"line":277,"column":16}},"128":{"start":{"line":280,"column":0},"end":{"line":280,"column":61}},"129":{"start":{"line":282,"column":0},"end":{"line":284,"column":1}},"130":{"start":{"line":283,"column":4},"end":{"line":283,"column":35}},"131":{"start":{"line":289,"column":0},"end":{"line":294,"column":1}},"132":{"start":{"line":290,"column":4},"end":{"line":293,"column":6}},"133":{"start":{"line":298,"column":0},"end":{"line":298,"column":17}},"134":{"start":{"line":299,"column":0},"end":{"line":305,"column":1}},"135":{"start":{"line":300,"column":4},"end":{"line":300,"column":31}},"136":{"start":{"line":302,"column":4},"end":{"line":304,"column":6}},"137":{"start":{"line":303,"column":8},"end":{"line":303,"column":27}},"138":{"start":{"line":314,"column":0},"end":{"line":314,"column":21}},"139":{"start":{"line":315,"column":0},"end":{"line":321,"column":1}},"140":{"start":{"line":317,"column":4},"end":{"line":317,"column":47}},"141":{"start":{"line":318,"column":4},"end":{"line":318,"column":28}},"142":{"start":{"line":320,"column":4},"end":{"line":320,"column":29}},"143":{"start":{"line":325,"column":0},"end":{"line":325,"column":50}},"144":{"start":{"line":327,"column":0},"end":{"line":348,"column":1}},"145":{"start":{"line":330,"column":4},"end":{"line":347,"column":5}},"146":{"start":{"line":337,"column":8},"end":{"line":337,"column":24}},"147":{"start":{"line":338,"column":8},"end":{"line":342,"column":9}},"148":{"start":{"line":339,"column":12},"end":{"line":341,"column":13}},"149":{"start":{"line":340,"column":16},"end":{"line":340,"column":40}},"150":{"start":{"line":343,"column":8},"end":{"line":343,"column":36}},"151":{"start":{"line":345,"column":8},"end":{"line":345,"column":77}},"152":{"start":{"line":346,"column":8},"end":{"line":346,"column":56}},"153":{"start":{"line":350,"column":0},"end":{"line":361,"column":1}},"154":{"start":{"line":351,"column":4},"end":{"line":351,"column":40}},"155":{"start":{"line":352,"column":4},"end":{"line":352,"column":26}},"156":{"start":{"line":353,"column":4},"end":{"line":359,"column":5}},"157":{"start":{"line":354,"column":8},"end":{"line":354,"column":28}},"158":{"start":{"line":356,"column":8},"end":{"line":358,"column":9}},"159":{"start":{"line":357,"column":12},"end":{"line":357,"column":36}},"160":{"start":{"line":360,"column":4},"end":{"line":360,"column":35}},"161":{"start":{"line":363,"column":0},"end":{"line":366,"column":1}},"162":{"start":{"line":364,"column":4},"end":{"line":365,"column":49}},"163":{"start":{"line":368,"column":0},"end":{"line":387,"column":1}},"164":{"start":{"line":371,"column":4},"end":{"line":371,"column":67}},"165":{"start":{"line":372,"column":4},"end":{"line":374,"column":5}},"166":{"start":{"line":373,"column":8},"end":{"line":373,"column":50}},"167":{"start":{"line":377,"column":4},"end":{"line":377,"column":63}},"168":{"start":{"line":378,"column":4},"end":{"line":380,"column":5}},"169":{"start":{"line":379,"column":8},"end":{"line":379,"column":50}},"170":{"start":{"line":383,"column":4},"end":{"line":383,"column":52}},"171":{"start":{"line":384,"column":4},"end":{"line":386,"column":5}},"172":{"start":{"line":385,"column":8},"end":{"line":385,"column":50}},"173":{"start":{"line":389,"column":0},"end":{"line":402,"column":1}},"174":{"start":{"line":390,"column":4},"end":{"line":390,"column":68}},"175":{"start":{"line":392,"column":4},"end":{"line":394,"column":5}},"176":{"start":{"line":393,"column":8},"end":{"line":393,"column":21}},"177":{"start":{"line":396,"column":4},"end":{"line":396,"column":44}},"178":{"start":{"line":397,"column":4},"end":{"line":397,"column":46}},"179":{"start":{"line":399,"column":4},"end":{"line":401,"column":34}},"180":{"start":{"line":406,"column":0},"end":{"line":424,"column":1}},"181":{"start":{"line":407,"column":4},"end":{"line":409,"column":5}},"182":{"start":{"line":408,"column":8},"end":{"line":408,"column":15}},"183":{"start":{"line":411,"column":4},"end":{"line":423,"column":5}},"184":{"start":{"line":412,"column":8},"end":{"line":412,"column":26}},"185":{"start":{"line":414,"column":8},"end":{"line":414,"column":40}},"186":{"start":{"line":415,"column":8},"end":{"line":415,"column":72}},"187":{"start":{"line":416,"column":8},"end":{"line":416,"column":72}},"188":{"start":{"line":417,"column":8},"end":{"line":419,"column":9}},"189":{"start":{"line":418,"column":12},"end":{"line":418,"column":19}},"190":{"start":{"line":421,"column":8},"end":{"line":421,"column":45}},"191":{"start":{"line":422,"column":8},"end":{"line":422,"column":40}},"192":{"start":{"line":426,"column":0},"end":{"line":435,"column":1}},"193":{"start":{"line":427,"column":4},"end":{"line":434,"column":6}},"194":{"start":{"line":428,"column":8},"end":{"line":432,"column":9}},"195":{"start":{"line":430,"column":12},"end":{"line":431,"column":59}},"196":{"start":{"line":433,"column":8},"end":{"line":433,"column":51}},"197":{"start":{"line":445,"column":0},"end":{"line":459,"column":1}},"198":{"start":{"line":449,"column":4},"end":{"line":451,"column":5}},"199":{"start":{"line":450,"column":8},"end":{"line":450,"column":21}},"200":{"start":{"line":454,"column":4},"end":{"line":458,"column":5}},"201":{"start":{"line":455,"column":8},"end":{"line":455,"column":29}},"202":{"start":{"line":457,"column":8},"end":{"line":457,"column":30}},"203":{"start":{"line":460,"column":0},"end":{"line":460,"column":14}},"204":{"start":{"line":466,"column":0},"end":{"line":466,"column":22}},"205":{"start":{"line":471,"column":0},"end":{"line":471,"column":27}},"206":{"start":{"line":483,"column":0},"end":{"line":483,"column":16}},"207":{"start":{"line":484,"column":0},"end":{"line":597,"column":1}},"208":{"start":{"line":491,"column":4},"end":{"line":491,"column":63}},"209":{"start":{"line":493,"column":4},"end":{"line":493,"column":50}},"210":{"start":{"line":494,"column":4},"end":{"line":494,"column":51}},"211":{"start":{"line":496,"column":4},"end":{"line":508,"column":6}},"212":{"start":{"line":497,"column":8},"end":{"line":497,"column":42}},"213":{"start":{"line":498,"column":8},"end":{"line":507,"column":9}},"214":{"start":{"line":499,"column":12},"end":{"line":499,"column":32}},"215":{"start":{"line":500,"column":12},"end":{"line":502,"column":13}},"216":{"start":{"line":501,"column":16},"end":{"line":501,"column":52}},"217":{"start":{"line":504,"column":12},"end":{"line":506,"column":15}},"218":{"start":{"line":505,"column":16},"end":{"line":505,"column":77}},"219":{"start":{"line":511,"column":4},"end":{"line":520,"column":6}},"220":{"start":{"line":512,"column":8},"end":{"line":514,"column":9}},"221":{"start":{"line":513,"column":12},"end":{"line":513,"column":27}},"222":{"start":{"line":515,"column":8},"end":{"line":515,"column":50}},"223":{"start":{"line":516,"column":8},"end":{"line":518,"column":9}},"224":{"start":{"line":517,"column":12},"end":{"line":517,"column":42}},"225":{"start":{"line":519,"column":8},"end":{"line":519,"column":27}},"226":{"start":{"line":522,"column":4},"end":{"line":527,"column":6}},"227":{"start":{"line":523,"column":8},"end":{"line":525,"column":9}},"228":{"start":{"line":524,"column":12},"end":{"line":524,"column":40}},"229":{"start":{"line":526,"column":8},"end":{"line":526,"column":41}},"230":{"start":{"line":529,"column":4},"end":{"line":541,"column":5}},"231":{"start":{"line":530,"column":8},"end":{"line":540,"column":9}},"232":{"start":{"line":531,"column":12},"end":{"line":531,"column":30}},"233":{"start":{"line":539,"column":12},"end":{"line":539,"column":73}},"234":{"start":{"line":547,"column":4},"end":{"line":559,"column":5}},"235":{"start":{"line":548,"column":8},"end":{"line":548,"column":37}},"236":{"start":{"line":549,"column":8},"end":{"line":549,"column":36}},"237":{"start":{"line":551,"column":8},"end":{"line":555,"column":19}},"238":{"start":{"line":552,"column":12},"end":{"line":554,"column":15}},"239":{"start":{"line":553,"column":16},"end":{"line":553,"column":70}},"240":{"start":{"line":557,"column":8},"end":{"line":557,"column":26}},"241":{"start":{"line":558,"column":8},"end":{"line":558,"column":35}},"242":{"start":{"line":561,"column":4},"end":{"line":561,"column":31}},"243":{"start":{"line":562,"column":4},"end":{"line":568,"column":6}},"244":{"start":{"line":563,"column":8},"end":{"line":565,"column":9}},"245":{"start":{"line":564,"column":12},"end":{"line":564,"column":19}},"246":{"start":{"line":567,"column":8},"end":{"line":567,"column":25}},"247":{"start":{"line":570,"column":4},"end":{"line":576,"column":6}},"248":{"start":{"line":571,"column":8},"end":{"line":573,"column":9}},"249":{"start":{"line":572,"column":12},"end":{"line":572,"column":19}},"250":{"start":{"line":575,"column":8},"end":{"line":575,"column":31}},"251":{"start":{"line":577,"column":4},"end":{"line":583,"column":6}},"252":{"start":{"line":578,"column":8},"end":{"line":580,"column":9}},"253":{"start":{"line":579,"column":12},"end":{"line":579,"column":19}},"254":{"start":{"line":582,"column":8},"end":{"line":582,"column":31}},"255":{"start":{"line":584,"column":4},"end":{"line":594,"column":6}},"256":{"start":{"line":585,"column":8},"end":{"line":587,"column":9}},"257":{"start":{"line":586,"column":12},"end":{"line":586,"column":19}},"258":{"start":{"line":589,"column":8},"end":{"line":593,"column":19}},"259":{"start":{"line":590,"column":12},"end":{"line":592,"column":15}},"260":{"start":{"line":591,"column":16},"end":{"line":591,"column":43}},"261":{"start":{"line":596,"column":4},"end":{"line":596,"column":20}},"262":{"start":{"line":604,"column":0},"end":{"line":615,"column":2}},"263":{"start":{"line":605,"column":4},"end":{"line":605,"column":20}},"264":{"start":{"line":606,"column":4},"end":{"line":614,"column":6}},"265":{"start":{"line":607,"column":8},"end":{"line":613,"column":9}},"266":{"start":{"line":608,"column":12},"end":{"line":608,"column":31}},"267":{"start":{"line":609,"column":15},"end":{"line":613,"column":9}},"268":{"start":{"line":610,"column":12},"end":{"line":610,"column":52}},"269":{"start":{"line":612,"column":12},"end":{"line":612,"column":32}},"270":{"start":{"line":623,"column":0},"end":{"line":623,"column":20}},"271":{"start":{"line":624,"column":0},"end":{"line":635,"column":1}},"272":{"start":{"line":625,"column":4},"end":{"line":627,"column":5}},"273":{"start":{"line":626,"column":8},"end":{"line":626,"column":60}},"274":{"start":{"line":628,"column":4},"end":{"line":628,"column":27}},"275":{"start":{"line":629,"column":4},"end":{"line":633,"column":5}},"276":{"start":{"line":630,"column":8},"end":{"line":630,"column":69}},"277":{"start":{"line":632,"column":8},"end":{"line":632,"column":32}},"278":{"start":{"line":634,"column":4},"end":{"line":634,"column":28}},"279":{"start":{"line":640,"column":0},"end":{"line":644,"column":2}},"280":{"start":{"line":643,"column":4},"end":{"line":643,"column":18}},"281":{"start":{"line":646,"column":0},"end":{"line":650,"column":2}},"282":{"start":{"line":649,"column":4},"end":{"line":649,"column":16}},"283":{"start":{"line":661,"column":0},"end":{"line":663,"column":2}},"284":{"start":{"line":662,"column":4},"end":{"line":662,"column":24}},"285":{"start":{"line":665,"column":0},"end":{"line":674,"column":2}},"286":{"start":{"line":666,"column":4},"end":{"line":673,"column":7}},"287":{"start":{"line":667,"column":8},"end":{"line":672,"column":9}},"288":{"start":{"line":669,"column":12},"end":{"line":669,"column":21}},"289":{"start":{"line":671,"column":12},"end":{"line":671,"column":72}},"290":{"start":{"line":681,"column":0},"end":{"line":681,"column":14}},"291":{"start":{"line":682,"column":0},"end":{"line":693,"column":1}},"292":{"start":{"line":683,"column":4},"end":{"line":692,"column":7}},"293":{"start":{"line":689,"column":8},"end":{"line":691,"column":9}},"294":{"start":{"line":690,"column":12},"end":{"line":690,"column":49}},"295":{"start":{"line":695,"column":0},"end":{"line":697,"column":2}},"296":{"start":{"line":696,"column":4},"end":{"line":696,"column":29}},"297":{"start":{"line":710,"column":0},"end":{"line":710,"column":24}},"298":{"start":{"line":711,"column":0},"end":{"line":763,"column":1}},"299":{"start":{"line":712,"column":4},"end":{"line":718,"column":5}},"300":{"start":{"line":713,"column":8},"end":{"line":717,"column":10}},"301":{"start":{"line":714,"column":12},"end":{"line":716,"column":15}},"302":{"start":{"line":719,"column":4},"end":{"line":723,"column":5}},"303":{"start":{"line":720,"column":8},"end":{"line":722,"column":10}},"304":{"start":{"line":721,"column":12},"end":{"line":721,"column":38}},"305":{"start":{"line":725,"column":4},"end":{"line":725,"column":51}},"306":{"start":{"line":727,"column":4},"end":{"line":741,"column":6}},"307":{"start":{"line":728,"column":8},"end":{"line":728,"column":19}},"308":{"start":{"line":729,"column":8},"end":{"line":737,"column":9}},"309":{"start":{"line":730,"column":12},"end":{"line":734,"column":13}},"310":{"start":{"line":731,"column":16},"end":{"line":731,"column":61}},"311":{"start":{"line":733,"column":16},"end":{"line":733,"column":58}},"312":{"start":{"line":736,"column":12},"end":{"line":736,"column":39}},"313":{"start":{"line":738,"column":8},"end":{"line":740,"column":9}},"314":{"start":{"line":739,"column":12},"end":{"line":739,"column":28}},"315":{"start":{"line":743,"column":4},"end":{"line":743,"column":30}},"316":{"start":{"line":746,"column":4},"end":{"line":760,"column":5}},"317":{"start":{"line":747,"column":8},"end":{"line":747,"column":34}},"318":{"start":{"line":748,"column":8},"end":{"line":750,"column":9}},"319":{"start":{"line":749,"column":12},"end":{"line":749,"column":49}},"320":{"start":{"line":752,"column":8},"end":{"line":759,"column":10}},"321":{"start":{"line":753,"column":12},"end":{"line":753,"column":38}},"322":{"start":{"line":754,"column":12},"end":{"line":757,"column":13}},"323":{"start":{"line":756,"column":16},"end":{"line":756,"column":31}},"324":{"start":{"line":758,"column":12},"end":{"line":758,"column":35}},"325":{"start":{"line":762,"column":4},"end":{"line":762,"column":19}},"326":{"start":{"line":765,"column":0},"end":{"line":767,"column":2}},"327":{"start":{"line":766,"column":4},"end":{"line":766,"column":30}},"328":{"start":{"line":769,"column":0},"end":{"line":838,"column":2}},"329":{"start":{"line":770,"column":4},"end":{"line":770,"column":20}},"330":{"start":{"line":771,"column":4},"end":{"line":771,"column":27}},"331":{"start":{"line":772,"column":4},"end":{"line":772,"column":21}},"332":{"start":{"line":775,"column":4},"end":{"line":781,"column":5}},"333":{"start":{"line":776,"column":8},"end":{"line":780,"column":9}},"334":{"start":{"line":777,"column":12},"end":{"line":777,"column":78}},"335":{"start":{"line":779,"column":12},"end":{"line":779,"column":37}},"336":{"start":{"line":783,"column":4},"end":{"line":793,"column":5}},"337":{"start":{"line":784,"column":8},"end":{"line":791,"column":9}},"338":{"start":{"line":785,"column":12},"end":{"line":785,"column":48}},"339":{"start":{"line":786,"column":12},"end":{"line":790,"column":13}},"340":{"start":{"line":787,"column":16},"end":{"line":787,"column":43}},"341":{"start":{"line":789,"column":16},"end":{"line":789,"column":44}},"342":{"start":{"line":792,"column":8},"end":{"line":792,"column":33}},"343":{"start":{"line":795,"column":4},"end":{"line":797,"column":5}},"344":{"start":{"line":796,"column":8},"end":{"line":796,"column":76}},"345":{"start":{"line":799,"column":4},"end":{"line":815,"column":7}},"346":{"start":{"line":800,"column":8},"end":{"line":814,"column":12}},"347":{"start":{"line":801,"column":12},"end":{"line":803,"column":13}},"348":{"start":{"line":802,"column":16},"end":{"line":802,"column":23}},"349":{"start":{"line":804,"column":12},"end":{"line":804,"column":24}},"350":{"start":{"line":806,"column":12},"end":{"line":806,"column":48}},"351":{"start":{"line":808,"column":12},"end":{"line":810,"column":13}},"352":{"start":{"line":809,"column":16},"end":{"line":809,"column":23}},"353":{"start":{"line":811,"column":12},"end":{"line":811,"column":24}},"354":{"start":{"line":813,"column":12},"end":{"line":813,"column":51}},"355":{"start":{"line":818,"column":4},"end":{"line":835,"column":8}},"356":{"start":{"line":819,"column":8},"end":{"line":819,"column":21}},"357":{"start":{"line":820,"column":8},"end":{"line":820,"column":26}},"358":{"start":{"line":821,"column":8},"end":{"line":830,"column":9}},"359":{"start":{"line":822,"column":12},"end":{"line":822,"column":42}},"360":{"start":{"line":824,"column":12},"end":{"line":824,"column":25}},"361":{"start":{"line":825,"column":12},"end":{"line":829,"column":13}},"362":{"start":{"line":826,"column":16},"end":{"line":826,"column":29}},"363":{"start":{"line":828,"column":16},"end":{"line":828,"column":24}},"364":{"start":{"line":832,"column":8},"end":{"line":834,"column":9}},"365":{"start":{"line":833,"column":12},"end":{"line":833,"column":38}},"366":{"start":{"line":837,"column":4},"end":{"line":837,"column":28}},"367":{"start":{"line":856,"column":0},"end":{"line":856,"column":14}},"368":{"start":{"line":857,"column":0},"end":{"line":859,"column":1}},"369":{"start":{"line":858,"column":4},"end":{"line":858,"column":58}},"370":{"start":{"line":861,"column":0},"end":{"line":863,"column":2}},"371":{"start":{"line":862,"column":4},"end":{"line":862,"column":52}},"372":{"start":{"line":862,"column":35},"end":{"line":862,"column":48}},"373":{"start":{"line":865,"column":0},"end":{"line":867,"column":2}},"374":{"start":{"line":866,"column":4},"end":{"line":866,"column":41}},"375":{"start":{"line":869,"column":0},"end":{"line":871,"column":2}},"376":{"start":{"line":870,"column":4},"end":{"line":870,"column":52}},"377":{"start":{"line":870,"column":35},"end":{"line":870,"column":48}},"378":{"start":{"line":873,"column":0},"end":{"line":875,"column":2}},"379":{"start":{"line":874,"column":4},"end":{"line":874,"column":41}},"380":{"start":{"line":888,"column":0},"end":{"line":888,"column":18}},"381":{"start":{"line":889,"column":0},"end":{"line":897,"column":1}},"382":{"start":{"line":890,"column":4},"end":{"line":895,"column":5}},"383":{"start":{"line":891,"column":8},"end":{"line":891,"column":40}},"384":{"start":{"line":892,"column":8},"end":{"line":894,"column":9}},"385":{"start":{"line":893,"column":12},"end":{"line":893,"column":35}},"386":{"start":{"line":896,"column":4},"end":{"line":896,"column":17}},"387":{"start":{"line":903,"column":0},"end":{"line":903,"column":24}},"388":{"start":{"line":904,"column":0},"end":{"line":908,"column":1}},"389":{"start":{"line":905,"column":4},"end":{"line":907,"column":45}},"390":{"start":{"line":910,"column":0},"end":{"line":910,"column":34}},"391":{"start":{"line":911,"column":0},"end":{"line":913,"column":1}},"392":{"start":{"line":912,"column":4},"end":{"line":912,"column":65}},"393":{"start":{"line":919,"column":0},"end":{"line":919,"column":24}},"394":{"start":{"line":920,"column":0},"end":{"line":922,"column":1}},"395":{"start":{"line":921,"column":4},"end":{"line":921,"column":69}},"396":{"start":{"line":924,"column":0},"end":{"line":926,"column":2}},"397":{"start":{"line":925,"column":4},"end":{"line":925,"column":46}},"398":{"start":{"line":932,"column":0},"end":{"line":932,"column":28}},"399":{"start":{"line":933,"column":0},"end":{"line":935,"column":1}},"400":{"start":{"line":934,"column":4},"end":{"line":934,"column":72}},"401":{"start":{"line":937,"column":0},"end":{"line":939,"column":2}},"402":{"start":{"line":938,"column":4},"end":{"line":938,"column":48}},"403":{"start":{"line":944,"column":0},"end":{"line":944,"column":26}},"404":{"start":{"line":945,"column":0},"end":{"line":947,"column":1}},"405":{"start":{"line":946,"column":4},"end":{"line":946,"column":70}},"406":{"start":{"line":949,"column":0},"end":{"line":951,"column":2}},"407":{"start":{"line":950,"column":4},"end":{"line":950,"column":47}},"408":{"start":{"line":959,"column":0},"end":{"line":959,"column":26}},"409":{"start":{"line":960,"column":0},"end":{"line":960,"column":29}},"410":{"start":{"line":961,"column":0},"end":{"line":961,"column":38}},"411":{"start":{"line":962,"column":0},"end":{"line":962,"column":36}},"412":{"start":{"line":963,"column":0},"end":{"line":974,"column":1}},"413":{"start":{"line":964,"column":4},"end":{"line":971,"column":5}},"414":{"start":{"line":969,"column":8},"end":{"line":970,"column":39}},"415":{"start":{"line":973,"column":4},"end":{"line":973,"column":37}},"416":{"start":{"line":976,"column":0},"end":{"line":981,"column":1}},"417":{"start":{"line":977,"column":4},"end":{"line":980,"column":5}},"418":{"start":{"line":978,"column":8},"end":{"line":978,"column":41}},"419":{"start":{"line":979,"column":8},"end":{"line":979,"column":60}},"420":{"start":{"line":983,"column":0},"end":{"line":998,"column":1}},"421":{"start":{"line":984,"column":4},"end":{"line":984,"column":32}},"422":{"start":{"line":985,"column":4},"end":{"line":985,"column":35}},"423":{"start":{"line":986,"column":4},"end":{"line":986,"column":38}},"424":{"start":{"line":988,"column":4},"end":{"line":997,"column":5}},"425":{"start":{"line":989,"column":8},"end":{"line":989,"column":40}},"426":{"start":{"line":994,"column":8},"end":{"line":996,"column":9}},"427":{"start":{"line":995,"column":12},"end":{"line":995,"column":52}},"428":{"start":{"line":1000,"column":0},"end":{"line":1012,"column":1}},"429":{"start":{"line":1001,"column":4},"end":{"line":1003,"column":5}},"430":{"start":{"line":1002,"column":8},"end":{"line":1002,"column":15}},"431":{"start":{"line":1005,"column":4},"end":{"line":1005,"column":38}},"432":{"start":{"line":1006,"column":4},"end":{"line":1010,"column":5}},"433":{"start":{"line":1007,"column":8},"end":{"line":1007,"column":44}},"434":{"start":{"line":1009,"column":8},"end":{"line":1009,"column":54}},"435":{"start":{"line":1011,"column":4},"end":{"line":1011,"column":30}},"436":{"start":{"line":1014,"column":0},"end":{"line":1024,"column":1}},"437":{"start":{"line":1015,"column":4},"end":{"line":1017,"column":5}},"438":{"start":{"line":1016,"column":8},"end":{"line":1016,"column":15}},"439":{"start":{"line":1019,"column":4},"end":{"line":1019,"column":57}},"440":{"start":{"line":1020,"column":4},"end":{"line":1023,"column":5}},"441":{"start":{"line":1021,"column":8},"end":{"line":1021,"column":42}},"442":{"start":{"line":1022,"column":8},"end":{"line":1022,"column":39}},"443":{"start":{"line":1026,"column":0},"end":{"line":1026,"column":54}},"444":{"start":{"line":1028,"column":0},"end":{"line":1031,"column":2}},"445":{"start":{"line":1030,"column":4},"end":{"line":1030,"column":36}},"446":{"start":{"line":1033,"column":0},"end":{"line":1039,"column":2}},"447":{"start":{"line":1034,"column":4},"end":{"line":1034,"column":31}},"448":{"start":{"line":1035,"column":4},"end":{"line":1037,"column":5}},"449":{"start":{"line":1036,"column":8},"end":{"line":1036,"column":60}},"450":{"start":{"line":1038,"column":4},"end":{"line":1038,"column":37}},"451":{"start":{"line":1041,"column":0},"end":{"line":1041,"column":27}},"452":{"start":{"line":1049,"column":0},"end":{"line":1049,"column":18}},"453":{"start":{"line":1050,"column":0},"end":{"line":1069,"column":1}},"454":{"start":{"line":1051,"column":4},"end":{"line":1063,"column":7}},"455":{"start":{"line":1054,"column":12},"end":{"line":1056,"column":13}},"456":{"start":{"line":1055,"column":16},"end":{"line":1055,"column":39}},"457":{"start":{"line":1057,"column":12},"end":{"line":1057,"column":54}},"458":{"start":{"line":1060,"column":8},"end":{"line":1060,"column":20}},"459":{"start":{"line":1062,"column":8},"end":{"line":1062,"column":53}},"460":{"start":{"line":1066,"column":4},"end":{"line":1066,"column":38}},"461":{"start":{"line":1068,"column":4},"end":{"line":1068,"column":21}},"462":{"start":{"line":1075,"column":0},"end":{"line":1075,"column":20}},"463":{"start":{"line":1076,"column":0},"end":{"line":1108,"column":1}},"464":{"start":{"line":1077,"column":4},"end":{"line":1107,"column":7}},"465":{"start":{"line":1079,"column":12},"end":{"line":1079,"column":25}},"466":{"start":{"line":1082,"column":12},"end":{"line":1082,"column":31}},"467":{"start":{"line":1085,"column":12},"end":{"line":1085,"column":30}},"468":{"start":{"line":1088,"column":12},"end":{"line":1088,"column":31}},"469":{"start":{"line":1093,"column":12},"end":{"line":1097,"column":13}},"470":{"start":{"line":1094,"column":16},"end":{"line":1094,"column":49}},"471":{"start":{"line":1096,"column":16},"end":{"line":1096,"column":54}},"472":{"start":{"line":1100,"column":12},"end":{"line":1100,"column":44}},"473":{"start":{"line":1103,"column":12},"end":{"line":1103,"column":38}},"474":{"start":{"line":1106,"column":8},"end":{"line":1106,"column":52}},"475":{"start":{"line":1115,"column":0},"end":{"line":1125,"column":1}},"476":{"start":{"line":1116,"column":4},"end":{"line":1116,"column":27}},"477":{"start":{"line":1117,"column":4},"end":{"line":1123,"column":7}},"478":{"start":{"line":1118,"column":8},"end":{"line":1122,"column":9}},"479":{"start":{"line":1119,"column":12},"end":{"line":1119,"column":77}},"480":{"start":{"line":1121,"column":12},"end":{"line":1121,"column":39}},"481":{"start":{"line":1124,"column":4},"end":{"line":1124,"column":28}},"482":{"start":{"line":1136,"column":0},"end":{"line":1136,"column":18}},"483":{"start":{"line":1137,"column":0},"end":{"line":1145,"column":1}},"484":{"start":{"line":1138,"column":4},"end":{"line":1144,"column":7}},"485":{"start":{"line":1141,"column":8},"end":{"line":1141,"column":42}},"486":{"start":{"line":1143,"column":8},"end":{"line":1143,"column":35}},"487":{"start":{"line":1157,"column":0},"end":{"line":1157,"column":18}},"488":{"start":{"line":1158,"column":0},"end":{"line":1160,"column":1}},"489":{"start":{"line":1159,"column":4},"end":{"line":1159,"column":48}},"490":{"start":{"line":1162,"column":0},"end":{"line":1166,"column":2}},"491":{"start":{"line":1163,"column":4},"end":{"line":1165,"column":17}},"492":{"start":{"line":1164,"column":8},"end":{"line":1164,"column":46}},"493":{"start":{"line":1194,"column":0},"end":{"line":1194,"column":16}},"494":{"start":{"line":1195,"column":0},"end":{"line":1231,"column":1}},"495":{"start":{"line":1196,"column":4},"end":{"line":1230,"column":6}},"496":{"start":{"line":1199,"column":8},"end":{"line":1225,"column":9}},"497":{"start":{"line":1200,"column":12},"end":{"line":1200,"column":23}},"498":{"start":{"line":1201,"column":12},"end":{"line":1224,"column":13}},"499":{"start":{"line":1202,"column":16},"end":{"line":1206,"column":17}},"500":{"start":{"line":1203,"column":20},"end":{"line":1203,"column":50}},"501":{"start":{"line":1205,"column":20},"end":{"line":1205,"column":45}},"502":{"start":{"line":1207,"column":16},"end":{"line":1211,"column":17}},"503":{"start":{"line":1208,"column":20},"end":{"line":1208,"column":40}},"504":{"start":{"line":1210,"column":20},"end":{"line":1210,"column":65}},"505":{"start":{"line":1214,"column":16},"end":{"line":1222,"column":17}},"506":{"start":{"line":1215,"column":20},"end":{"line":1215,"column":50}},"507":{"start":{"line":1217,"column":20},"end":{"line":1221,"column":21}},"508":{"start":{"line":1218,"column":24},"end":{"line":1218,"column":47}},"509":{"start":{"line":1220,"column":24},"end":{"line":1220,"column":49}},"510":{"start":{"line":1223,"column":16},"end":{"line":1223,"column":55}},"511":{"start":{"line":1226,"column":8},"end":{"line":1226,"column":61}},"512":{"start":{"line":1227,"column":8},"end":{"line":1227,"column":57}},"513":{"start":{"line":1228,"column":8},"end":{"line":1228,"column":57}},"514":{"start":{"line":1229,"column":8},"end":{"line":1229,"column":26}},"515":{"start":{"line":1240,"column":0},"end":{"line":1240,"column":16}},"516":{"start":{"line":1241,"column":0},"end":{"line":1243,"column":1}},"517":{"start":{"line":1242,"column":4},"end":{"line":1242,"column":37}},"518":{"start":{"line":1270,"column":0},"end":{"line":1270,"column":22}},"519":{"start":{"line":1271,"column":0},"end":{"line":1273,"column":1}},"520":{"start":{"line":1272,"column":4},"end":{"line":1272,"column":34}},"521":{"start":{"line":1290,"column":0},"end":{"line":1290,"column":22}},"522":{"start":{"line":1291,"column":0},"end":{"line":1297,"column":1}},"523":{"start":{"line":1292,"column":4},"end":{"line":1296,"column":6}},"524":{"start":{"line":1293,"column":8},"end":{"line":1295,"column":11}},"525":{"start":{"line":1294,"column":12},"end":{"line":1294,"column":46}},"526":{"start":{"line":1306,"column":0},"end":{"line":1306,"column":22}},"527":{"start":{"line":1307,"column":0},"end":{"line":1309,"column":1}},"528":{"start":{"line":1308,"column":4},"end":{"line":1308,"column":40}},"529":{"start":{"line":1311,"column":0},"end":{"line":1318,"column":2}},"530":{"start":{"line":1312,"column":4},"end":{"line":1312,"column":20}},"531":{"start":{"line":1313,"column":4},"end":{"line":1313,"column":27}},"532":{"start":{"line":1314,"column":4},"end":{"line":1316,"column":7}},"533":{"start":{"line":1315,"column":8},"end":{"line":1315,"column":57}},"534":{"start":{"line":1317,"column":4},"end":{"line":1317,"column":28}},"535":{"start":{"line":1326,"column":0},"end":{"line":1328,"column":2}},"536":{"start":{"line":1327,"column":4},"end":{"line":1327,"column":44}},"537":{"start":{"line":1330,"column":0},"end":{"line":1332,"column":2}},"538":{"start":{"line":1331,"column":4},"end":{"line":1331,"column":39}},"539":{"start":{"line":1341,"column":0},"end":{"line":1343,"column":2}},"540":{"start":{"line":1342,"column":4},"end":{"line":1342,"column":51}},"541":{"start":{"line":1345,"column":0},"end":{"line":1347,"column":2}},"542":{"start":{"line":1346,"column":4},"end":{"line":1346,"column":46}},"543":{"start":{"line":1355,"column":0},"end":{"line":1358,"column":2}},"544":{"start":{"line":1357,"column":4},"end":{"line":1357,"column":47}},"545":{"start":{"line":1360,"column":0},"end":{"line":1363,"column":2}},"546":{"start":{"line":1362,"column":4},"end":{"line":1362,"column":42}},"547":{"start":{"line":1378,"column":0},"end":{"line":1381,"column":2}},"548":{"start":{"line":1380,"column":4},"end":{"line":1380,"column":52}},"549":{"start":{"line":1383,"column":0},"end":{"line":1386,"column":2}},"550":{"start":{"line":1385,"column":4},"end":{"line":1385,"column":47}},"551":{"start":{"line":1395,"column":0},"end":{"line":1399,"column":2}},"552":{"start":{"line":1398,"column":4},"end":{"line":1398,"column":73}},"553":{"start":{"line":1401,"column":0},"end":{"line":1405,"column":2}},"554":{"start":{"line":1404,"column":4},"end":{"line":1404,"column":68}},"555":{"start":{"line":1412,"column":0},"end":{"line":1414,"column":2}},"556":{"start":{"line":1413,"column":4},"end":{"line":1413,"column":55}},"557":{"start":{"line":1416,"column":0},"end":{"line":1418,"column":2}},"558":{"start":{"line":1417,"column":4},"end":{"line":1417,"column":50}},"559":{"start":{"line":1425,"column":0},"end":{"line":1428,"column":2}},"560":{"start":{"line":1427,"column":4},"end":{"line":1427,"column":76}},"561":{"start":{"line":1430,"column":0},"end":{"line":1432,"column":2}},"562":{"start":{"line":1431,"column":4},"end":{"line":1431,"column":68}},"563":{"start":{"line":1440,"column":0},"end":{"line":1449,"column":2}},"564":{"start":{"line":1441,"column":4},"end":{"line":1441,"column":28}},"565":{"start":{"line":1442,"column":4},"end":{"line":1442,"column":41}},"566":{"start":{"line":1443,"column":4},"end":{"line":1448,"column":6}},"567":{"start":{"line":1444,"column":8},"end":{"line":1447,"column":11}},"568":{"start":{"line":1450,"column":0},"end":{"line":1459,"column":2}},"569":{"start":{"line":1451,"column":4},"end":{"line":1451,"column":23}},"570":{"start":{"line":1452,"column":4},"end":{"line":1452,"column":38}},"571":{"start":{"line":1453,"column":4},"end":{"line":1458,"column":6}},"572":{"start":{"line":1454,"column":8},"end":{"line":1457,"column":11}},"573":{"start":{"line":1467,"column":0},"end":{"line":1469,"column":2}},"574":{"start":{"line":1468,"column":4},"end":{"line":1468,"column":42}},"575":{"start":{"line":1471,"column":0},"end":{"line":1473,"column":2}},"576":{"start":{"line":1472,"column":4},"end":{"line":1472,"column":37}},"577":{"start":{"line":1484,"column":0},"end":{"line":1484,"column":12}},"578":{"start":{"line":1485,"column":0},"end":{"line":1518,"column":1}},"579":{"start":{"line":1486,"column":4},"end":{"line":1517,"column":7}},"580":{"start":{"line":1487,"column":8},"end":{"line":1487,"column":26}},"581":{"start":{"line":1488,"column":8},"end":{"line":1488,"column":31}},"582":{"start":{"line":1489,"column":8},"end":{"line":1512,"column":19}},"583":{"start":{"line":1490,"column":12},"end":{"line":1490,"column":25}},"584":{"start":{"line":1491,"column":12},"end":{"line":1511,"column":13}},"585":{"start":{"line":1495,"column":16},"end":{"line":1495,"column":49}},"586":{"start":{"line":1497,"column":16},"end":{"line":1497,"column":28}},"587":{"start":{"line":1498,"column":16},"end":{"line":1510,"column":18}},"588":{"start":{"line":1501,"column":24},"end":{"line":1501,"column":48}},"589":{"start":{"line":1502,"column":24},"end":{"line":1504,"column":25}},"590":{"start":{"line":1503,"column":28},"end":{"line":1503,"column":55}},"591":{"start":{"line":1508,"column":24},"end":{"line":1508,"column":75}},"592":{"start":{"line":1513,"column":8},"end":{"line":1515,"column":9}},"593":{"start":{"line":1514,"column":12},"end":{"line":1514,"column":39}},"594":{"start":{"line":1516,"column":8},"end":{"line":1516,"column":32}},"595":{"start":{"line":1520,"column":0},"end":{"line":1522,"column":2}},"596":{"start":{"line":1521,"column":4},"end":{"line":1521,"column":21}},"597":{"start":{"line":1533,"column":0},"end":{"line":1533,"column":68}},"598":{"start":{"line":1534,"column":0},"end":{"line":1543,"column":1}},"599":{"start":{"line":1535,"column":4},"end":{"line":1542,"column":7}},"600":{"start":{"line":1536,"column":8},"end":{"line":1536,"column":42}},"601":{"start":{"line":1537,"column":8},"end":{"line":1541,"column":11}},"602":{"start":{"line":1538,"column":12},"end":{"line":1538,"column":45}},"603":{"start":{"line":1540,"column":12},"end":{"line":1540,"column":28}},"604":{"start":{"line":1545,"column":0},"end":{"line":1547,"column":2}},"605":{"start":{"line":1546,"column":4},"end":{"line":1546,"column":29}},"606":{"start":{"line":1552,"column":0},"end":{"line":1552,"column":26}},"607":{"start":{"line":1553,"column":0},"end":{"line":1555,"column":1}},"608":{"start":{"line":1554,"column":4},"end":{"line":1554,"column":36}},"609":{"start":{"line":1564,"column":0},"end":{"line":1574,"column":2}},"610":{"start":{"line":1565,"column":4},"end":{"line":1573,"column":7}},"611":{"start":{"line":1566,"column":8},"end":{"line":1572,"column":12}},"612":{"start":{"line":1567,"column":12},"end":{"line":1567,"column":33}},"613":{"start":{"line":1568,"column":12},"end":{"line":1570,"column":13}},"614":{"start":{"line":1569,"column":16},"end":{"line":1569,"column":41}},"615":{"start":{"line":1571,"column":12},"end":{"line":1571,"column":56}},"616":{"start":{"line":1585,"column":0},"end":{"line":1588,"column":2}},"617":{"start":{"line":1587,"column":4},"end":{"line":1587,"column":44}},"618":{"start":{"line":1590,"column":0},"end":{"line":1593,"column":2}},"619":{"start":{"line":1592,"column":4},"end":{"line":1592,"column":39}},"620":{"start":{"line":1603,"column":0},"end":{"line":1603,"column":22}},"621":{"start":{"line":1604,"column":0},"end":{"line":1606,"column":1}},"622":{"start":{"line":1605,"column":4},"end":{"line":1605,"column":54}},"623":{"start":{"line":1608,"column":0},"end":{"line":1610,"column":2}},"624":{"start":{"line":1609,"column":4},"end":{"line":1609,"column":49}},"625":{"start":{"line":1623,"column":0},"end":{"line":1626,"column":2}},"626":{"start":{"line":1625,"column":4},"end":{"line":1625,"column":42}},"627":{"start":{"line":1628,"column":0},"end":{"line":1641,"column":2}},"628":{"start":{"line":1630,"column":4},"end":{"line":1630,"column":27}},"629":{"start":{"line":1631,"column":4},"end":{"line":1640,"column":7}},"630":{"start":{"line":1632,"column":8},"end":{"line":1634,"column":11}},"631":{"start":{"line":1633,"column":12},"end":{"line":1633,"column":25}},"632":{"start":{"line":1637,"column":8},"end":{"line":1639,"column":11}},"633":{"start":{"line":1638,"column":12},"end":{"line":1638,"column":25}},"634":{"start":{"line":1649,"column":0},"end":{"line":1651,"column":2}},"635":{"start":{"line":1650,"column":4},"end":{"line":1650,"column":57}},"636":{"start":{"line":1653,"column":0},"end":{"line":1677,"column":2}},"637":{"start":{"line":1654,"column":4},"end":{"line":1665,"column":6}},"638":{"start":{"line":1657,"column":8},"end":{"line":1664,"column":11}},"639":{"start":{"line":1658,"column":12},"end":{"line":1658,"column":47}},"640":{"start":{"line":1659,"column":12},"end":{"line":1663,"column":13}},"641":{"start":{"line":1660,"column":16},"end":{"line":1660,"column":33}},"642":{"start":{"line":1662,"column":16},"end":{"line":1662,"column":28}},"643":{"start":{"line":1668,"column":4},"end":{"line":1670,"column":13}},"644":{"start":{"line":1672,"column":4},"end":{"line":1674,"column":5}},"645":{"start":{"line":1673,"column":8},"end":{"line":1673,"column":65}},"646":{"start":{"line":1676,"column":4},"end":{"line":1676,"column":43}},"647":{"start":{"line":1688,"column":0},"end":{"line":1690,"column":2}},"648":{"start":{"line":1689,"column":4},"end":{"line":1689,"column":42}},"649":{"start":{"line":1692,"column":0},"end":{"line":1707,"column":2}},"650":{"start":{"line":1693,"column":4},"end":{"line":1693,"column":27}},"651":{"start":{"line":1694,"column":4},"end":{"line":1696,"column":11}},"652":{"start":{"line":1695,"column":8},"end":{"line":1695,"column":79}},"653":{"start":{"line":1698,"column":4},"end":{"line":1704,"column":24}},"654":{"start":{"line":1699,"column":8},"end":{"line":1699,"column":32}},"655":{"start":{"line":1700,"column":8},"end":{"line":1700,"column":32}},"656":{"start":{"line":1702,"column":8},"end":{"line":1702,"column":32}},"657":{"start":{"line":1703,"column":8},"end":{"line":1703,"column":35}},"658":{"start":{"line":1706,"column":4},"end":{"line":1706,"column":28}},"659":{"start":{"line":1718,"column":0},"end":{"line":1724,"column":2}},"660":{"start":{"line":1719,"column":4},"end":{"line":1722,"column":5}},"661":{"start":{"line":1720,"column":8},"end":{"line":1720,"column":25}},"662":{"start":{"line":1721,"column":8},"end":{"line":1721,"column":24}},"663":{"start":{"line":1723,"column":4},"end":{"line":1723,"column":36}},"664":{"start":{"line":1726,"column":0},"end":{"line":1734,"column":2}},"665":{"start":{"line":1727,"column":4},"end":{"line":1733,"column":7}},"666":{"start":{"line":1728,"column":8},"end":{"line":1728,"column":31}},"667":{"start":{"line":1729,"column":8},"end":{"line":1731,"column":20}},"668":{"start":{"line":1730,"column":12},"end":{"line":1730,"column":36}},"669":{"start":{"line":1732,"column":8},"end":{"line":1732,"column":32}},"670":{"start":{"line":1745,"column":0},"end":{"line":1747,"column":2}},"671":{"start":{"line":1746,"column":4},"end":{"line":1746,"column":37}},"672":{"start":{"line":1749,"column":0},"end":{"line":1755,"column":2}},"673":{"start":{"line":1750,"column":4},"end":{"line":1750,"column":27}},"674":{"start":{"line":1751,"column":4},"end":{"line":1751,"column":37}},"675":{"start":{"line":1752,"column":4},"end":{"line":1752,"column":47}},"676":{"start":{"line":1753,"column":4},"end":{"line":1753,"column":48}},"677":{"start":{"line":1754,"column":4},"end":{"line":1754,"column":28}},"678":{"start":{"line":1766,"column":0},"end":{"line":1769,"column":2}},"679":{"start":{"line":1767,"column":4},"end":{"line":1767,"column":41}},"680":{"start":{"line":1768,"column":4},"end":{"line":1768,"column":37}},"681":{"start":{"line":1771,"column":0},"end":{"line":1777,"column":2}},"682":{"start":{"line":1772,"column":4},"end":{"line":1772,"column":42}},"683":{"start":{"line":1773,"column":4},"end":{"line":1773,"column":27}},"684":{"start":{"line":1774,"column":4},"end":{"line":1774,"column":47}},"685":{"start":{"line":1775,"column":4},"end":{"line":1775,"column":48}},"686":{"start":{"line":1776,"column":4},"end":{"line":1776,"column":28}},"687":{"start":{"line":1787,"column":0},"end":{"line":1797,"column":2}},"688":{"start":{"line":1789,"column":4},"end":{"line":1789,"column":45}},"689":{"start":{"line":1790,"column":4},"end":{"line":1796,"column":6}},"690":{"start":{"line":1791,"column":8},"end":{"line":1791,"column":63}},"691":{"start":{"line":1792,"column":8},"end":{"line":1792,"column":31}},"692":{"start":{"line":1793,"column":8},"end":{"line":1793,"column":51}},"693":{"start":{"line":1794,"column":8},"end":{"line":1794,"column":59}},"694":{"start":{"line":1795,"column":8},"end":{"line":1795,"column":32}},"695":{"start":{"line":1799,"column":0},"end":{"line":1804,"column":2}},"696":{"start":{"line":1801,"column":4},"end":{"line":1801,"column":38}},"697":{"start":{"line":1802,"column":4},"end":{"line":1802,"column":23}},"698":{"start":{"line":1803,"column":4},"end":{"line":1803,"column":43}},"699":{"start":{"line":1806,"column":0},"end":{"line":1818,"column":2}},"700":{"start":{"line":1807,"column":4},"end":{"line":1807,"column":45}},"701":{"start":{"line":1808,"column":4},"end":{"line":1817,"column":6}},"702":{"start":{"line":1809,"column":8},"end":{"line":1809,"column":63}},"703":{"start":{"line":1810,"column":8},"end":{"line":1810,"column":31}},"704":{"start":{"line":1811,"column":8},"end":{"line":1811,"column":51}},"705":{"start":{"line":1812,"column":8},"end":{"line":1814,"column":9}},"706":{"start":{"line":1813,"column":12},"end":{"line":1813,"column":52}},"707":{"start":{"line":1815,"column":8},"end":{"line":1815,"column":56}},"708":{"start":{"line":1816,"column":8},"end":{"line":1816,"column":32}},"709":{"start":{"line":1820,"column":0},"end":{"line":1824,"column":2}},"710":{"start":{"line":1821,"column":4},"end":{"line":1821,"column":41}},"711":{"start":{"line":1822,"column":4},"end":{"line":1822,"column":23}},"712":{"start":{"line":1823,"column":4},"end":{"line":1823,"column":39}},"713":{"start":{"line":1835,"column":0},"end":{"line":1838,"column":2}},"714":{"start":{"line":1837,"column":4},"end":{"line":1837,"column":39}},"715":{"start":{"line":1840,"column":0},"end":{"line":1847,"column":2}},"716":{"start":{"line":1842,"column":4},"end":{"line":1842,"column":43}},"717":{"start":{"line":1843,"column":4},"end":{"line":1843,"column":27}},"718":{"start":{"line":1844,"column":4},"end":{"line":1844,"column":47}},"719":{"start":{"line":1845,"column":4},"end":{"line":1845,"column":66}},"720":{"start":{"line":1846,"column":4},"end":{"line":1846,"column":28}},"721":{"start":{"line":1859,"column":0},"end":{"line":1867,"column":2}},"722":{"start":{"line":1862,"column":4},"end":{"line":1862,"column":45}},"723":{"start":{"line":1863,"column":4},"end":{"line":1863,"column":27}},"724":{"start":{"line":1864,"column":4},"end":{"line":1864,"column":47}},"725":{"start":{"line":1865,"column":4},"end":{"line":1865,"column":71}},"726":{"start":{"line":1866,"column":4},"end":{"line":1866,"column":28}},"727":{"start":{"line":1869,"column":0},"end":{"line":1877,"column":2}},"728":{"start":{"line":1872,"column":4},"end":{"line":1872,"column":45}},"729":{"start":{"line":1873,"column":4},"end":{"line":1873,"column":27}},"730":{"start":{"line":1874,"column":4},"end":{"line":1874,"column":47}},"731":{"start":{"line":1875,"column":4},"end":{"line":1875,"column":66}},"732":{"start":{"line":1876,"column":4},"end":{"line":1876,"column":28}},"733":{"start":{"line":1889,"column":0},"end":{"line":1889,"column":20}},"734":{"start":{"line":1890,"column":0},"end":{"line":1892,"column":1}},"735":{"start":{"line":1891,"column":4},"end":{"line":1891,"column":39}},"736":{"start":{"line":1894,"column":0},"end":{"line":1908,"column":2}},"737":{"start":{"line":1895,"column":4},"end":{"line":1907,"column":5}},"738":{"start":{"line":1896,"column":8},"end":{"line":1904,"column":11}},"739":{"start":{"line":1897,"column":12},"end":{"line":1899,"column":15}},"740":{"start":{"line":1898,"column":16},"end":{"line":1898,"column":38}},"741":{"start":{"line":1901,"column":12},"end":{"line":1903,"column":15}},"742":{"start":{"line":1902,"column":16},"end":{"line":1902,"column":32}},"743":{"start":{"line":1906,"column":8},"end":{"line":1906,"column":20}},"744":{"start":{"line":1911,"column":0},"end":{"line":1911,"column":32}},"745":{"start":{"line":1913,"column":0},"end":{"line":1913,"column":9}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":4,"column":4}},{"start":{"line":4,"column":4},"end":{"line":4,"column":4}}]},"2":{"line":5,"type":"if","locations":[{"start":{"line":5,"column":4},"end":{"line":5,"column":4}},{"start":{"line":5,"column":4},"end":{"line":5,"column":4}}]},"3":{"line":5,"type":"binary-expr","locations":[{"start":{"line":5,"column":7},"end":{"line":5,"column":31}},{"start":{"line":5,"column":35},"end":{"line":5,"column":64}}]},"4":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":12},"end":{"line":7,"column":13}},{"start":{"line":7,"column":17},"end":{"line":7,"column":23}}]},"5":{"line":8,"type":"cond-expr","locations":[{"start":{"line":8,"column":39},"end":{"line":8,"column":48}},{"start":{"line":8,"column":51},"end":{"line":8,"column":52}}]},"6":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":4},"end":{"line":10,"column":18}},{"start":{"line":10,"column":22},"end":{"line":10,"column":81}}]},"7":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":12},"end":{"line":82,"column":12}},{"start":{"line":82,"column":12},"end":{"line":82,"column":12}}]},"8":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":16},"end":{"line":91,"column":16}},{"start":{"line":91,"column":16},"end":{"line":91,"column":16}}]},"9":{"line":98,"type":"if","locations":[{"start":{"line":98,"column":20},"end":{"line":98,"column":20}},{"start":{"line":98,"column":20},"end":{"line":98,"column":20}}]},"10":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":20},"end":{"line":102,"column":20}},{"start":{"line":102,"column":20},"end":{"line":102,"column":20}}]},"11":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":12},"end":{"line":117,"column":12}},{"start":{"line":117,"column":12},"end":{"line":117,"column":12}}]},"12":{"line":128,"type":"binary-expr","locations":[{"start":{"line":128,"column":20},"end":{"line":128,"column":28}},{"start":{"line":128,"column":32},"end":{"line":128,"column":46}}]},"13":{"line":132,"type":"if","locations":[{"start":{"line":132,"column":8},"end":{"line":132,"column":8}},{"start":{"line":132,"column":8},"end":{"line":132,"column":8}}]},"14":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":4},"end":{"line":138,"column":4}},{"start":{"line":138,"column":4},"end":{"line":138,"column":4}}]},"15":{"line":138,"type":"binary-expr","locations":[{"start":{"line":138,"column":8},"end":{"line":138,"column":38}},{"start":{"line":138,"column":42},"end":{"line":138,"column":58}}]},"16":{"line":147,"type":"if","locations":[{"start":{"line":147,"column":11},"end":{"line":147,"column":11}},{"start":{"line":147,"column":11},"end":{"line":147,"column":11}}]},"17":{"line":149,"type":"if","locations":[{"start":{"line":149,"column":8},"end":{"line":149,"column":8}},{"start":{"line":149,"column":8},"end":{"line":149,"column":8}}]},"18":{"line":157,"type":"if","locations":[{"start":{"line":157,"column":11},"end":{"line":157,"column":11}},{"start":{"line":157,"column":11},"end":{"line":157,"column":11}}]},"19":{"line":211,"type":"binary-expr","locations":[{"start":{"line":211,"column":4},"end":{"line":211,"column":26}},{"start":{"line":211,"column":30},"end":{"line":236,"column":5}}]},"20":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":8},"end":{"line":215,"column":8}},{"start":{"line":215,"column":8},"end":{"line":215,"column":8}}]},"21":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":16},"end":{"line":219,"column":16}},{"start":{"line":219,"column":16},"end":{"line":219,"column":16}}]},"22":{"line":223,"type":"if","locations":[{"start":{"line":223,"column":16},"end":{"line":223,"column":16}},{"start":{"line":223,"column":16},"end":{"line":223,"column":16}}]},"23":{"line":231,"type":"if","locations":[{"start":{"line":231,"column":12},"end":{"line":231,"column":12}},{"start":{"line":231,"column":12},"end":{"line":231,"column":12}}]},"24":{"line":240,"type":"binary-expr","locations":[{"start":{"line":240,"column":4},"end":{"line":240,"column":27}},{"start":{"line":240,"column":31},"end":{"line":248,"column":5}}]},"25":{"line":243,"type":"if","locations":[{"start":{"line":243,"column":12},"end":{"line":243,"column":12}},{"start":{"line":243,"column":12},"end":{"line":243,"column":12}}]},"26":{"line":252,"type":"binary-expr","locations":[{"start":{"line":252,"column":4},"end":{"line":252,"column":23}},{"start":{"line":252,"column":27},"end":{"line":259,"column":5}}]},"27":{"line":262,"type":"binary-expr","locations":[{"start":{"line":262,"column":20},"end":{"line":262,"column":33}},{"start":{"line":262,"column":37},"end":{"line":266,"column":1}}]},"28":{"line":270,"type":"binary-expr","locations":[{"start":{"line":270,"column":18},"end":{"line":270,"column":29}},{"start":{"line":270,"column":33},"end":{"line":278,"column":1}}]},"29":{"line":273,"type":"if","locations":[{"start":{"line":273,"column":8},"end":{"line":273,"column":8}},{"start":{"line":273,"column":8},"end":{"line":273,"column":8}}]},"30":{"line":291,"type":"binary-expr","locations":[{"start":{"line":291,"column":8},"end":{"line":291,"column":63}},{"start":{"line":292,"column":8},"end":{"line":292,"column":41}}]},"31":{"line":299,"type":"if","locations":[{"start":{"line":299,"column":0},"end":{"line":299,"column":0}},{"start":{"line":299,"column":0},"end":{"line":299,"column":0}}]},"32":{"line":330,"type":"if","locations":[{"start":{"line":330,"column":4},"end":{"line":330,"column":4}},{"start":{"line":330,"column":4},"end":{"line":330,"column":4}}]},"33":{"line":330,"type":"binary-expr","locations":[{"start":{"line":330,"column":8},"end":{"line":330,"column":17}},{"start":{"line":331,"column":8},"end":{"line":331,"column":21}},{"start":{"line":332,"column":8},"end":{"line":332,"column":33}},{"start":{"line":333,"column":8},"end":{"line":333,"column":22}},{"start":{"line":334,"column":8},"end":{"line":334,"column":19}},{"start":{"line":335,"column":8},"end":{"line":335,"column":56}}]},"34":{"line":339,"type":"if","locations":[{"start":{"line":339,"column":12},"end":{"line":339,"column":12}},{"start":{"line":339,"column":12},"end":{"line":339,"column":12}}]},"35":{"line":356,"type":"if","locations":[{"start":{"line":356,"column":8},"end":{"line":356,"column":8}},{"start":{"line":356,"column":8},"end":{"line":356,"column":8}}]},"36":{"line":356,"type":"binary-expr","locations":[{"start":{"line":356,"column":12},"end":{"line":356,"column":34}},{"start":{"line":356,"column":38},"end":{"line":356,"column":56}},{"start":{"line":356,"column":60},"end":{"line":356,"column":64}}]},"37":{"line":364,"type":"binary-expr","locations":[{"start":{"line":364,"column":11},"end":{"line":364,"column":50}},{"start":{"line":365,"column":11},"end":{"line":365,"column":48}}]},"38":{"line":372,"type":"if","locations":[{"start":{"line":372,"column":4},"end":{"line":372,"column":4}},{"start":{"line":372,"column":4},"end":{"line":372,"column":4}}]},"39":{"line":378,"type":"if","locations":[{"start":{"line":378,"column":4},"end":{"line":378,"column":4}},{"start":{"line":378,"column":4},"end":{"line":378,"column":4}}]},"40":{"line":384,"type":"if","locations":[{"start":{"line":384,"column":4},"end":{"line":384,"column":4}},{"start":{"line":384,"column":4},"end":{"line":384,"column":4}}]},"41":{"line":392,"type":"if","locations":[{"start":{"line":392,"column":4},"end":{"line":392,"column":4}},{"start":{"line":392,"column":4},"end":{"line":392,"column":4}}]},"42":{"line":399,"type":"binary-expr","locations":[{"start":{"line":399,"column":11},"end":{"line":399,"column":33}},{"start":{"line":400,"column":8},"end":{"line":400,"column":35}},{"start":{"line":401,"column":8},"end":{"line":401,"column":33}}]},"43":{"line":407,"type":"if","locations":[{"start":{"line":407,"column":4},"end":{"line":407,"column":4}},{"start":{"line":407,"column":4},"end":{"line":407,"column":4}}]},"44":{"line":415,"type":"cond-expr","locations":[{"start":{"line":415,"column":52},"end":{"line":415,"column":60}},{"start":{"line":415,"column":63},"end":{"line":415,"column":71}}]},"45":{"line":417,"type":"if","locations":[{"start":{"line":417,"column":8},"end":{"line":417,"column":8}},{"start":{"line":417,"column":8},"end":{"line":417,"column":8}}]},"46":{"line":428,"type":"if","locations":[{"start":{"line":428,"column":8},"end":{"line":428,"column":8}},{"start":{"line":428,"column":8},"end":{"line":428,"column":8}}]},"47":{"line":428,"type":"binary-expr","locations":[{"start":{"line":428,"column":12},"end":{"line":428,"column":42}},{"start":{"line":429,"column":12},"end":{"line":429,"column":46}}]},"48":{"line":449,"type":"if","locations":[{"start":{"line":449,"column":4},"end":{"line":449,"column":4}},{"start":{"line":449,"column":4},"end":{"line":449,"column":4}}]},"49":{"line":454,"type":"if","locations":[{"start":{"line":454,"column":4},"end":{"line":454,"column":4}},{"start":{"line":454,"column":4},"end":{"line":454,"column":4}}]},"50":{"line":498,"type":"if","locations":[{"start":{"line":498,"column":8},"end":{"line":498,"column":8}},{"start":{"line":498,"column":8},"end":{"line":498,"column":8}}]},"51":{"line":500,"type":"if","locations":[{"start":{"line":500,"column":12},"end":{"line":500,"column":12}},{"start":{"line":500,"column":12},"end":{"line":500,"column":12}}]},"52":{"line":500,"type":"binary-expr","locations":[{"start":{"line":500,"column":16},"end":{"line":500,"column":29}},{"start":{"line":500,"column":33},"end":{"line":500,"column":44}}]},"53":{"line":512,"type":"if","locations":[{"start":{"line":512,"column":8},"end":{"line":512,"column":8}},{"start":{"line":512,"column":8},"end":{"line":512,"column":8}}]},"54":{"line":516,"type":"if","locations":[{"start":{"line":516,"column":8},"end":{"line":516,"column":8}},{"start":{"line":516,"column":8},"end":{"line":516,"column":8}}]},"55":{"line":523,"type":"if","locations":[{"start":{"line":523,"column":8},"end":{"line":523,"column":8}},{"start":{"line":523,"column":8},"end":{"line":523,"column":8}}]},"56":{"line":529,"type":"if","locations":[{"start":{"line":529,"column":4},"end":{"line":529,"column":4}},{"start":{"line":529,"column":4},"end":{"line":529,"column":4}}]},"57":{"line":529,"type":"binary-expr","locations":[{"start":{"line":529,"column":8},"end":{"line":529,"column":26}},{"start":{"line":529,"column":30},"end":{"line":529,"column":39}}]},"58":{"line":563,"type":"if","locations":[{"start":{"line":563,"column":8},"end":{"line":563,"column":8}},{"start":{"line":563,"column":8},"end":{"line":563,"column":8}}]},"59":{"line":571,"type":"if","locations":[{"start":{"line":571,"column":8},"end":{"line":571,"column":8}},{"start":{"line":571,"column":8},"end":{"line":571,"column":8}}]},"60":{"line":578,"type":"if","locations":[{"start":{"line":578,"column":8},"end":{"line":578,"column":8}},{"start":{"line":578,"column":8},"end":{"line":578,"column":8}}]},"61":{"line":585,"type":"if","locations":[{"start":{"line":585,"column":8},"end":{"line":585,"column":8}},{"start":{"line":585,"column":8},"end":{"line":585,"column":8}}]},"62":{"line":607,"type":"if","locations":[{"start":{"line":607,"column":8},"end":{"line":607,"column":8}},{"start":{"line":607,"column":8},"end":{"line":607,"column":8}}]},"63":{"line":609,"type":"if","locations":[{"start":{"line":609,"column":15},"end":{"line":609,"column":15}},{"start":{"line":609,"column":15},"end":{"line":609,"column":15}}]},"64":{"line":625,"type":"if","locations":[{"start":{"line":625,"column":4},"end":{"line":625,"column":4}},{"start":{"line":625,"column":4},"end":{"line":625,"column":4}}]},"65":{"line":667,"type":"if","locations":[{"start":{"line":667,"column":8},"end":{"line":667,"column":8}},{"start":{"line":667,"column":8},"end":{"line":667,"column":8}}]},"66":{"line":712,"type":"if","locations":[{"start":{"line":712,"column":4},"end":{"line":712,"column":4}},{"start":{"line":712,"column":4},"end":{"line":712,"column":4}}]},"67":{"line":719,"type":"if","locations":[{"start":{"line":719,"column":4},"end":{"line":719,"column":4}},{"start":{"line":719,"column":4},"end":{"line":719,"column":4}}]},"68":{"line":730,"type":"if","locations":[{"start":{"line":730,"column":12},"end":{"line":730,"column":12}},{"start":{"line":730,"column":12},"end":{"line":730,"column":12}}]},"69":{"line":738,"type":"if","locations":[{"start":{"line":738,"column":8},"end":{"line":738,"column":8}},{"start":{"line":738,"column":8},"end":{"line":738,"column":8}}]},"70":{"line":746,"type":"if","locations":[{"start":{"line":746,"column":4},"end":{"line":746,"column":4}},{"start":{"line":746,"column":4},"end":{"line":746,"column":4}}]},"71":{"line":748,"type":"if","locations":[{"start":{"line":748,"column":8},"end":{"line":748,"column":8}},{"start":{"line":748,"column":8},"end":{"line":748,"column":8}}]},"72":{"line":754,"type":"if","locations":[{"start":{"line":754,"column":12},"end":{"line":754,"column":12}},{"start":{"line":754,"column":12},"end":{"line":754,"column":12}}]},"73":{"line":754,"type":"binary-expr","locations":[{"start":{"line":754,"column":16},"end":{"line":754,"column":45}},{"start":{"line":755,"column":16},"end":{"line":755,"column":46}}]},"74":{"line":777,"type":"cond-expr","locations":[{"start":{"line":777,"column":53},"end":{"line":777,"column":69}},{"start":{"line":777,"column":72},"end":{"line":777,"column":77}}]},"75":{"line":784,"type":"if","locations":[{"start":{"line":784,"column":8},"end":{"line":784,"column":8}},{"start":{"line":784,"column":8},"end":{"line":784,"column":8}}]},"76":{"line":796,"type":"cond-expr","locations":[{"start":{"line":796,"column":50},"end":{"line":796,"column":67}},{"start":{"line":796,"column":70},"end":{"line":796,"column":75}}]},"77":{"line":801,"type":"if","locations":[{"start":{"line":801,"column":12},"end":{"line":801,"column":12}},{"start":{"line":801,"column":12},"end":{"line":801,"column":12}}]},"78":{"line":808,"type":"if","locations":[{"start":{"line":808,"column":12},"end":{"line":808,"column":12}},{"start":{"line":808,"column":12},"end":{"line":808,"column":12}}]},"79":{"line":825,"type":"if","locations":[{"start":{"line":825,"column":12},"end":{"line":825,"column":12}},{"start":{"line":825,"column":12},"end":{"line":825,"column":12}}]},"80":{"line":832,"type":"if","locations":[{"start":{"line":832,"column":8},"end":{"line":832,"column":8}},{"start":{"line":832,"column":8},"end":{"line":832,"column":8}}]},"81":{"line":890,"type":"if","locations":[{"start":{"line":890,"column":4},"end":{"line":890,"column":4}},{"start":{"line":890,"column":4},"end":{"line":890,"column":4}}]},"82":{"line":892,"type":"if","locations":[{"start":{"line":892,"column":8},"end":{"line":892,"column":8}},{"start":{"line":892,"column":8},"end":{"line":892,"column":8}}]},"83":{"line":905,"type":"binary-expr","locations":[{"start":{"line":905,"column":11},"end":{"line":905,"column":27}},{"start":{"line":906,"column":8},"end":{"line":906,"column":52}},{"start":{"line":907,"column":8},"end":{"line":907,"column":44}}]},"84":{"line":912,"type":"binary-expr","locations":[{"start":{"line":912,"column":11},"end":{"line":912,"column":27}},{"start":{"line":912,"column":31},"end":{"line":912,"column":64}}]},"85":{"line":921,"type":"binary-expr","locations":[{"start":{"line":921,"column":11},"end":{"line":921,"column":28}},{"start":{"line":921,"column":32},"end":{"line":921,"column":68}}]},"86":{"line":934,"type":"binary-expr","locations":[{"start":{"line":934,"column":11},"end":{"line":934,"column":29}},{"start":{"line":934,"column":33},"end":{"line":934,"column":71}}]},"87":{"line":946,"type":"binary-expr","locations":[{"start":{"line":946,"column":11},"end":{"line":946,"column":28}},{"start":{"line":946,"column":32},"end":{"line":946,"column":69}}]},"88":{"line":964,"type":"if","locations":[{"start":{"line":964,"column":4},"end":{"line":964,"column":4}},{"start":{"line":964,"column":4},"end":{"line":964,"column":4}}]},"89":{"line":965,"type":"binary-expr","locations":[{"start":{"line":965,"column":8},"end":{"line":965,"column":34}},{"start":{"line":966,"column":8},"end":{"line":966,"column":37}},{"start":{"line":967,"column":8},"end":{"line":967,"column":22}}]},"90":{"line":988,"type":"if","locations":[{"start":{"line":988,"column":4},"end":{"line":988,"column":4}},{"start":{"line":988,"column":4},"end":{"line":988,"column":4}}]},"91":{"line":994,"type":"if","locations":[{"start":{"line":994,"column":8},"end":{"line":994,"column":8}},{"start":{"line":994,"column":8},"end":{"line":994,"column":8}}]},"92":{"line":994,"type":"binary-expr","locations":[{"start":{"line":994,"column":12},"end":{"line":994,"column":42}},{"start":{"line":994,"column":46},"end":{"line":994,"column":56}}]},"93":{"line":1001,"type":"if","locations":[{"start":{"line":1001,"column":4},"end":{"line":1001,"column":4}},{"start":{"line":1001,"column":4},"end":{"line":1001,"column":4}}]},"94":{"line":1006,"type":"if","locations":[{"start":{"line":1006,"column":4},"end":{"line":1006,"column":4}},{"start":{"line":1006,"column":4},"end":{"line":1006,"column":4}}]},"95":{"line":1006,"type":"binary-expr","locations":[{"start":{"line":1006,"column":8},"end":{"line":1006,"column":14}},{"start":{"line":1006,"column":18},"end":{"line":1006,"column":53}}]},"96":{"line":1015,"type":"if","locations":[{"start":{"line":1015,"column":4},"end":{"line":1015,"column":4}},{"start":{"line":1015,"column":4},"end":{"line":1015,"column":4}}]},"97":{"line":1020,"type":"if","locations":[{"start":{"line":1020,"column":4},"end":{"line":1020,"column":4}},{"start":{"line":1020,"column":4},"end":{"line":1020,"column":4}}]},"98":{"line":1035,"type":"if","locations":[{"start":{"line":1035,"column":4},"end":{"line":1035,"column":4}},{"start":{"line":1035,"column":4},"end":{"line":1035,"column":4}}]},"99":{"line":1035,"type":"binary-expr","locations":[{"start":{"line":1035,"column":8},"end":{"line":1035,"column":38}},{"start":{"line":1035,"column":42},"end":{"line":1035,"column":52}}]},"100":{"line":1054,"type":"if","locations":[{"start":{"line":1054,"column":12},"end":{"line":1054,"column":12}},{"start":{"line":1054,"column":12},"end":{"line":1054,"column":12}}]},"101":{"line":1057,"type":"cond-expr","locations":[{"start":{"line":1057,"column":30},"end":{"line":1057,"column":46}},{"start":{"line":1057,"column":49},"end":{"line":1057,"column":53}}]},"102":{"line":1093,"type":"if","locations":[{"start":{"line":1093,"column":12},"end":{"line":1093,"column":12}},{"start":{"line":1093,"column":12},"end":{"line":1093,"column":12}}]},"103":{"line":1093,"type":"binary-expr","locations":[{"start":{"line":1093,"column":16},"end":{"line":1093,"column":29}},{"start":{"line":1093,"column":33},"end":{"line":1093,"column":48}}]},"104":{"line":1201,"type":"if","locations":[{"start":{"line":1201,"column":12},"end":{"line":1201,"column":12}},{"start":{"line":1201,"column":12},"end":{"line":1201,"column":12}}]},"105":{"line":1207,"type":"if","locations":[{"start":{"line":1207,"column":16},"end":{"line":1207,"column":16}},{"start":{"line":1207,"column":16},"end":{"line":1207,"column":16}}]},"106":{"line":1217,"type":"if","locations":[{"start":{"line":1217,"column":20},"end":{"line":1217,"column":20}},{"start":{"line":1217,"column":20},"end":{"line":1217,"column":20}}]},"107":{"line":1491,"type":"if","locations":[{"start":{"line":1491,"column":12},"end":{"line":1491,"column":12}},{"start":{"line":1491,"column":12},"end":{"line":1491,"column":12}}]},"108":{"line":1492,"type":"binary-expr","locations":[{"start":{"line":1492,"column":16},"end":{"line":1492,"column":34}},{"start":{"line":1493,"column":16},"end":{"line":1493,"column":68}}]},"109":{"line":1502,"type":"if","locations":[{"start":{"line":1502,"column":24},"end":{"line":1502,"column":24}},{"start":{"line":1502,"column":24},"end":{"line":1502,"column":24}}]},"110":{"line":1513,"type":"if","locations":[{"start":{"line":1513,"column":8},"end":{"line":1513,"column":8}},{"start":{"line":1513,"column":8},"end":{"line":1513,"column":8}}]},"111":{"line":1659,"type":"if","locations":[{"start":{"line":1659,"column":12},"end":{"line":1659,"column":12}},{"start":{"line":1659,"column":12},"end":{"line":1659,"column":12}}]},"112":{"line":1668,"type":"cond-expr","locations":[{"start":{"line":1669,"column":8},"end":{"line":1669,"column":48}},{"start":{"line":1670,"column":8},"end":{"line":1670,"column":12}}]},"113":{"line":1668,"type":"binary-expr","locations":[{"start":{"line":1668,"column":18},"end":{"line":1668,"column":27}},{"start":{"line":1668,"column":31},"end":{"line":1668,"column":39}},{"start":{"line":1668,"column":43},"end":{"line":1668,"column":51}}]},"114":{"line":1672,"type":"if","locations":[{"start":{"line":1672,"column":4},"end":{"line":1672,"column":4}},{"start":{"line":1672,"column":4},"end":{"line":1672,"column":4}}]},"115":{"line":1672,"type":"binary-expr","locations":[{"start":{"line":1672,"column":8},"end":{"line":1672,"column":35}},{"start":{"line":1672,"column":39},"end":{"line":1672,"column":46}},{"start":{"line":1672,"column":50},"end":{"line":1672,"column":64}}]},"116":{"line":1695,"type":"binary-expr","locations":[{"start":{"line":1695,"column":34},"end":{"line":1695,"column":41}},{"start":{"line":1695,"column":45},"end":{"line":1695,"column":76}}]},"117":{"line":1719,"type":"if","locations":[{"start":{"line":1719,"column":4},"end":{"line":1719,"column":4}},{"start":{"line":1719,"column":4},"end":{"line":1719,"column":4}}]},"118":{"line":1842,"type":"binary-expr","locations":[{"start":{"line":1842,"column":31},"end":{"line":1842,"column":35}},{"start":{"line":1842,"column":39},"end":{"line":1842,"column":41}}]},"119":{"line":1895,"type":"if","locations":[{"start":{"line":1895,"column":4},"end":{"line":1895,"column":4}},{"start":{"line":1895,"column":4},"end":{"line":1895,"column":4}}]}},"code":["// depdnencies: http, Q","/****** jQuery plugin for Angoose Client *******/","function angoose_jquery_adapater(){","    if(AngooseClient.client) return;","    if(typeof($) == 'undefined' && typeof(jQuery) == 'undefined') return;","    AngooseClient.client = 'jquery';","    var $ = $ || jQuery;","    var $q = typeof(Q) == 'undefined'? createQ() : Q;","    ","    window.console && console.log(\"##### Angoose Client for jQuery Initializing\");","     AngooseClient.init({","                http: ajaxHttpWrapper(),","                promise: $q","            });","     function ajaxHttpWrapper( ){","        var ret = {};","        ret.post = function(){","            var deferred = $q.defer();","            var url = arguments[0];","            var data = arguments[1];","            $.ajax(url, {","                method: 'POST',","                data: JSON.stringify(data),","                dataType: 'json',","                contentType: 'application/json;charset=UTF-8',","                xhrFields: {","                   withCredentials: true","                }","            }).done(function(data, textStatus, jqXHR ){","                deferred.resolve(  data );","            }).fail(function( jqXHR, textStatus, err){","                deferred.reject(err);","            });","            return deferred.promise;","        };","        return ret;","    }","   ","}","angoose_jquery_adapater();"," ","/** include Q for now */","function createQ() {","\"use strict\";","","var hasStacks = false;","try {","    throw new Error();","} catch (e) {","    hasStacks = !!e.stack;","}","","// All code after this point will be filtered from stack traces reported","// by Q.","var qStartingLine = captureLine();","var qFileName;","","// shims","","// used for fallback in \"allResolved\"","var noop = function () {};","","// Use the fastest possible means to execute a task in a future turn","// of the event loop.","var nextTick =(function () {","    // linked list of tasks (single, with head node)","    var head = {task: void 0, next: null};","    var tail = head;","    var flushing = false;","    var requestTick = void 0;","    var isNodeJS = false;","","    function flush() {","        /* jshint loopfunc: true */","","        while (head.next) {","            head = head.next;","            var task = head.task;","            head.task = void 0;","            var domain = head.domain;","","            if (domain) {","                head.domain = void 0;","                domain.enter();","            }","","            try {","                task();","","            } catch (e) {","                if (isNodeJS) {","                    // In node, uncaught exceptions are considered fatal errors.","                    // Re-throw them synchronously to interrupt flushing!","","                    // Ensure continuation if the uncaught exception is suppressed","                    // listening \"uncaughtException\" events (as domains does).","                    // Continue in next event to avoid tick recursion.","                    if (domain) {","                        domain.exit();","                    }","                    setTimeout(flush, 0);","                    if (domain) {","                        domain.enter();","                    }","","                    throw e;","","                } else {","                    // In browsers, uncaught exceptions are not fatal.","                    // Re-throw them asynchronously to avoid slow-downs.","                    setTimeout(function() {","                       throw e;","                    }, 0);","                }","            }","","            if (domain) {","                domain.exit();","            }","        }","","        flushing = false;","    }","","    nextTick = function (task) {","        tail = tail.next = {","            task: task,","            domain: isNodeJS && process.domain,","            next: null","        };","","        if (!flushing) {","            flushing = true;","            requestTick();","        }","    };","","    if (typeof process !== \"undefined\" && process.nextTick) {","        // Node.js before 0.9. Note that some fake-Node environments, like the","        // Mocha test runner, introduce a `process` global without a `nextTick`.","        isNodeJS = true;","","        requestTick = function () {","            process.nextTick(flush);","        };","","    } else if (typeof setImmediate === \"function\") {","        // In IE10, Node.js 0.9+, or https://github.com/NobleJS/setImmediate","        if (typeof window !== \"undefined\") {","            requestTick = setImmediate.bind(window, flush);","        } else {","            requestTick = function () {","                setImmediate(flush);","            };","        }","","    } else if (typeof MessageChannel !== \"undefined\") {","        // modern browsers","        // http://www.nonblocking.io/2011/06/windownexttick.html","        var channel = new MessageChannel();","        // At least Safari Version 6.0.5 (8536.30.1) intermittently cannot create","        // working message ports the first time a page loads.","        channel.port1.onmessage = function () {","            requestTick = requestPortTick;","            channel.port1.onmessage = flush;","            flush();","        };","        var requestPortTick = function () {","            // Opera requires us to provide a message payload, regardless of","            // whether we use it.","            channel.port2.postMessage(0);","        };","        requestTick = function () {","            setTimeout(flush, 0);","            requestPortTick();","        };","","    } else {","        // old browsers","        requestTick = function () {","            setTimeout(flush, 0);","        };","    }","","    return nextTick;","})();","","// Attempt to make generics safe in the face of downstream","// modifications.","// There is no situation where this is necessary.","// If you need a security guarantee, these primordials need to be","// deeply frozen anyway, and if you don’t need a security guarantee,","// this is just plain paranoid.","// However, this **might** have the nice side-effect of reducing the size of","// the minified code by reducing x.call() to merely x()","// See Mark Miller’s explanation of what this does.","// http://wiki.ecmascript.org/doku.php?id=conventions:safe_meta_programming","var call = Function.call;","function uncurryThis(f) {","    return function () {","        return call.apply(f, arguments);","    };","}","// This is equivalent, but slower:","// uncurryThis = Function_bind.bind(Function_bind.call);","// http://jsperf.com/uncurrythis","","var array_slice = uncurryThis(Array.prototype.slice);","","var array_reduce = uncurryThis(","    Array.prototype.reduce || function (callback, basis) {","        var index = 0,","            length = this.length;","        // concerning the initial value, if one is not provided","        if (arguments.length === 1) {","            // seek to the first value in the array, accounting","            // for the possibility that is is a sparse array","            do {","                if (index in this) {","                    basis = this[index++];","                    break;","                }","                if (++index >= length) {","                    throw new TypeError();","                }","            } while (1);","        }","        // reduce","        for (; index < length; index++) {","            // account for the possibility that the array is sparse","            if (index in this) {","                basis = callback(basis, this[index], index);","            }","        }","        return basis;","    }",");","","var array_indexOf = uncurryThis(","    Array.prototype.indexOf || function (value) {","        // not a very good shim, but good enough for our one use of it","        for (var i = 0; i < this.length; i++) {","            if (this[i] === value) {","                return i;","            }","        }","        return -1;","    }",");","","var array_map = uncurryThis(","    Array.prototype.map || function (callback, thisp) {","        var self = this;","        var collect = [];","        array_reduce(self, function (undefined, value, index) {","            collect.push(callback.call(thisp, value, index, self));","        }, void 0);","        return collect;","    }",");","","var object_create = Object.create || function (prototype) {","    function Type() { }","    Type.prototype = prototype;","    return new Type();","};","","var object_hasOwnProperty = uncurryThis(Object.prototype.hasOwnProperty);","","var object_keys = Object.keys || function (object) {","    var keys = [];","    for (var key in object) {","        if (object_hasOwnProperty(object, key)) {","            keys.push(key);","        }","    }","    return keys;","};","","var object_toString = uncurryThis(Object.prototype.toString);","","function isObject(value) {","    return value === Object(value);","}","","// generator related shims","","// FIXME: Remove this function once ES6 generators are in SpiderMonkey.","function isStopIteration(exception) {","    return (","        object_toString(exception) === \"[object StopIteration]\" ||","        exception instanceof QReturnValue","    );","}","","// FIXME: Remove this helper and Q.return once ES6 generators are in","// SpiderMonkey.","var QReturnValue;","if (typeof ReturnValue !== \"undefined\") {","    QReturnValue = ReturnValue;","} else {","    QReturnValue = function (value) {","        this.value = value;","    };","}","","// Until V8 3.19 / Chromium 29 is released, SpiderMonkey is the only","// engine that has a deployed base of browsers that support generators.","// However, SM's generators use the Python-inspired semantics of","// outdated ES6 drafts.  We would like to support ES6, but we'd also","// like to make it possible to use generators in deployed browsers, so","// we also support Python-style generators.  At some point we can remove","// this block.","var hasES6Generators;","try {","    /* jshint evil: true, nonew: false */","    new Function(\"(function* (){ yield 1; })\");","    hasES6Generators = true;","} catch (e) {","    hasES6Generators = false;","}","","// long stack traces","","var STACK_JUMP_SEPARATOR = \"From previous event:\";","","function makeStackTraceLong(error, promise) {","    // If possible, transform the error stack trace by removing Node and Q","    // cruft, then concatenating with the stack trace of `promise`. See #57.","    if (hasStacks &&","        promise.stack &&","        typeof error === \"object\" &&","        error !== null &&","        error.stack &&","        error.stack.indexOf(STACK_JUMP_SEPARATOR) === -1","    ) {","        var stacks = [];","        for (var p = promise; !!p; p = p.source) {","            if (p.stack) {","                stacks.unshift(p.stack);","            }","        }","        stacks.unshift(error.stack);","","        var concatedStacks = stacks.join(\"\\n\" + STACK_JUMP_SEPARATOR + \"\\n\");","        error.stack = filterStackString(concatedStacks);","    }","}","","function filterStackString(stackString) {","    var lines = stackString.split(\"\\n\");","    var desiredLines = [];","    for (var i = 0; i < lines.length; ++i) {","        var line = lines[i];","","        if (!isInternalFrame(line) && !isNodeFrame(line) && line) {","            desiredLines.push(line);","        }","    }","    return desiredLines.join(\"\\n\");","}","","function isNodeFrame(stackLine) {","    return stackLine.indexOf(\"(module.js:\") !== -1 ||","           stackLine.indexOf(\"(node.js:\") !== -1;","}","","function getFileNameAndLineNumber(stackLine) {","    // Named functions: \"at functionName (filename:lineNumber:columnNumber)\"","    // In IE10 function name can have spaces (\"Anonymous function\") O_o","    var attempt1 = /at .+ \\((.+):(\\d+):(?:\\d+)\\)$/.exec(stackLine);","    if (attempt1) {","        return [attempt1[1], Number(attempt1[2])];","    }","","    // Anonymous functions: \"at filename:lineNumber:columnNumber\"","    var attempt2 = /at ([^ ]+):(\\d+):(?:\\d+)$/.exec(stackLine);","    if (attempt2) {","        return [attempt2[1], Number(attempt2[2])];","    }","","    // Firefox style: \"function@filename:lineNumber or @filename:lineNumber\"","    var attempt3 = /.*@(.+):(\\d+)$/.exec(stackLine);","    if (attempt3) {","        return [attempt3[1], Number(attempt3[2])];","    }","}","","function isInternalFrame(stackLine) {","    var fileNameAndLineNumber = getFileNameAndLineNumber(stackLine);","","    if (!fileNameAndLineNumber) {","        return false;","    }","","    var fileName = fileNameAndLineNumber[0];","    var lineNumber = fileNameAndLineNumber[1];","","    return fileName === qFileName &&","        lineNumber >= qStartingLine &&","        lineNumber <= qEndingLine;","}","","// discover own file name and line number range for filtering stack","// traces","function captureLine() {","    if (!hasStacks) {","        return;","    }","","    try {","        throw new Error();","    } catch (e) {","        var lines = e.stack.split(\"\\n\");","        var firstLine = lines[0].indexOf(\"@\") > 0 ? lines[1] : lines[2];","        var fileNameAndLineNumber = getFileNameAndLineNumber(firstLine);","        if (!fileNameAndLineNumber) {","            return;","        }","","        qFileName = fileNameAndLineNumber[0];","        return fileNameAndLineNumber[1];","    }","}","","function deprecate(callback, name, alternative) {","    return function () {","        if (typeof console !== \"undefined\" &&","            typeof console.warn === \"function\") {","            console.warn(name + \" is deprecated, use \" + alternative +","                         \" instead.\", new Error(\"\").stack);","        }","        return callback.apply(callback, arguments);","    };","}","","// end of shims","// beginning of real work","","/**"," * Constructs a promise for an immediate reference, passes promises through, or"," * coerces promises from different systems."," * @param value immediate reference or promise"," */","function Q(value) {","    // If the object is already a Promise, return it directly.  This enables","    // the resolve function to both be used to created references from objects,","    // but to tolerably coerce non-promises to promises.","    if (isPromise(value)) {","        return value;","    }","","    // assimilate thenables","    if (isPromiseAlike(value)) {","        return coerce(value);","    } else {","        return fulfill(value);","    }","}","Q.resolve = Q;","","/**"," * Performs a task in a future turn of the event loop."," * @param {Function} task"," */","Q.nextTick = nextTick;","","/**"," * Controls whether or not long stack traces will be on"," */","Q.longStackSupport = false;","","/**"," * Constructs a {promise, resolve, reject} object."," *"," * `resolve` is a callback to invoke with a more resolved value for the"," * promise. To fulfill the promise, invoke `resolve` with any value that is"," * not a thenable. To reject the promise, invoke `resolve` with a rejected"," * thenable, or invoke `reject` with the reason directly. To resolve the"," * promise to another thenable, thus putting it in the same state, invoke"," * `resolve` with that other thenable."," */","Q.defer = defer;","function defer() {","    // if \"messages\" is an \"Array\", that indicates that the promise has not yet","    // been resolved.  If it is \"undefined\", it has been resolved.  Each","    // element of the messages array is itself an array of complete arguments to","    // forward to the resolved promise.  We coerce the resolution value to a","    // promise using the `resolve` function because it handles both fully","    // non-thenable values and other thenables gracefully.","    var messages = [], progressListeners = [], resolvedPromise;","","    var deferred = object_create(defer.prototype);","    var promise = object_create(Promise.prototype);","","    promise.promiseDispatch = function (resolve, op, operands) {","        var args = array_slice(arguments);","        if (messages) {","            messages.push(args);","            if (op === \"when\" && operands[1]) { // progress operand","                progressListeners.push(operands[1]);","            }","        } else {","            nextTick(function () {","                resolvedPromise.promiseDispatch.apply(resolvedPromise, args);","            });","        }","    };","","    // XXX deprecated","    promise.valueOf = function () {","        if (messages) {","            return promise;","        }","        var nearerValue = nearer(resolvedPromise);","        if (isPromise(nearerValue)) {","            resolvedPromise = nearerValue; // shorten chain","        }","        return nearerValue;","    };","","    promise.inspect = function () {","        if (!resolvedPromise) {","            return { state: \"pending\" };","        }","        return resolvedPromise.inspect();","    };","","    if (Q.longStackSupport && hasStacks) {","        try {","            throw new Error();","        } catch (e) {","            // NOTE: don't try to use `Error.captureStackTrace` or transfer the","            // accessor around; that causes memory leaks as per GH-111. Just","            // reify the stack trace as a string ASAP.","            //","            // At the same time, cut off the first line; it's always just","            // \"[object Promise]\\n\", as per the `toString`.","            promise.stack = e.stack.substring(e.stack.indexOf(\"\\n\") + 1);","        }","    }","","    // NOTE: we do the checks for `resolvedPromise` in each method, instead of","    // consolidating them into `become`, since otherwise we'd create new","    // promises with the lines `become(whatever(value))`. See e.g. GH-252.","","    function become(newPromise) {","        resolvedPromise = newPromise;","        promise.source = newPromise;","","        array_reduce(messages, function (undefined, message) {","            nextTick(function () {","                newPromise.promiseDispatch.apply(newPromise, message);","            });","        }, void 0);","","        messages = void 0;","        progressListeners = void 0;","    }","","    deferred.promise = promise;","    deferred.resolve = function (value) {","        if (resolvedPromise) {","            return;","        }","","        become(Q(value));","    };","","    deferred.fulfill = function (value) {","        if (resolvedPromise) {","            return;","        }","","        become(fulfill(value));","    };","    deferred.reject = function (reason) {","        if (resolvedPromise) {","            return;","        }","","        become(reject(reason));","    };","    deferred.notify = function (progress) {","        if (resolvedPromise) {","            return;","        }","","        array_reduce(progressListeners, function (undefined, progressListener) {","            nextTick(function () {","                progressListener(progress);","            });","        }, void 0);","    };","","    return deferred;","}","","/**"," * Creates a Node-style callback that will resolve or reject the deferred"," * promise."," * @returns a nodeback"," */","defer.prototype.makeNodeResolver = function () {","    var self = this;","    return function (error, value) {","        if (error) {","            self.reject(error);","        } else if (arguments.length > 2) {","            self.resolve(array_slice(arguments, 1));","        } else {","            self.resolve(value);","        }","    };","};","","/**"," * @param resolver {Function} a function that returns nothing and accepts"," * the resolve, reject, and notify functions for a deferred."," * @returns a promise that may be resolved with the given resolve and reject"," * functions, or rejected by a thrown exception in resolver"," */","Q.promise = promise;","function promise(resolver) {","    if (typeof resolver !== \"function\") {","        throw new TypeError(\"resolver must be a function.\");","    }","    var deferred = defer();","    try {","        resolver(deferred.resolve, deferred.reject, deferred.notify);","    } catch (reason) {","        deferred.reject(reason);","    }","    return deferred.promise;","}","","// XXX experimental.  This method is a way to denote that a local value is","// serializable and should be immediately dispatched to a remote upon request,","// instead of passing a reference.","Q.passByCopy = function (object) {","    //freeze(object);","    //passByCopies.set(object, true);","    return object;","};","","Promise.prototype.passByCopy = function () {","    //freeze(object);","    //passByCopies.set(object, true);","    return this;","};","","/**"," * If two promises eventually fulfill to the same value, promises that value,"," * but otherwise rejects."," * @param x {Any*}"," * @param y {Any*}"," * @returns {Any*} a promise for x and y if they are the same, but a rejection"," * otherwise."," *"," */","Q.join = function (x, y) {","    return Q(x).join(y);","};","","Promise.prototype.join = function (that) {","    return Q([this, that]).spread(function (x, y) {","        if (x === y) {","            // TODO: \"===\" should be Object.is or equiv","            return x;","        } else {","            throw new Error(\"Can't join: not the same: \" + x + \" \" + y);","        }","    });","};","","/**"," * Returns a promise for the first of an array of promises to become fulfilled."," * @param answers {Array[Any*]} promises to race"," * @returns {Any*} the first promise to be fulfilled"," */","Q.race = race;","function race(answerPs) {","    return promise(function(resolve, reject) {","        // Switch to this once we can assume at least ES5","        // answerPs.forEach(function(answerP) {","        //     Q(answerP).then(resolve, reject);","        // });","        // Use this in the meantime","        for (var i = 0, len = answerPs.length; i < len; i++) {","            Q(answerPs[i]).then(resolve, reject);","        }","    });","}","","Promise.prototype.race = function () {","    return this.then(Q.race);","};","","/**"," * Constructs a Promise with a promise descriptor object and optional fallback"," * function.  The descriptor contains methods like when(rejected), get(name),"," * set(name, value), post(name, args), and delete(name), which all"," * return either a value, a promise for a value, or a rejection.  The fallback"," * accepts the operation name, a resolver, and any further arguments that would"," * have been forwarded to the appropriate method above had a method been"," * provided with the proper name.  The API makes no guarantees about the nature"," * of the returned object, apart from that it is usable whereever promises are"," * bought and sold."," */","Q.makePromise = Promise;","function Promise(descriptor, fallback, inspect) {","    if (fallback === void 0) {","        fallback = function (op) {","            return reject(new Error(","                \"Promise does not support operation: \" + op","            ));","        };","    }","    if (inspect === void 0) {","        inspect = function () {","            return {state: \"unknown\"};","        };","    }","","    var promise = object_create(Promise.prototype);","","    promise.promiseDispatch = function (resolve, op, args) {","        var result;","        try {","            if (descriptor[op]) {","                result = descriptor[op].apply(promise, args);","            } else {","                result = fallback.call(promise, op, args);","            }","        } catch (exception) {","            result = reject(exception);","        }","        if (resolve) {","            resolve(result);","        }","    };","","    promise.inspect = inspect;","","    // XXX deprecated `valueOf` and `exception` support","    if (inspect) {","        var inspected = inspect();","        if (inspected.state === \"rejected\") {","            promise.exception = inspected.reason;","        }","","        promise.valueOf = function () {","            var inspected = inspect();","            if (inspected.state === \"pending\" ||","                inspected.state === \"rejected\") {","                return promise;","            }","            return inspected.value;","        };","    }","","    return promise;","}","","Promise.prototype.toString = function () {","    return \"[object Promise]\";","};","","Promise.prototype.then = function (fulfilled, rejected, progressed) {","    var self = this;","    var deferred = defer();","    var done = false;   // ensure the untrusted promise makes at most a","                        // single call to one of the callbacks","","    function _fulfilled(value) {","        try {","            return typeof fulfilled === \"function\" ? fulfilled(value) : value;","        } catch (exception) {","            return reject(exception);","        }","    }","","    function _rejected(exception) {","        if (typeof rejected === \"function\") {","            makeStackTraceLong(exception, self);","            try {","                return rejected(exception);","            } catch (newException) {","                return reject(newException);","            }","        }","        return reject(exception);","    }","","    function _progressed(value) {","        return typeof progressed === \"function\" ? progressed(value) : value;","    }","","    nextTick(function () {","        self.promiseDispatch(function (value) {","            if (done) {","                return;","            }","            done = true;","","            deferred.resolve(_fulfilled(value));","        }, \"when\", [function (exception) {","            if (done) {","                return;","            }","            done = true;","","            deferred.resolve(_rejected(exception));","        }]);","    });","","    // Progress propagator need to be attached in the current tick.","    self.promiseDispatch(void 0, \"when\", [void 0, function (value) {","        var newValue;","        var threw = false;","        try {","            newValue = _progressed(value);","        } catch (e) {","            threw = true;","            if (Q.onerror) {","                Q.onerror(e);","            } else {","                throw e;","            }","        }","","        if (!threw) {","            deferred.notify(newValue);","        }","    }]);","","    return deferred.promise;","};","","/**"," * Registers an observer on a promise."," *"," * Guarantees:"," *"," * 1. that fulfilled and rejected will be called only once."," * 2. that either the fulfilled callback or the rejected callback will be"," *    called, but not both."," * 3. that fulfilled and rejected will not be called in this turn."," *"," * @param value      promise or immediate reference to observe"," * @param fulfilled  function to be called with the fulfilled value"," * @param rejected   function to be called with the rejection exception"," * @param progressed function to be called on any progress notifications"," * @return promise for the return value from the invoked callback"," */","Q.when = when;","function when(value, fulfilled, rejected, progressed) {","    return Q(value).then(fulfilled, rejected, progressed);","}","","Promise.prototype.thenResolve = function (value) {","    return this.then(function () { return value; });","};","","Q.thenResolve = function (promise, value) {","    return Q(promise).thenResolve(value);","};","","Promise.prototype.thenReject = function (reason) {","    return this.then(function () { throw reason; });","};","","Q.thenReject = function (promise, reason) {","    return Q(promise).thenReject(reason);","};","","/**"," * If an object is not a promise, it is as \"near\" as possible."," * If a promise is rejected, it is as \"near\" as possible too."," * If it’s a fulfilled promise, the fulfillment value is nearer."," * If it’s a deferred promise and the deferred has been resolved, the"," * resolution is \"nearer\"."," * @param object"," * @returns most resolved (nearest) form of the object"," */","","// XXX should we re-do this?","Q.nearer = nearer;","function nearer(value) {","    if (isPromise(value)) {","        var inspected = value.inspect();","        if (inspected.state === \"fulfilled\") {","            return inspected.value;","        }","    }","    return value;","}","","/**"," * @returns whether the given object is a promise."," * Otherwise it is a fulfilled value."," */","Q.isPromise = isPromise;","function isPromise(object) {","    return isObject(object) &&","        typeof object.promiseDispatch === \"function\" &&","        typeof object.inspect === \"function\";","}","","Q.isPromiseAlike = isPromiseAlike;","function isPromiseAlike(object) {","    return isObject(object) && typeof object.then === \"function\";","}","","/**"," * @returns whether the given object is a pending promise, meaning not"," * fulfilled or rejected."," */","Q.isPending = isPending;","function isPending(object) {","    return isPromise(object) && object.inspect().state === \"pending\";","}","","Promise.prototype.isPending = function () {","    return this.inspect().state === \"pending\";","};","","/**"," * @returns whether the given object is a value or fulfilled"," * promise."," */","Q.isFulfilled = isFulfilled;","function isFulfilled(object) {","    return !isPromise(object) || object.inspect().state === \"fulfilled\";","}","","Promise.prototype.isFulfilled = function () {","    return this.inspect().state === \"fulfilled\";","};","","/**"," * @returns whether the given object is a rejected promise."," */","Q.isRejected = isRejected;","function isRejected(object) {","    return isPromise(object) && object.inspect().state === \"rejected\";","}","","Promise.prototype.isRejected = function () {","    return this.inspect().state === \"rejected\";","};","","//// BEGIN UNHANDLED REJECTION TRACKING","","// This promise library consumes exceptions thrown in handlers so they can be","// handled by a subsequent promise.  The exceptions get added to this array when","// they are created, and removed when they are handled.  Note that in ES6 or","// shimmed environments, this would naturally be a `Set`.","var unhandledReasons = [];","var unhandledRejections = [];","var unhandledReasonsDisplayed = false;","var trackUnhandledRejections = true;","function displayUnhandledReasons() {","    if (","        !unhandledReasonsDisplayed &&","        typeof window !== \"undefined\" &&","        window.console","    ) {","        console.warn(\"[Q] Unhandled rejection reasons (should be empty):\",","                     unhandledReasons);","    }","","    unhandledReasonsDisplayed = true;","}","","function logUnhandledReasons() {","    for (var i = 0; i < unhandledReasons.length; i++) {","        var reason = unhandledReasons[i];","        console.warn(\"Unhandled rejection reason:\", reason);","    }","}","","function resetUnhandledRejections() {","    unhandledReasons.length = 0;","    unhandledRejections.length = 0;","    unhandledReasonsDisplayed = false;","","    if (!trackUnhandledRejections) {","        trackUnhandledRejections = true;","","        // Show unhandled rejection reasons if Node exits without handling an","        // outstanding rejection.  (Note that Browserify presently produces a","        // `process` global without the `EventEmitter` `on` method.)","        if (typeof process !== \"undefined\" && process.on) {","            process.on(\"exit\", logUnhandledReasons);","        }","    }","}","","function trackRejection(promise, reason) {","    if (!trackUnhandledRejections) {","        return;","    }","","    unhandledRejections.push(promise);","    if (reason && typeof reason.stack !== \"undefined\") {","        unhandledReasons.push(reason.stack);","    } else {","        unhandledReasons.push(\"(no stack) \" + reason);","    }","    displayUnhandledReasons();","}","","function untrackRejection(promise) {","    if (!trackUnhandledRejections) {","        return;","    }","","    var at = array_indexOf(unhandledRejections, promise);","    if (at !== -1) {","        unhandledRejections.splice(at, 1);","        unhandledReasons.splice(at, 1);","    }","}","","Q.resetUnhandledRejections = resetUnhandledRejections;","","Q.getUnhandledReasons = function () {","    // Make a copy so that consumers can't interfere with our internal state.","    return unhandledReasons.slice();","};","","Q.stopUnhandledRejectionTracking = function () {","    resetUnhandledRejections();","    if (typeof process !== \"undefined\" && process.on) {","        process.removeListener(\"exit\", logUnhandledReasons);","    }","    trackUnhandledRejections = false;","};","","resetUnhandledRejections();","","//// END UNHANDLED REJECTION TRACKING","","/**"," * Constructs a rejected promise."," * @param reason value describing the failure"," */","Q.reject = reject;","function reject(reason) {","    var rejection = Promise({","        \"when\": function (rejected) {","            // note that the error has been handled","            if (rejected) {","                untrackRejection(this);","            }","            return rejected ? rejected(reason) : this;","        }","    }, function fallback() {","        return this;","    }, function inspect() {","        return { state: \"rejected\", reason: reason };","    });","","    // Note that the reason has not been handled.","    trackRejection(rejection, reason);","","    return rejection;","}","","/**"," * Constructs a fulfilled promise for an immediate reference."," * @param value immediate reference"," */","Q.fulfill = fulfill;","function fulfill(value) {","    return Promise({","        \"when\": function () {","            return value;","        },","        \"get\": function (name) {","            return value[name];","        },","        \"set\": function (name, rhs) {","            value[name] = rhs;","        },","        \"delete\": function (name) {","            delete value[name];","        },","        \"post\": function (name, args) {","            // Mark Miller proposes that post with no name should apply a","            // promised function.","            if (name === null || name === void 0) {","                return value.apply(void 0, args);","            } else {","                return value[name].apply(value, args);","            }","        },","        \"apply\": function (thisp, args) {","            return value.apply(thisp, args);","        },","        \"keys\": function () {","            return object_keys(value);","        }","    }, void 0, function inspect() {","        return { state: \"fulfilled\", value: value };","    });","}","","/**"," * Converts thenables to Q promises."," * @param promise thenable promise"," * @returns a Q promise"," */","function coerce(promise) {","    var deferred = defer();","    nextTick(function () {","        try {","            promise.then(deferred.resolve, deferred.reject, deferred.notify);","        } catch (exception) {","            deferred.reject(exception);","        }","    });","    return deferred.promise;","}","","/**"," * Annotates an object such that it will never be"," * transferred away from this process over any promise"," * communication channel."," * @param object"," * @returns promise a wrapping of that object that"," * additionally responds to the \"isDef\" message"," * without a rejection."," */","Q.master = master;","function master(object) {","    return Promise({","        \"isDef\": function () {}","    }, function fallback(op, args) {","        return dispatch(object, op, args);","    }, function () {","        return Q(object).inspect();","    });","}","","/**"," * Spreads the values of a promised array of arguments into the"," * fulfillment callback."," * @param fulfilled callback that receives variadic arguments from the"," * promised array"," * @param rejected callback that receives the exception if the promise"," * is rejected."," * @returns a promise for the return value or thrown exception of"," * either callback."," */","Q.spread = spread;","function spread(value, fulfilled, rejected) {","    return Q(value).spread(fulfilled, rejected);","}","","Promise.prototype.spread = function (fulfilled, rejected) {","    return this.all().then(function (array) {","        return fulfilled.apply(void 0, array);","    }, rejected);","};","","/**"," * The async function is a decorator for generator functions, turning"," * them into asynchronous generators.  Although generators are only part"," * of the newest ECMAScript 6 drafts, this code does not cause syntax"," * errors in older engines.  This code should continue to work and will"," * in fact improve over time as the language improves."," *"," * ES6 generators are currently part of V8 version 3.19 with the"," * --harmony-generators runtime flag enabled.  SpiderMonkey has had them"," * for longer, but under an older Python-inspired form.  This function"," * works on both kinds of generators."," *"," * Decorates a generator function such that:"," *  - it may yield promises"," *  - execution will continue when that promise is fulfilled"," *  - the value of the yield expression will be the fulfilled value"," *  - it returns a promise for the return value (when the generator"," *    stops iterating)"," *  - the decorated function returns a promise for the return value"," *    of the generator or the first rejected promise among those"," *    yielded."," *  - if an error is thrown in the generator, it propagates through"," *    every following yield until it is caught, or until it escapes"," *    the generator function altogether, and is translated into a"," *    rejection for the promise returned by the decorated generator."," */","Q.async = async;","function async(makeGenerator) {","    return function () {","        // when verb is \"send\", arg is a value","        // when verb is \"throw\", arg is an exception","        function continuer(verb, arg) {","            var result;","            if (hasES6Generators) {","                try {","                    result = generator[verb](arg);","                } catch (exception) {","                    return reject(exception);","                }","                if (result.done) {","                    return result.value;","                } else {","                    return when(result.value, callback, errback);","                }","            } else {","                // FIXME: Remove this case when SM does ES6 generators.","                try {","                    result = generator[verb](arg);","                } catch (exception) {","                    if (isStopIteration(exception)) {","                        return exception.value;","                    } else {","                        return reject(exception);","                    }","                }","                return when(result, callback, errback);","            }","        }","        var generator = makeGenerator.apply(this, arguments);","        var callback = continuer.bind(continuer, \"next\");","        var errback = continuer.bind(continuer, \"throw\");","        return callback();","    };","}","","/**"," * The spawn function is a small wrapper around async that immediately"," * calls the generator and also ends the promise chain, so that any"," * unhandled errors are thrown instead of forwarded to the error"," * handler. This is useful because it's extremely common to run"," * generators at the top-level to work with libraries."," */","Q.spawn = spawn;","function spawn(makeGenerator) {","    Q.done(Q.async(makeGenerator)());","}","","// FIXME: Remove this interface once ES6 generators are in SpiderMonkey.","/**"," * Throws a ReturnValue exception to stop an asynchronous generator."," *"," * This interface is a stop-gap measure to support generator return"," * values in older Firefox/SpiderMonkey.  In browsers that support ES6"," * generators like Chromium 29, just use \"return\" in your generator"," * functions."," *"," * @param value the return value for the surrounding generator"," * @throws ReturnValue exception with the value."," * @example"," * // ES6 style"," * Q.async(function* () {"," *      var foo = yield getFooPromise();"," *      var bar = yield getBarPromise();"," *      return foo + bar;"," * })"," * // Older SpiderMonkey style"," * Q.async(function () {"," *      var foo = yield getFooPromise();"," *      var bar = yield getBarPromise();"," *      Q.return(foo + bar);"," * })"," */","Q[\"return\"] = _return;","function _return(value) {","    throw new QReturnValue(value);","}","","/**"," * The promised function decorator ensures that any promise arguments"," * are settled and passed as values (`this` is also settled and passed"," * as a value).  It will also ensure that the result of a function is"," * always a promise."," *"," * @example"," * var add = Q.promised(function (a, b) {"," *     return a + b;"," * });"," * add(Q(a), Q(B));"," *"," * @param {function} callback The function to decorate"," * @returns {function} a function that has been decorated."," */","Q.promised = promised;","function promised(callback) {","    return function () {","        return spread([this, all(arguments)], function (self, args) {","            return callback.apply(self, args);","        });","    };","}","","/**"," * sends a message to a value in a future turn"," * @param object* the recipient"," * @param op the name of the message operation, e.g., \"when\","," * @param args further arguments to be forwarded to the operation"," * @returns result {Promise} a promise for the result of the operation"," */","Q.dispatch = dispatch;","function dispatch(object, op, args) {","    return Q(object).dispatch(op, args);","}","","Promise.prototype.dispatch = function (op, args) {","    var self = this;","    var deferred = defer();","    nextTick(function () {","        self.promiseDispatch(deferred.resolve, op, args);","    });","    return deferred.promise;","};","","/**"," * Gets the value of a property in a future turn."," * @param object    promise or immediate reference for target object"," * @param name      name of property to get"," * @return promise for the property value"," */","Q.get = function (object, key) {","    return Q(object).dispatch(\"get\", [key]);","};","","Promise.prototype.get = function (key) {","    return this.dispatch(\"get\", [key]);","};","","/**"," * Sets the value of a property in a future turn."," * @param object    promise or immediate reference for object object"," * @param name      name of property to set"," * @param value     new value of property"," * @return promise for the return value"," */","Q.set = function (object, key, value) {","    return Q(object).dispatch(\"set\", [key, value]);","};","","Promise.prototype.set = function (key, value) {","    return this.dispatch(\"set\", [key, value]);","};","","/**"," * Deletes a property in a future turn."," * @param object    promise or immediate reference for target object"," * @param name      name of property to delete"," * @return promise for the return value"," */","Q.del = // XXX legacy","Q[\"delete\"] = function (object, key) {","    return Q(object).dispatch(\"delete\", [key]);","};","","Promise.prototype.del = // XXX legacy","Promise.prototype[\"delete\"] = function (key) {","    return this.dispatch(\"delete\", [key]);","};","","/**"," * Invokes a method in a future turn."," * @param object    promise or immediate reference for target object"," * @param name      name of method to invoke"," * @param value     a value to post, typically an array of"," *                  invocation arguments for promises that"," *                  are ultimately backed with `resolve` values,"," *                  as opposed to those backed with URLs"," *                  wherein the posted value can be any"," *                  JSON serializable object."," * @return promise for the return value"," */","// bound locally because it is used by other methods","Q.mapply = // XXX As proposed by \"Redsandro\"","Q.post = function (object, name, args) {","    return Q(object).dispatch(\"post\", [name, args]);","};","","Promise.prototype.mapply = // XXX As proposed by \"Redsandro\"","Promise.prototype.post = function (name, args) {","    return this.dispatch(\"post\", [name, args]);","};","","/**"," * Invokes a method in a future turn."," * @param object    promise or immediate reference for target object"," * @param name      name of method to invoke"," * @param ...args   array of invocation arguments"," * @return promise for the return value"," */","Q.send = // XXX Mark Miller's proposed parlance","Q.mcall = // XXX As proposed by \"Redsandro\"","Q.invoke = function (object, name /*...args*/) {","    return Q(object).dispatch(\"post\", [name, array_slice(arguments, 2)]);","};","","Promise.prototype.send = // XXX Mark Miller's proposed parlance","Promise.prototype.mcall = // XXX As proposed by \"Redsandro\"","Promise.prototype.invoke = function (name /*...args*/) {","    return this.dispatch(\"post\", [name, array_slice(arguments, 1)]);","};","","/**"," * Applies the promised function in a future turn."," * @param object    promise or immediate reference for target function"," * @param args      array of application arguments"," */","Q.fapply = function (object, args) {","    return Q(object).dispatch(\"apply\", [void 0, args]);","};","","Promise.prototype.fapply = function (args) {","    return this.dispatch(\"apply\", [void 0, args]);","};","","/**"," * Calls the promised function in a future turn."," * @param object    promise or immediate reference for target function"," * @param ...args   array of application arguments"," */","Q[\"try\"] =","Q.fcall = function (object /* ...args*/) {","    return Q(object).dispatch(\"apply\", [void 0, array_slice(arguments, 1)]);","};","","Promise.prototype.fcall = function (/*...args*/) {","    return this.dispatch(\"apply\", [void 0, array_slice(arguments)]);","};","","/**"," * Binds the promised function, transforming return values into a fulfilled"," * promise and thrown errors into a rejected one."," * @param object    promise or immediate reference for target function"," * @param ...args   array of application arguments"," */","Q.fbind = function (object /*...args*/) {","    var promise = Q(object);","    var args = array_slice(arguments, 1);","    return function fbound() {","        return promise.dispatch(\"apply\", [","            this,","            args.concat(array_slice(arguments))","        ]);","    };","};","Promise.prototype.fbind = function (/*...args*/) {","    var promise = this;","    var args = array_slice(arguments);","    return function fbound() {","        return promise.dispatch(\"apply\", [","            this,","            args.concat(array_slice(arguments))","        ]);","    };","};","","/**"," * Requests the names of the owned properties of a promised"," * object in a future turn."," * @param object    promise or immediate reference for target object"," * @return promise for the keys of the eventually settled object"," */","Q.keys = function (object) {","    return Q(object).dispatch(\"keys\", []);","};","","Promise.prototype.keys = function () {","    return this.dispatch(\"keys\", []);","};","","/**"," * Turns an array of promises into a promise for an array.  If any of"," * the promises gets rejected, the whole array is rejected immediately."," * @param {Array*} an array (or promise for an array) of values (or"," * promises for values)"," * @returns a promise for an array of the corresponding values"," */","// By Mark Miller","// http://wiki.ecmascript.org/doku.php?id=strawman:concurrency&rev=1308776521#allfulfilled","Q.all = all;","function all(promises) {","    return when(promises, function (promises) {","        var countDown = 0;","        var deferred = defer();","        array_reduce(promises, function (undefined, promise, index) {","            var snapshot;","            if (","                isPromise(promise) &&","                (snapshot = promise.inspect()).state === \"fulfilled\"","            ) {","                promises[index] = snapshot.value;","            } else {","                ++countDown;","                when(","                    promise,","                    function (value) {","                        promises[index] = value;","                        if (--countDown === 0) {","                            deferred.resolve(promises);","                        }","                    },","                    deferred.reject,","                    function (progress) {","                        deferred.notify({ index: index, value: progress });","                    }","                );","            }","        }, void 0);","        if (countDown === 0) {","            deferred.resolve(promises);","        }","        return deferred.promise;","    });","}","","Promise.prototype.all = function () {","    return all(this);","};","","/**"," * Waits for all promises to be settled, either fulfilled or"," * rejected.  This is distinct from `all` since that would stop"," * waiting at the first rejection.  The promise returned by"," * `allResolved` will never be rejected."," * @param promises a promise for an array (or an array) of promises"," * (or values)"," * @return a promise for an array of promises"," */","Q.allResolved = deprecate(allResolved, \"allResolved\", \"allSettled\");","function allResolved(promises) {","    return when(promises, function (promises) {","        promises = array_map(promises, Q);","        return when(all(array_map(promises, function (promise) {","            return when(promise, noop, noop);","        })), function () {","            return promises;","        });","    });","}","","Promise.prototype.allResolved = function () {","    return allResolved(this);","};","","/**"," * @see Promise#allSettled"," */","Q.allSettled = allSettled;","function allSettled(promises) {","    return Q(promises).allSettled();","}","","/**"," * Turns an array of promises into a promise for an array of their states (as"," * returned by `inspect`) when they have all settled."," * @param {Array[Any*]} values an array (or promise for an array) of values (or"," * promises for values)"," * @returns {Array[State]} an array of states for the respective values."," */","Promise.prototype.allSettled = function () {","    return this.then(function (promises) {","        return all(array_map(promises, function (promise) {","            promise = Q(promise);","            function regardless() {","                return promise.inspect();","            }","            return promise.then(regardless, regardless);","        }));","    });","};","","/**"," * Captures the failure of a promise, giving an oportunity to recover"," * with a callback.  If the given promise is fulfilled, the returned"," * promise is fulfilled."," * @param {Any*} promise for something"," * @param {Function} callback to fulfill the returned promise if the"," * given promise is rejected"," * @returns a promise for the return value of the callback"," */","Q.fail = // XXX legacy","Q[\"catch\"] = function (object, rejected) {","    return Q(object).then(void 0, rejected);","};","","Promise.prototype.fail = // XXX legacy","Promise.prototype[\"catch\"] = function (rejected) {","    return this.then(void 0, rejected);","};","","/**"," * Attaches a listener that can respond to progress notifications from a"," * promise's originating deferred. This listener receives the exact arguments"," * passed to ``deferred.notify``."," * @param {Any*} promise for something"," * @param {Function} callback to receive any progress notifications"," * @returns the given promise, unchanged"," */","Q.progress = progress;","function progress(object, progressed) {","    return Q(object).then(void 0, void 0, progressed);","}","","Promise.prototype.progress = function (progressed) {","    return this.then(void 0, void 0, progressed);","};","","/**"," * Provides an opportunity to observe the settling of a promise,"," * regardless of whether the promise is fulfilled or rejected.  Forwards"," * the resolution to the returned promise when the callback is done."," * The callback can return a promise to defer completion."," * @param {Any*} promise"," * @param {Function} callback to observe the resolution of the given"," * promise, takes no arguments."," * @returns a promise for the resolution of the given promise when"," * ``fin`` is done."," */","Q.fin = // XXX legacy","Q[\"finally\"] = function (object, callback) {","    return Q(object)[\"finally\"](callback);","};","","Promise.prototype.fin = // XXX legacy","Promise.prototype[\"finally\"] = function (callback) {","    callback = Q(callback);","    return this.then(function (value) {","        return callback.fcall().then(function () {","            return value;","        });","    }, function (reason) {","        // TODO attempt to recycle the rejection with \"this\".","        return callback.fcall().then(function () {","            throw reason;","        });","    });","};","","/**"," * Terminates a chain of promises, forcing rejections to be"," * thrown as exceptions."," * @param {Any*} promise at the end of a chain of promises"," * @returns nothing"," */","Q.done = function (object, fulfilled, rejected, progress) {","    return Q(object).done(fulfilled, rejected, progress);","};","","Promise.prototype.done = function (fulfilled, rejected, progress) {","    var onUnhandledError = function (error) {","        // forward to a future turn so that ``when``","        // does not catch it and turn it into a rejection.","        nextTick(function () {","            makeStackTraceLong(error, promise);","            if (Q.onerror) {","                Q.onerror(error);","            } else {","                throw error;","            }","        });","    };","","    // Avoid unnecessary `nextTick`ing via an unnecessary `when`.","    var promise = fulfilled || rejected || progress ?","        this.then(fulfilled, rejected, progress) :","        this;","","    if (typeof process === \"object\" && process && process.domain) {","        onUnhandledError = process.domain.bind(onUnhandledError);","    }","","    promise.then(void 0, onUnhandledError);","};","","/**"," * Causes a promise to be rejected if it does not get fulfilled before"," * some milliseconds time out."," * @param {Any*} promise"," * @param {Number} milliseconds timeout"," * @param {String} custom error message (optional)"," * @returns a promise for the resolution of the given promise if it is"," * fulfilled before the timeout, otherwise rejected."," */","Q.timeout = function (object, ms, message) {","    return Q(object).timeout(ms, message);","};","","Promise.prototype.timeout = function (ms, message) {","    var deferred = defer();","    var timeoutId = setTimeout(function () {","        deferred.reject(new Error(message || \"Timed out after \" + ms + \" ms\"));","    }, ms);","","    this.then(function (value) {","        clearTimeout(timeoutId);","        deferred.resolve(value);","    }, function (exception) {","        clearTimeout(timeoutId);","        deferred.reject(exception);","    }, deferred.notify);","","    return deferred.promise;","};","","/**"," * Returns a promise for the given value (or promised value), some"," * milliseconds after it resolved. Passes rejections immediately."," * @param {Any*} promise"," * @param {Number} milliseconds"," * @returns a promise for the resolution of the given promise after milliseconds"," * time has elapsed since the resolution of the given promise."," * If the given promise rejects, that is passed immediately."," */","Q.delay = function (object, timeout) {","    if (timeout === void 0) {","        timeout = object;","        object = void 0;","    }","    return Q(object).delay(timeout);","};","","Promise.prototype.delay = function (timeout) {","    return this.then(function (value) {","        var deferred = defer();","        setTimeout(function () {","            deferred.resolve(value);","        }, timeout);","        return deferred.promise;","    });","};","","/**"," * Passes a continuation to a Node function, which is called with the given"," * arguments provided as an array, and returns a promise."," *"," *      Q.nfapply(FS.readFile, [__filename])"," *      .then(function (content) {"," *      })"," *"," */","Q.nfapply = function (callback, args) {","    return Q(callback).nfapply(args);","};","","Promise.prototype.nfapply = function (args) {","    var deferred = defer();","    var nodeArgs = array_slice(args);","    nodeArgs.push(deferred.makeNodeResolver());","    this.fapply(nodeArgs).fail(deferred.reject);","    return deferred.promise;","};","","/**"," * Passes a continuation to a Node function, which is called with the given"," * arguments provided individually, and returns a promise."," * @example"," * Q.nfcall(FS.readFile, __filename)"," * .then(function (content) {"," * })"," *"," */","Q.nfcall = function (callback /*...args*/) {","    var args = array_slice(arguments, 1);","    return Q(callback).nfapply(args);","};","","Promise.prototype.nfcall = function (/*...args*/) {","    var nodeArgs = array_slice(arguments);","    var deferred = defer();","    nodeArgs.push(deferred.makeNodeResolver());","    this.fapply(nodeArgs).fail(deferred.reject);","    return deferred.promise;","};","","/**"," * Wraps a NodeJS continuation passing function and returns an equivalent"," * version that returns a promise."," * @example"," * Q.nfbind(FS.readFile, __filename)(\"utf-8\")"," * .then(console.log)"," * .done()"," */","Q.nfbind =","Q.denodeify = function (callback /*...args*/) {","    var baseArgs = array_slice(arguments, 1);","    return function () {","        var nodeArgs = baseArgs.concat(array_slice(arguments));","        var deferred = defer();","        nodeArgs.push(deferred.makeNodeResolver());","        Q(callback).fapply(nodeArgs).fail(deferred.reject);","        return deferred.promise;","    };","};","","Promise.prototype.nfbind =","Promise.prototype.denodeify = function (/*...args*/) {","    var args = array_slice(arguments);","    args.unshift(this);","    return Q.denodeify.apply(void 0, args);","};","","Q.nbind = function (callback, thisp /*...args*/) {","    var baseArgs = array_slice(arguments, 2);","    return function () {","        var nodeArgs = baseArgs.concat(array_slice(arguments));","        var deferred = defer();","        nodeArgs.push(deferred.makeNodeResolver());","        function bound() {","            return callback.apply(thisp, arguments);","        }","        Q(bound).fapply(nodeArgs).fail(deferred.reject);","        return deferred.promise;","    };","};","","Promise.prototype.nbind = function (/*thisp, ...args*/) {","    var args = array_slice(arguments, 0);","    args.unshift(this);","    return Q.nbind.apply(void 0, args);","};","","/**"," * Calls a method of a Node-style object that accepts a Node-style"," * callback with a given array of arguments, plus a provided callback."," * @param object an object that has the named method"," * @param {String} name name of the method of object"," * @param {Array} args arguments to pass to the method; the callback"," * will be provided by Q and appended to these arguments."," * @returns a promise for the value or error"," */","Q.nmapply = // XXX As proposed by \"Redsandro\"","Q.npost = function (object, name, args) {","    return Q(object).npost(name, args);","};","","Promise.prototype.nmapply = // XXX As proposed by \"Redsandro\"","Promise.prototype.npost = function (name, args) {","    var nodeArgs = array_slice(args || []);","    var deferred = defer();","    nodeArgs.push(deferred.makeNodeResolver());","    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);","    return deferred.promise;","};","","/**"," * Calls a method of a Node-style object that accepts a Node-style"," * callback, forwarding the given variadic arguments, plus a provided"," * callback argument."," * @param object an object that has the named method"," * @param {String} name name of the method of object"," * @param ...args arguments to pass to the method; the callback will"," * be provided by Q and appended to these arguments."," * @returns a promise for the value or error"," */","Q.nsend = // XXX Based on Mark Miller's proposed \"send\"","Q.nmcall = // XXX Based on \"Redsandro's\" proposal","Q.ninvoke = function (object, name /*...args*/) {","    var nodeArgs = array_slice(arguments, 2);","    var deferred = defer();","    nodeArgs.push(deferred.makeNodeResolver());","    Q(object).dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);","    return deferred.promise;","};","","Promise.prototype.nsend = // XXX Based on Mark Miller's proposed \"send\"","Promise.prototype.nmcall = // XXX Based on \"Redsandro's\" proposal","Promise.prototype.ninvoke = function (name /*...args*/) {","    var nodeArgs = array_slice(arguments, 1);","    var deferred = defer();","    nodeArgs.push(deferred.makeNodeResolver());","    this.dispatch(\"post\", [name, nodeArgs]).fail(deferred.reject);","    return deferred.promise;","};","","/**"," * If a function would like to support both Node continuation-passing-style and"," * promise-returning-style, it can end its internal promise chain with"," * `nodeify(nodeback)`, forwarding the optional nodeback argument.  If the user"," * elects to use a nodeback, the result will be sent there.  If they do not"," * pass a nodeback, they will receive the result promise."," * @param object a result (or a promise for a result)"," * @param {Function} nodeback a Node.js-style callback"," * @returns either the promise or nothing"," */","Q.nodeify = nodeify;","function nodeify(object, nodeback) {","    return Q(object).nodeify(nodeback);","}","","Promise.prototype.nodeify = function (nodeback) {","    if (nodeback) {","        this.then(function (value) {","            nextTick(function () {","                nodeback(null, value);","            });","        }, function (error) {","            nextTick(function () {","                nodeback(error);","            });","        });","    } else {","        return this;","    }","};","","// All code before this point will be filtered from stack traces.","var qEndingLine = captureLine();","","return Q;","","}"],"l":{"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"10":0,"11":0,"15":1,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"30":0,"32":0,"34":0,"36":0,"40":1,"43":1,"46":0,"47":0,"48":0,"50":0,"55":0,"56":0,"61":0,"65":0,"67":0,"68":0,"69":0,"70":0,"71":0,"73":1,"76":0,"77":0,"78":0,"79":0,"80":0,"82":0,"83":0,"84":0,"87":0,"88":0,"91":0,"98":0,"99":0,"101":0,"102":0,"103":0,"106":0,"111":0,"112":0,"117":0,"118":0,"122":0,"125":0,"126":0,"132":0,"133":0,"134":0,"138":0,"141":0,"143":0,"144":0,"147":0,"149":0,"150":0,"152":0,"153":0,"157":0,"160":0,"163":0,"164":0,"165":0,"166":0,"168":0,"171":0,"173":0,"174":0,"175":0,"180":0,"181":0,"185":0,"198":0,"199":1,"200":0,"201":0,"208":0,"210":0,"212":0,"215":0,"218":0,"219":0,"220":0,"221":0,"223":0,"224":0,"229":0,"231":0,"232":0,"235":0,"239":0,"242":0,"243":0,"244":0,"247":0,"251":0,"253":0,"254":0,"255":0,"256":0,"258":0,"262":0,"263":1,"264":0,"265":0,"268":0,"270":0,"271":0,"272":0,"273":0,"274":0,"277":0,"280":0,"282":1,"283":0,"289":1,"290":0,"298":0,"299":0,"300":0,"302":0,"303":0,"314":0,"315":0,"317":0,"318":0,"320":0,"325":0,"327":1,"330":0,"337":0,"338":0,"339":0,"340":0,"343":0,"345":0,"346":0,"350":1,"351":0,"352":0,"353":0,"354":0,"356":0,"357":0,"360":0,"363":1,"364":0,"368":1,"371":0,"372":0,"373":0,"377":0,"378":0,"379":0,"383":0,"384":0,"385":0,"389":1,"390":0,"392":0,"393":0,"396":0,"397":0,"399":0,"406":1,"407":0,"408":0,"411":0,"412":0,"414":0,"415":0,"416":0,"417":0,"418":0,"421":0,"422":0,"426":1,"427":0,"428":0,"430":0,"433":0,"445":1,"449":0,"450":0,"454":0,"455":0,"457":0,"460":0,"466":0,"471":0,"483":0,"484":1,"491":0,"493":0,"494":0,"496":0,"497":0,"498":0,"499":0,"500":0,"501":0,"504":0,"505":0,"511":0,"512":0,"513":0,"515":0,"516":0,"517":0,"519":0,"522":0,"523":0,"524":0,"526":0,"529":0,"530":0,"531":0,"539":0,"547":1,"548":0,"549":0,"551":0,"552":0,"553":0,"557":0,"558":0,"561":0,"562":0,"563":0,"564":0,"567":0,"570":0,"571":0,"572":0,"575":0,"577":0,"578":0,"579":0,"582":0,"584":0,"585":0,"586":0,"589":0,"590":0,"591":0,"596":0,"604":0,"605":0,"606":0,"607":0,"608":0,"609":0,"610":0,"612":0,"623":0,"624":1,"625":0,"626":0,"628":0,"629":0,"630":0,"632":0,"634":0,"640":0,"643":0,"646":0,"649":0,"661":0,"662":0,"665":0,"666":0,"667":0,"669":0,"671":0,"681":0,"682":1,"683":0,"689":0,"690":0,"695":0,"696":0,"710":0,"711":1,"712":0,"713":0,"714":0,"719":0,"720":0,"721":0,"725":0,"727":0,"728":0,"729":0,"730":0,"731":0,"733":0,"736":0,"738":0,"739":0,"743":0,"746":0,"747":0,"748":0,"749":0,"752":0,"753":0,"754":0,"756":0,"758":0,"762":0,"765":0,"766":0,"769":0,"770":0,"771":0,"772":0,"775":1,"776":0,"777":0,"779":0,"783":1,"784":0,"785":0,"786":0,"787":0,"789":0,"792":0,"795":1,"796":0,"799":0,"800":0,"801":0,"802":0,"804":0,"806":0,"808":0,"809":0,"811":0,"813":0,"818":0,"819":0,"820":0,"821":0,"822":0,"824":0,"825":0,"826":0,"828":0,"832":0,"833":0,"837":0,"856":0,"857":1,"858":0,"861":0,"862":0,"865":0,"866":0,"869":0,"870":0,"873":0,"874":0,"888":0,"889":1,"890":0,"891":0,"892":0,"893":0,"896":0,"903":0,"904":1,"905":0,"910":0,"911":1,"912":0,"919":0,"920":1,"921":0,"924":0,"925":0,"932":0,"933":1,"934":0,"937":0,"938":0,"944":0,"945":1,"946":0,"949":0,"950":0,"959":0,"960":0,"961":0,"962":0,"963":1,"964":0,"969":0,"973":0,"976":1,"977":0,"978":0,"979":0,"983":1,"984":0,"985":0,"986":0,"988":0,"989":0,"994":0,"995":0,"1000":1,"1001":0,"1002":0,"1005":0,"1006":0,"1007":0,"1009":0,"1011":0,"1014":1,"1015":0,"1016":0,"1019":0,"1020":0,"1021":0,"1022":0,"1026":0,"1028":0,"1030":0,"1033":0,"1034":0,"1035":0,"1036":0,"1038":0,"1041":0,"1049":0,"1050":1,"1051":0,"1054":0,"1055":0,"1057":0,"1060":0,"1062":0,"1066":0,"1068":0,"1075":0,"1076":1,"1077":0,"1079":0,"1082":0,"1085":0,"1088":0,"1093":0,"1094":0,"1096":0,"1100":0,"1103":0,"1106":0,"1115":1,"1116":0,"1117":0,"1118":0,"1119":0,"1121":0,"1124":0,"1136":0,"1137":1,"1138":0,"1141":0,"1143":0,"1157":0,"1158":1,"1159":0,"1162":0,"1163":0,"1164":0,"1194":0,"1195":1,"1196":0,"1199":1,"1200":0,"1201":0,"1202":0,"1203":0,"1205":0,"1207":0,"1208":0,"1210":0,"1214":0,"1215":0,"1217":0,"1218":0,"1220":0,"1223":0,"1226":0,"1227":0,"1228":0,"1229":0,"1240":0,"1241":1,"1242":0,"1270":0,"1271":1,"1272":0,"1290":0,"1291":1,"1292":0,"1293":0,"1294":0,"1306":0,"1307":1,"1308":0,"1311":0,"1312":0,"1313":0,"1314":0,"1315":0,"1317":0,"1326":0,"1327":0,"1330":0,"1331":0,"1341":0,"1342":0,"1345":0,"1346":0,"1355":0,"1357":0,"1360":0,"1362":0,"1378":0,"1380":0,"1383":0,"1385":0,"1395":0,"1398":0,"1401":0,"1404":0,"1412":0,"1413":0,"1416":0,"1417":0,"1425":0,"1427":0,"1430":0,"1431":0,"1440":0,"1441":0,"1442":0,"1443":0,"1444":0,"1450":0,"1451":0,"1452":0,"1453":0,"1454":0,"1467":0,"1468":0,"1471":0,"1472":0,"1484":0,"1485":1,"1486":0,"1487":0,"1488":0,"1489":0,"1490":0,"1491":0,"1495":0,"1497":0,"1498":0,"1501":0,"1502":0,"1503":0,"1508":0,"1513":0,"1514":0,"1516":0,"1520":0,"1521":0,"1533":0,"1534":1,"1535":0,"1536":0,"1537":0,"1538":0,"1540":0,"1545":0,"1546":0,"1552":0,"1553":1,"1554":0,"1564":0,"1565":0,"1566":0,"1567":0,"1568":1,"1569":0,"1571":0,"1585":0,"1587":0,"1590":0,"1592":0,"1603":0,"1604":1,"1605":0,"1608":0,"1609":0,"1623":0,"1625":0,"1628":0,"1630":0,"1631":0,"1632":0,"1633":0,"1637":0,"1638":0,"1649":0,"1650":0,"1653":0,"1654":0,"1657":0,"1658":0,"1659":0,"1660":0,"1662":0,"1668":0,"1672":0,"1673":0,"1676":0,"1688":0,"1689":0,"1692":0,"1693":0,"1694":0,"1695":0,"1698":0,"1699":0,"1700":0,"1702":0,"1703":0,"1706":0,"1718":0,"1719":0,"1720":0,"1721":0,"1723":0,"1726":0,"1727":0,"1728":0,"1729":0,"1730":0,"1732":0,"1745":0,"1746":0,"1749":0,"1750":0,"1751":0,"1752":0,"1753":0,"1754":0,"1766":0,"1767":0,"1768":0,"1771":0,"1772":0,"1773":0,"1774":0,"1775":0,"1776":0,"1787":0,"1789":0,"1790":0,"1791":0,"1792":0,"1793":0,"1794":0,"1795":0,"1799":0,"1801":0,"1802":0,"1803":0,"1806":0,"1807":0,"1808":0,"1809":0,"1810":0,"1811":0,"1812":1,"1813":0,"1815":0,"1816":0,"1820":0,"1821":0,"1822":0,"1823":0,"1835":0,"1837":0,"1840":0,"1842":0,"1843":0,"1844":0,"1845":0,"1846":0,"1859":0,"1862":0,"1863":0,"1864":0,"1865":0,"1866":0,"1869":0,"1872":0,"1873":0,"1874":0,"1875":0,"1876":0,"1889":0,"1890":1,"1891":0,"1894":0,"1895":0,"1896":0,"1897":0,"1898":0,"1901":0,"1902":0,"1906":0,"1911":0,"1913":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/client/angoose-node.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/lib/client/angoose-node.js","s":{"1":2,"2":2,"3":0,"4":2,"5":2,"6":2,"7":1,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":1,"32":2,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0},"b":{"1":[0,2],"2":[2,2],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":2,"8":0,"9":0},"fnMap":{"1":{"name":"(anonymous_1)","line":3,"loc":{"start":{"line":3,"column":1},"end":{"line":3,"column":11}}},"2":{"name":"realHttp","line":13,"loc":{"start":{"line":13,"column":4},"end":{"line":13,"column":23}}},"3":{"name":"(anonymous_3)","line":20,"loc":{"start":{"line":20,"column":25},"end":{"line":20,"column":41}}},"4":{"name":"(anonymous_4)","line":21,"loc":{"start":{"line":21,"column":19},"end":{"line":21,"column":48}}},"5":{"name":"(anonymous_5)","line":30,"loc":{"start":{"line":30,"column":33},"end":{"line":30,"column":57}}},"6":{"name":"(anonymous_6)","line":40,"loc":{"start":{"line":40,"column":24},"end":{"line":40,"column":40}}},"7":{"name":"mockHttp","line":46,"loc":{"start":{"line":46,"column":4},"end":{"line":46,"column":23}}},"8":{"name":"(anonymous_8)","line":50,"loc":{"start":{"line":50,"column":20},"end":{"line":50,"column":39}}},"9":{"name":"(anonymous_9)","line":76,"loc":{"start":{"line":76,"column":27},"end":{"line":76,"column":47}}}},"statementMap":{"1":{"start":{"line":3,"column":0},"end":{"line":96,"column":4}},"2":{"start":{"line":4,"column":4},"end":{"line":4,"column":77}},"3":{"start":{"line":4,"column":70},"end":{"line":4,"column":77}},"4":{"start":{"line":5,"column":4},"end":{"line":5,"column":53}},"5":{"start":{"line":6,"column":4},"end":{"line":6,"column":26}},"6":{"start":{"line":7,"column":4},"end":{"line":11,"column":7}},"7":{"start":{"line":13,"column":4},"end":{"line":45,"column":5}},"8":{"start":{"line":14,"column":8},"end":{"line":14,"column":41}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":37}},"10":{"start":{"line":16,"column":8},"end":{"line":16,"column":49}},"11":{"start":{"line":17,"column":8},"end":{"line":17,"column":30}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":53}},"13":{"start":{"line":20,"column":8},"end":{"line":39,"column":9}},"14":{"start":{"line":21,"column":12},"end":{"line":38,"column":13}},"15":{"start":{"line":22,"column":16},"end":{"line":22,"column":56}},"16":{"start":{"line":23,"column":16},"end":{"line":23,"column":91}},"17":{"start":{"line":24,"column":16},"end":{"line":28,"column":17}},"18":{"start":{"line":25,"column":20},"end":{"line":25,"column":40}},"19":{"start":{"line":27,"column":20},"end":{"line":27,"column":36}},"20":{"start":{"line":29,"column":16},"end":{"line":29,"column":41}},"21":{"start":{"line":30,"column":16},"end":{"line":36,"column":19}},"22":{"start":{"line":31,"column":20},"end":{"line":34,"column":47}},"23":{"start":{"line":32,"column":24},"end":{"line":32,"column":56}},"24":{"start":{"line":34,"column":24},"end":{"line":34,"column":47}},"25":{"start":{"line":35,"column":20},"end":{"line":35,"column":53}},"26":{"start":{"line":35,"column":33},"end":{"line":35,"column":53}},"27":{"start":{"line":37,"column":16},"end":{"line":37,"column":40}},"28":{"start":{"line":40,"column":8},"end":{"line":42,"column":10}},"29":{"start":{"line":41,"column":12},"end":{"line":41,"column":55}},"30":{"start":{"line":43,"column":8},"end":{"line":43,"column":29}},"31":{"start":{"line":46,"column":4},"end":{"line":93,"column":5}},"32":{"start":{"line":47,"column":8},"end":{"line":47,"column":50}},"33":{"start":{"line":48,"column":8},"end":{"line":48,"column":22}},"34":{"start":{"line":49,"column":8},"end":{"line":49,"column":25}},"35":{"start":{"line":50,"column":8},"end":{"line":91,"column":9}},"36":{"start":{"line":51,"column":12},"end":{"line":51,"column":37}},"37":{"start":{"line":53,"column":12},"end":{"line":61,"column":15}},"38":{"start":{"line":62,"column":12},"end":{"line":62,"column":32}},"39":{"start":{"line":63,"column":12},"end":{"line":69,"column":16}},"40":{"start":{"line":75,"column":11},"end":{"line":75,"column":52}},"41":{"start":{"line":76,"column":11},"end":{"line":79,"column":12}},"42":{"start":{"line":77,"column":15},"end":{"line":77,"column":57}},"43":{"start":{"line":78,"column":15},"end":{"line":78,"column":38}},"44":{"start":{"line":80,"column":11},"end":{"line":80,"column":36}},"45":{"start":{"line":81,"column":11},"end":{"line":81,"column":30}},"46":{"start":{"line":82,"column":11},"end":{"line":86,"column":12}},"47":{"start":{"line":83,"column":16},"end":{"line":83,"column":55}},"48":{"start":{"line":85,"column":16},"end":{"line":85,"column":45}},"49":{"start":{"line":89,"column":11},"end":{"line":89,"column":48}},"50":{"start":{"line":90,"column":11},"end":{"line":90,"column":35}},"51":{"start":{"line":92,"column":8},"end":{"line":92,"column":19}},"52":{"start":{"line":95,"column":4},"end":{"line":95,"column":35}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":4},"end":{"line":4,"column":4}},{"start":{"line":4,"column":4},"end":{"line":4,"column":4}}]},"2":{"line":4,"type":"binary-expr","locations":[{"start":{"line":4,"column":7},"end":{"line":4,"column":35}},{"start":{"line":4,"column":39},"end":{"line":4,"column":68}}]},"3":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":16},"end":{"line":24,"column":16}},{"start":{"line":24,"column":16},"end":{"line":24,"column":16}}]},"4":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":19},"end":{"line":24,"column":23}},{"start":{"line":24,"column":27},"end":{"line":24,"column":53}}]},"5":{"line":31,"type":"if","locations":[{"start":{"line":31,"column":20},"end":{"line":31,"column":20}},{"start":{"line":31,"column":20},"end":{"line":31,"column":20}}]},"6":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":20},"end":{"line":35,"column":20}},{"start":{"line":35,"column":20},"end":{"line":35,"column":20}}]},"7":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":11},"end":{"line":82,"column":11}},{"start":{"line":82,"column":11},"end":{"line":82,"column":11}}]}},"code":["/** Angoose Client for Node.js */","","(function(){","    if(typeof exports ==\"undefined\" || typeof require == 'undefined') return;","    console.log(\"##### Angoose node client Loading\");","    var Q  = require(\"q\");","    AngooseClient.init({","        //http: realHttp(),","        http:mockHttp(),","        promise:Q","    });","    ","    function realHttp(){","        var request = require('request');","        var _ = require(\"underscore\")","        var HTTP_BASE =  \"http://localhost:9988\"; // +( AngooseClient.configs.httpPort ?(\":\"+ AngooseClient.config.httpPort):\"\");","        var $httpDelegate = {}","        var methods = ['get', 'post','put','delete'];","        // create deletage functions over request module","        var createFunc = function(method){","            return function(url, data, callback){","                console.log(\"Sending thtp request\", url)","                var options = {url:  HTTP_BASE + url, method:method, jar:true , json:true};","                if(data && typeof(data) != 'function' ) ","                    options.json = data;","                else{","                    callback = data;","                } ","                var deferred = Q.defer();","                request(options, function(err, res, body){","                    if(err) ","                        deferred.reject(new Error(err));","                    else","                        deferred.resolve(body);","                    if(callback) callback(err, body);","                });","                return deferred.promise;","            }","        }","        _.each(methods, function(method){","            $httpDelegate[method] = createFunc(method);","        })","        return $httpDelegate;","           ","    }","    function mockHttp(){","        var httpMock = require(\"node-mocks-http\");","        var mock = {};","        var session = {};","        mock.post = function(url, data){","            var deferred = Q.defer();","            ","            var request= httpMock.createRequest({","                    url: url,","                    method:'POST',","                    params: {","                        method: data.method,","                        model: data.clazz","                    }, ","                    session:session","            });","            request.body = data;","            var mockUser = {","                    _id: '52c44dd0ecafbf1a9a000002',","                    username:'Gaelyn',","                    email:'gaelyn@demo.com',","                    roles:'admin',","                    type:'admin'","               }","            // /** session */","           // request.session = {","               // user: mockUser,","               // userObj: mockUser","           // }","           var response = httpMock.createResponse();","           response.send = function(code, data){","               data = JSON.parse( JSON.stringify(data) );","               deferred.resolve(data);","           }","           var ROOT = process.cwd();","           var angoose = null;","           if(require(\"fs\").existsSync(ROOT+\"/lib/angoose.js\"))","                angoose = require(ROOT+\"/lib/angoose\");","           else {","                angoose = require(\"angoose\");","           }","               ","           ","           angoose.rmiAccept(request, response);","           return deferred.promise;","        }","        return mock    ","    }","","    module.exports = AngooseClient;         ","})()",""],"l":{"3":2,"4":2,"5":2,"6":2,"7":2,"13":1,"14":0,"15":0,"16":0,"17":0,"18":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"27":0,"29":0,"30":0,"31":0,"32":0,"34":0,"35":0,"37":0,"40":0,"41":0,"43":0,"46":1,"47":2,"48":0,"49":0,"50":0,"51":0,"53":0,"62":0,"63":0,"75":0,"76":0,"77":0,"78":0,"80":0,"81":0,"82":0,"83":0,"85":0,"89":0,"90":0,"92":0,"95":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/controllers/datepicker.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/controllers/datepicker.js","s":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":1},"end":{"line":9,"column":11}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":70},"end":{"line":12,"column":139}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":28},"end":{"line":15,"column":38}}},"4":{"name":"(anonymous_4)","line":22,"loc":{"start":{"line":22,"column":45},"end":{"line":22,"column":85}}},"5":{"name":"(anonymous_5)","line":26,"loc":{"start":{"line":26,"column":17},"end":{"line":26,"column":27}}},"6":{"name":"(anonymous_6)","line":31,"loc":{"start":{"line":31,"column":26},"end":{"line":31,"column":41}}},"7":{"name":"(anonymous_7)","line":34,"loc":{"start":{"line":34,"column":32},"end":{"line":34,"column":45}}},"8":{"name":"(anonymous_8)","line":43,"loc":{"start":{"line":43,"column":51},"end":{"line":43,"column":63}}},"9":{"name":"(anonymous_9)","line":52,"loc":{"start":{"line":52,"column":20},"end":{"line":52,"column":31}}},"10":{"name":"(anonymous_10)","line":55,"loc":{"start":{"line":55,"column":16},"end":{"line":55,"column":27}}},"11":{"name":"getDate","line":61,"loc":{"start":{"line":61,"column":4},"end":{"line":61,"column":32}}}},"statementMap":{"1":{"start":{"line":9,"column":0},"end":{"line":85,"column":5}},"2":{"start":{"line":12,"column":0},"end":{"line":84,"column":3}},"3":{"start":{"line":13,"column":8},"end":{"line":13,"column":55}},"4":{"start":{"line":14,"column":8},"end":{"line":14,"column":85}},"5":{"start":{"line":15,"column":8},"end":{"line":21,"column":10}},"6":{"start":{"line":16,"column":12},"end":{"line":20,"column":14}},"7":{"start":{"line":23,"column":8},"end":{"line":23,"column":48}},"8":{"start":{"line":24,"column":8},"end":{"line":24,"column":43}},"9":{"start":{"line":25,"column":8},"end":{"line":25,"column":66}},"10":{"start":{"line":25,"column":40},"end":{"line":25,"column":66}},"11":{"start":{"line":26,"column":8},"end":{"line":50,"column":13}},"12":{"start":{"line":28,"column":12},"end":{"line":28,"column":57}},"13":{"start":{"line":29,"column":12},"end":{"line":29,"column":55}},"14":{"start":{"line":30,"column":12},"end":{"line":36,"column":15}},"15":{"start":{"line":32,"column":20},"end":{"line":32,"column":31}},"16":{"start":{"line":35,"column":15},"end":{"line":35,"column":60}},"17":{"start":{"line":39,"column":12},"end":{"line":46,"column":13}},"18":{"start":{"line":40,"column":20},"end":{"line":40,"column":79}},"19":{"start":{"line":41,"column":20},"end":{"line":45,"column":23}},"20":{"start":{"line":44,"column":22},"end":{"line":44,"column":66}},"21":{"start":{"line":47,"column":12},"end":{"line":47,"column":170}},"22":{"start":{"line":52,"column":4},"end":{"line":54,"column":6}},"23":{"start":{"line":53,"column":8},"end":{"line":53,"column":26}},"24":{"start":{"line":55,"column":4},"end":{"line":59,"column":6}},"25":{"start":{"line":56,"column":8},"end":{"line":56,"column":38}},"26":{"start":{"line":57,"column":8},"end":{"line":57,"column":56}},"27":{"start":{"line":58,"column":8},"end":{"line":58,"column":24}},"28":{"start":{"line":61,"column":4},"end":{"line":82,"column":5}},"29":{"start":{"line":62,"column":8},"end":{"line":62,"column":40}},"30":{"start":{"line":63,"column":8},"end":{"line":67,"column":9}},"31":{"start":{"line":64,"column":12},"end":{"line":64,"column":54}},"32":{"start":{"line":65,"column":12},"end":{"line":65,"column":48}},"33":{"start":{"line":66,"column":12},"end":{"line":66,"column":46}},"34":{"start":{"line":68,"column":8},"end":{"line":74,"column":9}},"35":{"start":{"line":69,"column":12},"end":{"line":72,"column":52}},"36":{"start":{"line":69,"column":65},"end":{"line":69,"column":84}},"37":{"start":{"line":70,"column":17},"end":{"line":72,"column":52}},"38":{"start":{"line":70,"column":70},"end":{"line":70,"column":90}},"39":{"start":{"line":71,"column":17},"end":{"line":72,"column":52}},"40":{"start":{"line":71,"column":47},"end":{"line":71,"column":82}},"41":{"start":{"line":72,"column":17},"end":{"line":72,"column":52}},"42":{"start":{"line":73,"column":12},"end":{"line":73,"column":46}},"43":{"start":{"line":75,"column":8},"end":{"line":78,"column":9}},"44":{"start":{"line":76,"column":12},"end":{"line":76,"column":31}},"45":{"start":{"line":77,"column":12},"end":{"line":77,"column":33}},"46":{"start":{"line":80,"column":8},"end":{"line":80,"column":29}},"47":{"start":{"line":81,"column":8},"end":{"line":81,"column":22}}},"branchMap":{"1":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":25,"column":8}},{"start":{"line":25,"column":8},"end":{"line":25,"column":8}}]},"2":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":12},"end":{"line":39,"column":12}},{"start":{"line":39,"column":12},"end":{"line":39,"column":12}}]},"3":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":12},"end":{"line":47,"column":18}},{"start":{"line":47,"column":23},"end":{"line":47,"column":169}}]},"4":{"line":57,"type":"binary-expr","locations":[{"start":{"line":57,"column":8},"end":{"line":57,"column":14}},{"start":{"line":57,"column":20},"end":{"line":57,"column":56}}]},"5":{"line":62,"type":"binary-expr","locations":[{"start":{"line":62,"column":18},"end":{"line":62,"column":24}},{"start":{"line":62,"column":29},"end":{"line":62,"column":39}}]},"6":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":8},"end":{"line":63,"column":8}},{"start":{"line":63,"column":8},"end":{"line":63,"column":8}}]},"7":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":8},"end":{"line":68,"column":8}},{"start":{"line":68,"column":8},"end":{"line":68,"column":8}}]},"8":{"line":69,"type":"if","locations":[{"start":{"line":69,"column":12},"end":{"line":69,"column":12}},{"start":{"line":69,"column":12},"end":{"line":69,"column":12}}]},"9":{"line":69,"type":"binary-expr","locations":[{"start":{"line":69,"column":16},"end":{"line":69,"column":40}},{"start":{"line":69,"column":44},"end":{"line":69,"column":63}}]},"10":{"line":70,"type":"if","locations":[{"start":{"line":70,"column":17},"end":{"line":70,"column":17}},{"start":{"line":70,"column":17},"end":{"line":70,"column":17}}]},"11":{"line":70,"type":"binary-expr","locations":[{"start":{"line":70,"column":21},"end":{"line":70,"column":45}},{"start":{"line":70,"column":49},"end":{"line":70,"column":68}}]},"12":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":17},"end":{"line":71,"column":17}},{"start":{"line":71,"column":17},"end":{"line":71,"column":17}}]},"13":{"line":75,"type":"if","locations":[{"start":{"line":75,"column":8},"end":{"line":75,"column":8}},{"start":{"line":75,"column":8},"end":{"line":75,"column":8}}]}},"code":["/**"," * Deform field directives"," *  "," * "," * Usage:"," * "," * "," */","(function(){","    "," ","angular.module('angoose.ui.controllers').controller(\"dfc-datepicker\", function($scope, $ui, $injector, $schema, $filter, $timeout, $modal ){","        enterscope($scope, \"Datepicker \"+ $scope.path);","        $scope.showTimepicker = $ui.getter( $schema, 'options.timepicker') !== false;","        $scope.openPicker = function(){","            $modal.open({","                template: $(\"#datepicker-template-\"+$scope.$id).html(),","                scope: $scope,","                backdrop:'static'","            })    ","        };","}).controller(\"dfControllerDatepickerModal\", function($scope, $injector ,  $timeout ){","        enterscope($scope, \"date picker modal\");","        mydate  = $scope.$field.$viewValue; ","        if(typeof(mydate ) == 'string') mydate = new Date(mydate);","        $timeout(function(){","            ","            var datepickerId =  \"#datepicker\"+$scope.$id;","            var picker = angular.element(datepickerId);","            picker.datepicker({","                onRender: function(date) {","                    return  '';","                }","            }).on('changeDate', function(ev) {","               $scope.holding = getDate($scope.holding, ev);","            });","            ","            ","            if($scope.showTimepicker){","                    var timepicker = angular.element(\"#timepicker\"+$scope.$id);","                    timepicker.timepicker({","                        minuteStep: 5","                    }).on('changeTime.timepicker', function(e) {","                      $scope.holding = getDate($scope.holding, e);","                    });    ","            }","            mydate  && picker.datepicker(\"setValue\", (\"00\" + (mydate.getMonth() + 1)).slice(-2) + \"/\" + (\"00\" + mydate.getDate()).slice(-2) + \"/\" + mydate.getFullYear());","            ","             ","        }, 5)","   ","    $scope.cancel = function() {","        $scope.$dismiss();","    };","    $scope.ok = function() {","        var mydate =  $scope.holding ;","        mydate  &&  $scope.$field.$setViewValue(mydate )","        $scope.$close();","    };","","    function getDate(mydate, ev){","        mydate  = mydate  || new Date();","        if(ev.date){","            mydate.setFullYear(ev.date.getFullYear());","            mydate.setMonth(ev.date.getMonth());","            mydate.setDate(ev.date.getDate());    ","        }","        if(ev.time){","            if (ev.time.meridian == \"AM\" && ev.time.hours == 12) mydate.setHours(0);","            else if (ev.time.meridian == \"PM\" && ev.time.hours == 12) mydate.setHours(12);","            else if (ev.time.meridian == \"PM\") mydate.setHours(e.time.hours + 12);","            else h = mydate.setHours(ev.time.hours);","            mydate.setMinutes(ev.time.minutes)    ","        }","        if(!$scope.showTimepicker){","            mydate.setHours(0);","            mydate.setMinutes(0);","        }","            ","        mydate.setSeconds(0);","        return mydate;","    }","    ","});","})();  // end enclosure"," "],"l":{"9":2,"12":2,"13":0,"14":0,"15":0,"16":0,"23":0,"24":0,"25":0,"26":0,"28":0,"29":0,"30":0,"32":0,"35":0,"39":0,"40":0,"41":0,"44":0,"47":0,"52":0,"53":0,"55":0,"56":0,"57":0,"58":0,"61":1,"62":0,"63":0,"64":0,"65":0,"66":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"75":0,"76":0,"77":0,"80":0,"81":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/controllers/file.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/controllers/file.js","s":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":1,"40":0,"41":1,"42":0,"43":1,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":1,"54":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":1,"67":0,"68":0,"69":0,"70":0,"71":0,"72":1,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0,0],"6":[0,0],"7":[0,0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0,0],"33":[0,0],"34":[0,0,0],"35":[0,0],"36":[0,0,0],"37":[0,0],"38":[0,0,0],"39":[0,0],"40":[0,0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":1},"end":{"line":9,"column":11}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":67},"end":{"line":10,"column":123}}},"3":{"name":"(anonymous_3)","line":18,"loc":{"start":{"line":18,"column":41},"end":{"line":18,"column":65}}},"4":{"name":"(anonymous_4)","line":27,"loc":{"start":{"line":27,"column":26},"end":{"line":27,"column":39}}},"5":{"name":"(anonymous_5)","line":47,"loc":{"start":{"line":47,"column":25},"end":{"line":47,"column":43}}},"6":{"name":"(anonymous_6)","line":48,"loc":{"start":{"line":48,"column":17},"end":{"line":48,"column":29}}},"7":{"name":"utf8_to_b64","line":79,"loc":{"start":{"line":79,"column":0},"end":{"line":79,"column":28}}},"8":{"name":"b64_to_utf8","line":83,"loc":{"start":{"line":83,"column":1},"end":{"line":83,"column":29}}},"9":{"name":"b64ToUint6","line":91,"loc":{"start":{"line":91,"column":1},"end":{"line":91,"column":28}}},"10":{"name":"base64DecToArr","line":108,"loc":{"start":{"line":108,"column":1},"end":{"line":108,"column":48}}},"11":{"name":"uint6ToB64","line":131,"loc":{"start":{"line":131,"column":1},"end":{"line":131,"column":30}}},"12":{"name":"base64EncArr","line":148,"loc":{"start":{"line":148,"column":1},"end":{"line":148,"column":32}}},"13":{"name":"UTF8ArrToStr","line":168,"loc":{"start":{"line":168,"column":1},"end":{"line":168,"column":32}}},"14":{"name":"strToUTF8Arr","line":195,"loc":{"start":{"line":195,"column":1},"end":{"line":195,"column":33}}}},"statementMap":{"1":{"start":{"line":9,"column":0},"end":{"line":252,"column":5}},"2":{"start":{"line":10,"column":0},"end":{"line":76,"column":3}},"3":{"start":{"line":11,"column":4},"end":{"line":11,"column":48}},"4":{"start":{"line":13,"column":4},"end":{"line":13,"column":47}},"5":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"6":{"start":{"line":18,"column":5},"end":{"line":26,"column":7}},"7":{"start":{"line":19,"column":6},"end":{"line":19,"column":52}},"8":{"start":{"line":21,"column":7},"end":{"line":24,"column":8}},"9":{"start":{"line":22,"column":8},"end":{"line":22,"column":72}},"10":{"start":{"line":27,"column":4},"end":{"line":75,"column":6}},"11":{"start":{"line":29,"column":5},"end":{"line":29,"column":31}},"12":{"start":{"line":30,"column":8},"end":{"line":30,"column":33}},"13":{"start":{"line":33,"column":8},"end":{"line":33,"column":59}},"14":{"start":{"line":34,"column":9},"end":{"line":34,"column":45}},"15":{"start":{"line":35,"column":8},"end":{"line":39,"column":9}},"16":{"start":{"line":36,"column":12},"end":{"line":36,"column":44}},"17":{"start":{"line":37,"column":12},"end":{"line":37,"column":64}},"18":{"start":{"line":38,"column":12},"end":{"line":38,"column":19}},"19":{"start":{"line":40,"column":8},"end":{"line":40,"column":44}},"20":{"start":{"line":41,"column":8},"end":{"line":41,"column":48}},"21":{"start":{"line":42,"column":8},"end":{"line":42,"column":21}},"22":{"start":{"line":44,"column":8},"end":{"line":44,"column":38}},"23":{"start":{"line":47,"column":8},"end":{"line":67,"column":18}},"24":{"start":{"line":48,"column":10},"end":{"line":66,"column":12}},"25":{"start":{"line":49,"column":11},"end":{"line":49,"column":40}},"26":{"start":{"line":51,"column":11},"end":{"line":51,"column":37}},"27":{"start":{"line":52,"column":11},"end":{"line":52,"column":25}},"28":{"start":{"line":53,"column":11},"end":{"line":54,"column":42}},"29":{"start":{"line":54,"column":13},"end":{"line":54,"column":42}},"30":{"start":{"line":55,"column":11},"end":{"line":55,"column":48}},"31":{"start":{"line":56,"column":11},"end":{"line":56,"column":51}},"32":{"start":{"line":59,"column":11},"end":{"line":63,"column":74}},"33":{"start":{"line":60,"column":13},"end":{"line":60,"column":76}},"34":{"start":{"line":63,"column":12},"end":{"line":63,"column":74}},"35":{"start":{"line":64,"column":11},"end":{"line":64,"column":28}},"36":{"start":{"line":71,"column":8},"end":{"line":71,"column":41}},"37":{"start":{"line":79,"column":0},"end":{"line":81,"column":2}},"38":{"start":{"line":80,"column":3},"end":{"line":80,"column":59}},"39":{"start":{"line":83,"column":1},"end":{"line":85,"column":2}},"40":{"start":{"line":84,"column":3},"end":{"line":84,"column":57}},"41":{"start":{"line":91,"column":1},"end":{"line":106,"column":2}},"42":{"start":{"line":93,"column":3},"end":{"line":104,"column":9}},"43":{"start":{"line":108,"column":1},"end":{"line":127,"column":2}},"44":{"start":{"line":110,"column":3},"end":{"line":112,"column":147}},"45":{"start":{"line":114,"column":3},"end":{"line":124,"column":4}},"46":{"start":{"line":115,"column":5},"end":{"line":115,"column":24}},"47":{"start":{"line":116,"column":5},"end":{"line":116,"column":73}},"48":{"start":{"line":117,"column":5},"end":{"line":123,"column":6}},"49":{"start":{"line":118,"column":7},"end":{"line":120,"column":8}},"50":{"start":{"line":119,"column":9},"end":{"line":119,"column":66}},"51":{"start":{"line":121,"column":7},"end":{"line":121,"column":19}},"52":{"start":{"line":126,"column":3},"end":{"line":126,"column":18}},"53":{"start":{"line":131,"column":1},"end":{"line":146,"column":2}},"54":{"start":{"line":133,"column":3},"end":{"line":144,"column":10}},"55":{"start":{"line":148,"column":1},"end":{"line":164,"column":2}},"56":{"start":{"line":150,"column":3},"end":{"line":150,"column":31}},"57":{"start":{"line":152,"column":3},"end":{"line":160,"column":4}},"58":{"start":{"line":153,"column":5},"end":{"line":153,"column":22}},"59":{"start":{"line":154,"column":5},"end":{"line":154,"column":70}},"60":{"start":{"line":154,"column":50},"end":{"line":154,"column":68}},"61":{"start":{"line":155,"column":5},"end":{"line":155,"column":52}},"62":{"start":{"line":156,"column":5},"end":{"line":159,"column":6}},"63":{"start":{"line":157,"column":7},"end":{"line":157,"column":162}},"64":{"start":{"line":158,"column":7},"end":{"line":158,"column":19}},"65":{"start":{"line":162,"column":3},"end":{"line":162,"column":104}},"66":{"start":{"line":168,"column":1},"end":{"line":193,"column":2}},"67":{"start":{"line":170,"column":3},"end":{"line":170,"column":18}},"68":{"start":{"line":172,"column":3},"end":{"line":189,"column":4}},"69":{"start":{"line":173,"column":5},"end":{"line":173,"column":26}},"70":{"start":{"line":174,"column":5},"end":{"line":188,"column":7}},"71":{"start":{"line":191,"column":3},"end":{"line":191,"column":16}},"72":{"start":{"line":195,"column":1},"end":{"line":250,"column":2}},"73":{"start":{"line":197,"column":3},"end":{"line":197,"column":59}},"74":{"start":{"line":201,"column":3},"end":{"line":204,"column":4}},"75":{"start":{"line":202,"column":5},"end":{"line":202,"column":40}},"76":{"start":{"line":203,"column":5},"end":{"line":203,"column":121}},"77":{"start":{"line":206,"column":3},"end":{"line":206,"column":36}},"78":{"start":{"line":210,"column":3},"end":{"line":246,"column":4}},"79":{"start":{"line":211,"column":5},"end":{"line":211,"column":40}},"80":{"start":{"line":212,"column":5},"end":{"line":245,"column":6}},"81":{"start":{"line":214,"column":7},"end":{"line":214,"column":29}},"82":{"start":{"line":215,"column":12},"end":{"line":245,"column":6}},"83":{"start":{"line":217,"column":7},"end":{"line":217,"column":43}},"84":{"start":{"line":218,"column":7},"end":{"line":218,"column":42}},"85":{"start":{"line":219,"column":12},"end":{"line":245,"column":6}},"86":{"start":{"line":221,"column":7},"end":{"line":221,"column":44}},"87":{"start":{"line":222,"column":7},"end":{"line":222,"column":48}},"88":{"start":{"line":223,"column":7},"end":{"line":223,"column":42}},"89":{"start":{"line":224,"column":12},"end":{"line":245,"column":6}},"90":{"start":{"line":226,"column":7},"end":{"line":226,"column":44}},"91":{"start":{"line":227,"column":7},"end":{"line":227,"column":49}},"92":{"start":{"line":228,"column":7},"end":{"line":228,"column":48}},"93":{"start":{"line":229,"column":7},"end":{"line":229,"column":42}},"94":{"start":{"line":230,"column":12},"end":{"line":245,"column":6}},"95":{"start":{"line":232,"column":7},"end":{"line":232,"column":44}},"96":{"start":{"line":233,"column":7},"end":{"line":233,"column":49}},"97":{"start":{"line":234,"column":7},"end":{"line":234,"column":49}},"98":{"start":{"line":235,"column":7},"end":{"line":235,"column":48}},"99":{"start":{"line":236,"column":7},"end":{"line":236,"column":42}},"100":{"start":{"line":239,"column":7},"end":{"line":239,"column":108}},"101":{"start":{"line":240,"column":7},"end":{"line":240,"column":49}},"102":{"start":{"line":241,"column":7},"end":{"line":241,"column":49}},"103":{"start":{"line":242,"column":7},"end":{"line":242,"column":49}},"104":{"start":{"line":243,"column":7},"end":{"line":243,"column":48}},"105":{"start":{"line":244,"column":7},"end":{"line":244,"column":42}},"106":{"start":{"line":248,"column":3},"end":{"line":248,"column":17}}},"branchMap":{"1":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":18},"end":{"line":13,"column":40}},{"start":{"line":13,"column":44},"end":{"line":13,"column":46}}]},"2":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":7},"end":{"line":21,"column":7}},{"start":{"line":21,"column":7},"end":{"line":21,"column":7}}]},"3":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":10},"end":{"line":21,"column":16}},{"start":{"line":21,"column":20},"end":{"line":21,"column":41}}]},"4":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":8},"end":{"line":35,"column":8}},{"start":{"line":35,"column":8},"end":{"line":35,"column":8}}]},"5":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":18}},{"start":{"line":35,"column":23},"end":{"line":35,"column":36}},{"start":{"line":35,"column":40},"end":{"line":35,"column":69}}]},"6":{"line":59,"type":"if","locations":[{"start":{"line":59,"column":11},"end":{"line":59,"column":11}},{"start":{"line":59,"column":11},"end":{"line":59,"column":11}}]},"7":{"line":59,"type":"binary-expr","locations":[{"start":{"line":59,"column":15},"end":{"line":59,"column":21}},{"start":{"line":59,"column":26},"end":{"line":59,"column":39}},{"start":{"line":59,"column":43},"end":{"line":59,"column":70}}]},"8":{"line":93,"type":"cond-expr","locations":[{"start":{"line":94,"column":7},"end":{"line":94,"column":16}},{"start":{"line":95,"column":7},"end":{"line":104,"column":8}}]},"9":{"line":93,"type":"binary-expr","locations":[{"start":{"line":93,"column":10},"end":{"line":93,"column":19}},{"start":{"line":93,"column":23},"end":{"line":93,"column":32}}]},"10":{"line":95,"type":"cond-expr","locations":[{"start":{"line":96,"column":7},"end":{"line":96,"column":16}},{"start":{"line":97,"column":7},"end":{"line":104,"column":8}}]},"11":{"line":95,"type":"binary-expr","locations":[{"start":{"line":95,"column":7},"end":{"line":95,"column":16}},{"start":{"line":95,"column":20},"end":{"line":95,"column":30}}]},"12":{"line":97,"type":"cond-expr","locations":[{"start":{"line":98,"column":7},"end":{"line":98,"column":15}},{"start":{"line":99,"column":7},"end":{"line":104,"column":8}}]},"13":{"line":97,"type":"binary-expr","locations":[{"start":{"line":97,"column":7},"end":{"line":97,"column":16}},{"start":{"line":97,"column":20},"end":{"line":97,"column":29}}]},"14":{"line":99,"type":"cond-expr","locations":[{"start":{"line":100,"column":7},"end":{"line":100,"column":9}},{"start":{"line":101,"column":7},"end":{"line":104,"column":8}}]},"15":{"line":101,"type":"cond-expr","locations":[{"start":{"line":102,"column":7},"end":{"line":102,"column":9}},{"start":{"line":104,"column":7},"end":{"line":104,"column":8}}]},"16":{"line":112,"type":"cond-expr","locations":[{"start":{"line":112,"column":29},"end":{"line":112,"column":89}},{"start":{"line":112,"column":92},"end":{"line":112,"column":111}}]},"17":{"line":117,"type":"if","locations":[{"start":{"line":117,"column":5},"end":{"line":117,"column":5}},{"start":{"line":117,"column":5},"end":{"line":117,"column":5}}]},"18":{"line":117,"type":"binary-expr","locations":[{"start":{"line":117,"column":9},"end":{"line":117,"column":20}},{"start":{"line":117,"column":24},"end":{"line":117,"column":45}}]},"19":{"line":118,"type":"binary-expr","locations":[{"start":{"line":118,"column":23},"end":{"line":118,"column":32}},{"start":{"line":118,"column":36},"end":{"line":118,"column":53}}]},"20":{"line":133,"type":"cond-expr","locations":[{"start":{"line":134,"column":7},"end":{"line":134,"column":18}},{"start":{"line":135,"column":7},"end":{"line":144,"column":9}}]},"21":{"line":135,"type":"cond-expr","locations":[{"start":{"line":136,"column":7},"end":{"line":136,"column":18}},{"start":{"line":137,"column":7},"end":{"line":144,"column":9}}]},"22":{"line":137,"type":"cond-expr","locations":[{"start":{"line":138,"column":7},"end":{"line":138,"column":17}},{"start":{"line":139,"column":7},"end":{"line":144,"column":9}}]},"23":{"line":139,"type":"cond-expr","locations":[{"start":{"line":140,"column":7},"end":{"line":140,"column":9}},{"start":{"line":141,"column":7},"end":{"line":144,"column":9}}]},"24":{"line":141,"type":"cond-expr","locations":[{"start":{"line":142,"column":7},"end":{"line":142,"column":9}},{"start":{"line":144,"column":7},"end":{"line":144,"column":9}}]},"25":{"line":154,"type":"if","locations":[{"start":{"line":154,"column":5},"end":{"line":154,"column":5}},{"start":{"line":154,"column":5},"end":{"line":154,"column":5}}]},"26":{"line":154,"type":"binary-expr","locations":[{"start":{"line":154,"column":9},"end":{"line":154,"column":17}},{"start":{"line":154,"column":21},"end":{"line":154,"column":46}}]},"27":{"line":156,"type":"if","locations":[{"start":{"line":156,"column":5},"end":{"line":156,"column":5}},{"start":{"line":156,"column":5},"end":{"line":156,"column":5}}]},"28":{"line":156,"type":"binary-expr","locations":[{"start":{"line":156,"column":9},"end":{"line":156,"column":20}},{"start":{"line":156,"column":24},"end":{"line":156,"column":50}}]},"29":{"line":162,"type":"cond-expr","locations":[{"start":{"line":162,"column":73},"end":{"line":162,"column":75}},{"start":{"line":162,"column":78},"end":{"line":162,"column":102}}]},"30":{"line":162,"type":"cond-expr","locations":[{"start":{"line":162,"column":92},"end":{"line":162,"column":95}},{"start":{"line":162,"column":98},"end":{"line":162,"column":102}}]},"31":{"line":175,"type":"cond-expr","locations":[{"start":{"line":177,"column":9},"end":{"line":177,"column":181}},{"start":{"line":178,"column":9},"end":{"line":187,"column":14}}]},"32":{"line":175,"type":"binary-expr","locations":[{"start":{"line":175,"column":7},"end":{"line":175,"column":18}},{"start":{"line":175,"column":22},"end":{"line":175,"column":33}},{"start":{"line":175,"column":37},"end":{"line":175,"column":52}}]},"33":{"line":178,"type":"cond-expr","locations":[{"start":{"line":179,"column":9},"end":{"line":179,"column":143}},{"start":{"line":180,"column":9},"end":{"line":187,"column":14}}]},"34":{"line":178,"type":"binary-expr","locations":[{"start":{"line":178,"column":9},"end":{"line":178,"column":20}},{"start":{"line":178,"column":24},"end":{"line":178,"column":35}},{"start":{"line":178,"column":39},"end":{"line":178,"column":54}}]},"35":{"line":180,"type":"cond-expr","locations":[{"start":{"line":181,"column":9},"end":{"line":181,"column":112}},{"start":{"line":182,"column":9},"end":{"line":187,"column":14}}]},"36":{"line":180,"type":"binary-expr","locations":[{"start":{"line":180,"column":9},"end":{"line":180,"column":20}},{"start":{"line":180,"column":24},"end":{"line":180,"column":35}},{"start":{"line":180,"column":39},"end":{"line":180,"column":54}}]},"37":{"line":182,"type":"cond-expr","locations":[{"start":{"line":183,"column":9},"end":{"line":183,"column":81}},{"start":{"line":184,"column":9},"end":{"line":187,"column":14}}]},"38":{"line":182,"type":"binary-expr","locations":[{"start":{"line":182,"column":9},"end":{"line":182,"column":20}},{"start":{"line":182,"column":24},"end":{"line":182,"column":35}},{"start":{"line":182,"column":39},"end":{"line":182,"column":54}}]},"39":{"line":184,"type":"cond-expr","locations":[{"start":{"line":185,"column":9},"end":{"line":185,"column":50}},{"start":{"line":187,"column":9},"end":{"line":187,"column":14}}]},"40":{"line":184,"type":"binary-expr","locations":[{"start":{"line":184,"column":9},"end":{"line":184,"column":20}},{"start":{"line":184,"column":24},"end":{"line":184,"column":35}},{"start":{"line":184,"column":39},"end":{"line":184,"column":54}}]},"41":{"line":203,"type":"cond-expr","locations":[{"start":{"line":203,"column":30},"end":{"line":203,"column":31}},{"start":{"line":203,"column":34},"end":{"line":203,"column":120}}]},"42":{"line":203,"type":"cond-expr","locations":[{"start":{"line":203,"column":49},"end":{"line":203,"column":50}},{"start":{"line":203,"column":53},"end":{"line":203,"column":120}}]},"43":{"line":203,"type":"cond-expr","locations":[{"start":{"line":203,"column":70},"end":{"line":203,"column":71}},{"start":{"line":203,"column":74},"end":{"line":203,"column":120}}]},"44":{"line":203,"type":"cond-expr","locations":[{"start":{"line":203,"column":92},"end":{"line":203,"column":93}},{"start":{"line":203,"column":96},"end":{"line":203,"column":120}}]},"45":{"line":203,"type":"cond-expr","locations":[{"start":{"line":203,"column":115},"end":{"line":203,"column":116}},{"start":{"line":203,"column":119},"end":{"line":203,"column":120}}]},"46":{"line":212,"type":"if","locations":[{"start":{"line":212,"column":5},"end":{"line":212,"column":5}},{"start":{"line":212,"column":5},"end":{"line":212,"column":5}}]},"47":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":12},"end":{"line":215,"column":12}},{"start":{"line":215,"column":12},"end":{"line":215,"column":12}}]},"48":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":12},"end":{"line":219,"column":12}},{"start":{"line":219,"column":12},"end":{"line":219,"column":12}}]},"49":{"line":224,"type":"if","locations":[{"start":{"line":224,"column":12},"end":{"line":224,"column":12}},{"start":{"line":224,"column":12},"end":{"line":224,"column":12}}]},"50":{"line":230,"type":"if","locations":[{"start":{"line":230,"column":12},"end":{"line":230,"column":12}},{"start":{"line":230,"column":12},"end":{"line":230,"column":12}}]}},"code":["/**"," * Deform field directives"," *  "," * "," * Usage:"," * "," * "," */","(function(){","angular.module('angoose.ui.controllers'  ).controller(\t\"dfc-file\", function($scope , $injector,  $schema, angoose , $alert){","    enterscope($scope, \"Regular File upload!!\");","  ","    var accept  = $schema.options.accept || [];","    $scope.$validationMessages = {","        \"validFileType\": \"Only these file types are accepted: \"+ accept.join(\", \")","    }","   ","     $scope.$watch('$field.$modelValue', function(newVal, oldVal){","    \t console.log(\"Value changed!\", newVal, oldVal);","    \t \t","    \t \tif(newVal && Array.isArray(newVal)){","    \t \t\t$scope.dataUri = \"data:image/jpg;base64,\"+ base64EncArr(newVal);","    \t \t\t//console.log(\"dataUri: changed1!!!!\");    \t \t\t","    \t \t}","    \t ","    });","    $scope.onFileUpload = function(evt){","    \t//console.log(arguments);","    \t$files = evt.target.files;","        window.$file = $files[0];","        //console.log(\"file selected!\", $files, \"accept: \", accept, \"type\", $file.type);","","        $scope.$field.$setValidity('validFileType', true );","        \tconsole.log(\"FILE TYPE\", $file.type)","        if( accept  && accept.length && accept.indexOf($file.type) <0  ){","            $scope.$field.$setViewValue('');","            $scope.$field.$setValidity('validFileType', false );","            return;","        }","        var bucket = $schema.options.bucket;","        var filePath = $schema.options.filepath;","        var key = {};","        ","        var reader = new FileReader();","","        // Closure to capture the file information.","        reader.onload = (function(theFile) {","          return function(e) {","        \t  window.res = e.target.result;","        \t  //console.log(\"Result\", e.target.result );","        \t  var val = e.target.result;","        \t  var vals = [];","        \t  for(var i=0;i<val.length;i++)","        \t\t  \tvals.push(val.charCodeAt(i));","        \t  console.log(\"Finished loading file\");","        \t  $scope.$field.$setViewValue(     vals) ;","        \t  ","        \t  ","        \t  if( accept  && accept.length && accept.indexOf(\"video\") >=0  ){","        \t  \t\t$scope.dataUri = \"data:video/webm;base64,\"+ base64EncArr(vals);","        \t  }","        \t  else","        \t  \t$scope.dataUri = \"data:image/jpg;base64,\"+ base64EncArr(vals);","        \t  $scope.$digest();","       ","          };","        })($file);","","        // Read in the image file as a data URL.","        //reader.readAsDataURL($file);","        reader.readAsBinaryString($file);","        ","  ","","    };","});","","","function utf8_to_b64( str ) {","\t  return window.btoa(unescape(encodeURIComponent( str )));","\t}","","\tfunction b64_to_utf8( str ) {","\t  return decodeURIComponent(escape(window.atob( str )));","\t}","","\t  ","","\t/* Array of bytes to base64 string decoding */","","\tfunction b64ToUint6 (nChr) {","","\t  return nChr > 64 && nChr < 91 ?","\t      nChr - 65","\t    : nChr > 96 && nChr < 123 ?","\t      nChr - 71","\t    : nChr > 47 && nChr < 58 ?","\t      nChr + 4","\t    : nChr === 43 ?","\t      62","\t    : nChr === 47 ?","\t      63","\t    :","\t      0;","","\t}","","\tfunction base64DecToArr (sBase64, nBlocksSize) {","","\t  var","\t    sB64Enc = sBase64.replace(/[^A-Za-z0-9\\+\\/]/g, \"\"), nInLen = sB64Enc.length,","\t    nOutLen = nBlocksSize ? Math.ceil((nInLen * 3 + 1 >> 2) / nBlocksSize) * nBlocksSize : nInLen * 3 + 1 >> 2, taBytes = new Uint8Array(nOutLen);","","\t  for (var nMod3, nMod4, nUint24 = 0, nOutIdx = 0, nInIdx = 0; nInIdx < nInLen; nInIdx++) {","\t    nMod4 = nInIdx & 3;","\t    nUint24 |= b64ToUint6(sB64Enc.charCodeAt(nInIdx)) << 18 - 6 * nMod4;","\t    if (nMod4 === 3 || nInLen - nInIdx === 1) {","\t      for (nMod3 = 0; nMod3 < 3 && nOutIdx < nOutLen; nMod3++, nOutIdx++) {","\t        taBytes[nOutIdx] = nUint24 >>> (16 >>> nMod3 & 24) & 255;","\t      }","\t      nUint24 = 0;","","\t    }","\t  }","","\t  return taBytes;","\t}","","\t/* Base64 string to array encoding */","","\tfunction uint6ToB64 (nUint6) {","","\t  return nUint6 < 26 ?","\t      nUint6 + 65","\t    : nUint6 < 52 ?","\t      nUint6 + 71","\t    : nUint6 < 62 ?","\t      nUint6 - 4","\t    : nUint6 === 62 ?","\t      43","\t    : nUint6 === 63 ?","\t      47","\t    :","\t      65;","","\t}","","\tfunction base64EncArr (aBytes) {","","\t  var nMod3 = 2, sB64Enc = \"\";","","\t  for (var nLen = aBytes.length, nUint24 = 0, nIdx = 0; nIdx < nLen; nIdx++) {","\t    nMod3 = nIdx % 3;","\t    if (nIdx > 0 && (nIdx * 4 / 3) % 76 === 0) { sB64Enc += \"\\r\\n\"; }","\t    nUint24 |= aBytes[nIdx] << (16 >>> nMod3 & 24);","\t    if (nMod3 === 2 || aBytes.length - nIdx === 1) {","\t      sB64Enc += String.fromCharCode(uint6ToB64(nUint24 >>> 18 & 63), uint6ToB64(nUint24 >>> 12 & 63), uint6ToB64(nUint24 >>> 6 & 63), uint6ToB64(nUint24 & 63));","\t      nUint24 = 0;","\t    }","\t  }","","\t  return sB64Enc.substr(0, sB64Enc.length - 2 + nMod3) + (nMod3 === 2 ? '' : nMod3 === 1 ? '=' : '==');","","\t}","","\t/* UTF-8 array to DOMString and vice versa */","","\tfunction UTF8ArrToStr (aBytes) {","","\t  var sView = \"\";","","\t  for (var nPart, nLen = aBytes.length, nIdx = 0; nIdx < nLen; nIdx++) {","\t    nPart = aBytes[nIdx];","\t    sView += String.fromCharCode(","\t      nPart > 251 && nPart < 254 && nIdx + 5 < nLen ? /* six bytes */","\t        /* (nPart - 252 << 32) is not possible in ECMAScript! So...: */","\t        (nPart - 252) * 1073741824 + (aBytes[++nIdx] - 128 << 24) + (aBytes[++nIdx] - 128 << 18) + (aBytes[++nIdx] - 128 << 12) + (aBytes[++nIdx] - 128 << 6) + aBytes[++nIdx] - 128","\t      : nPart > 247 && nPart < 252 && nIdx + 4 < nLen ? /* five bytes */","\t        (nPart - 248 << 24) + (aBytes[++nIdx] - 128 << 18) + (aBytes[++nIdx] - 128 << 12) + (aBytes[++nIdx] - 128 << 6) + aBytes[++nIdx] - 128","\t      : nPart > 239 && nPart < 248 && nIdx + 3 < nLen ? /* four bytes */","\t        (nPart - 240 << 18) + (aBytes[++nIdx] - 128 << 12) + (aBytes[++nIdx] - 128 << 6) + aBytes[++nIdx] - 128","\t      : nPart > 223 && nPart < 240 && nIdx + 2 < nLen ? /* three bytes */","\t        (nPart - 224 << 12) + (aBytes[++nIdx] - 128 << 6) + aBytes[++nIdx] - 128","\t      : nPart > 191 && nPart < 224 && nIdx + 1 < nLen ? /* two bytes */","\t        (nPart - 192 << 6) + aBytes[++nIdx] - 128","\t      : /* nPart < 127 ? */ /* one byte */","\t        nPart","\t    );","\t  }","","\t  return sView;","","\t}","","\tfunction strToUTF8Arr (sDOMStr) {","","\t  var aBytes, nChr, nStrLen = sDOMStr.length, nArrLen = 0;","","\t  /* mapping... */","","\t  for (var nMapIdx = 0; nMapIdx < nStrLen; nMapIdx++) {","\t    nChr = sDOMStr.charCodeAt(nMapIdx);","\t    nArrLen += nChr < 0x80 ? 1 : nChr < 0x800 ? 2 : nChr < 0x10000 ? 3 : nChr < 0x200000 ? 4 : nChr < 0x4000000 ? 5 : 6;","\t  }","","\t  aBytes = new Uint8Array(nArrLen);","","\t  /* transcription... */","","\t  for (var nIdx = 0, nChrIdx = 0; nIdx < nArrLen; nChrIdx++) {","\t    nChr = sDOMStr.charCodeAt(nChrIdx);","\t    if (nChr < 128) {","\t      /* one byte */","\t      aBytes[nIdx++] = nChr;","\t    } else if (nChr < 0x800) {","\t      /* two bytes */","\t      aBytes[nIdx++] = 192 + (nChr >>> 6);","\t      aBytes[nIdx++] = 128 + (nChr & 63);","\t    } else if (nChr < 0x10000) {","\t      /* three bytes */","\t      aBytes[nIdx++] = 224 + (nChr >>> 12);","\t      aBytes[nIdx++] = 128 + (nChr >>> 6 & 63);","\t      aBytes[nIdx++] = 128 + (nChr & 63);","\t    } else if (nChr < 0x200000) {","\t      /* four bytes */","\t      aBytes[nIdx++] = 240 + (nChr >>> 18);","\t      aBytes[nIdx++] = 128 + (nChr >>> 12 & 63);","\t      aBytes[nIdx++] = 128 + (nChr >>> 6 & 63);","\t      aBytes[nIdx++] = 128 + (nChr & 63);","\t    } else if (nChr < 0x4000000) {","\t      /* five bytes */","\t      aBytes[nIdx++] = 248 + (nChr >>> 24);","\t      aBytes[nIdx++] = 128 + (nChr >>> 18 & 63);","\t      aBytes[nIdx++] = 128 + (nChr >>> 12 & 63);","\t      aBytes[nIdx++] = 128 + (nChr >>> 6 & 63);","\t      aBytes[nIdx++] = 128 + (nChr & 63);","\t    } else /* if (nChr <= 0x7fffffff) */ {","\t      /* six bytes */","\t      aBytes[nIdx++] = 252 + /* (nChr >>> 32) is not possible in ECMAScript! So...: */ (nChr / 1073741824);","\t      aBytes[nIdx++] = 128 + (nChr >>> 24 & 63);","\t      aBytes[nIdx++] = 128 + (nChr >>> 18 & 63);","\t      aBytes[nIdx++] = 128 + (nChr >>> 12 & 63);","\t      aBytes[nIdx++] = 128 + (nChr >>> 6 & 63);","\t      aBytes[nIdx++] = 128 + (nChr & 63);","\t    }","\t  }","","\t  return aBytes;","","\t}"," ","})();  // end enclosure","","// source","// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Base64_encoding_and_decoding#Solution_.232_.E2.80.93_rewriting_atob%28%29_and_btoa%28%29_using_TypedArrays_and_UTF-8",""],"l":{"9":2,"10":2,"11":0,"13":0,"14":0,"18":0,"19":0,"21":0,"22":0,"27":0,"29":0,"30":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"40":0,"41":0,"42":0,"44":0,"47":0,"48":0,"49":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"59":0,"60":0,"63":0,"64":0,"71":0,"79":1,"80":0,"83":1,"84":0,"91":1,"93":0,"108":1,"110":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"121":0,"126":0,"131":1,"133":0,"148":1,"150":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"162":0,"168":1,"170":0,"172":0,"173":0,"174":0,"191":0,"195":1,"197":0,"201":0,"202":0,"203":0,"206":0,"210":0,"211":0,"212":0,"214":0,"215":0,"217":0,"218":0,"219":0,"221":0,"222":0,"223":0,"224":0,"226":0,"227":0,"228":0,"229":0,"230":0,"232":0,"233":0,"234":0,"235":0,"236":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"248":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/controllers/s3file.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/controllers/s3file.js","s":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0,0],"7":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":1},"end":{"line":9,"column":11}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":68},"end":{"line":10,"column":132}}},"3":{"name":"(anonymous_3)","line":17,"loc":{"start":{"line":17,"column":41},"end":{"line":17,"column":51}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":26},"end":{"line":24,"column":42}}},"5":{"name":"(anonymous_5)","line":36,"loc":{"start":{"line":36,"column":81},"end":{"line":36,"column":95}}},"6":{"name":"(anonymous_6)","line":50,"loc":{"start":{"line":50,"column":23},"end":{"line":50,"column":38}}},"7":{"name":"(anonymous_7)","line":57,"loc":{"start":{"line":57,"column":21},"end":{"line":57,"column":35}}},"8":{"name":"(anonymous_8)","line":62,"loc":{"start":{"line":62,"column":11},"end":{"line":62,"column":24}}}},"statementMap":{"1":{"start":{"line":9,"column":0},"end":{"line":70,"column":5}},"2":{"start":{"line":10,"column":0},"end":{"line":68,"column":3}},"3":{"start":{"line":11,"column":4},"end":{"line":11,"column":38}},"4":{"start":{"line":12,"column":4},"end":{"line":12,"column":47}},"5":{"start":{"line":13,"column":4},"end":{"line":15,"column":5}},"6":{"start":{"line":17,"column":5},"end":{"line":23,"column":7}},"7":{"start":{"line":18,"column":12},"end":{"line":18,"column":56}},"8":{"start":{"line":19,"column":12},"end":{"line":22,"column":57}},"9":{"start":{"line":20,"column":16},"end":{"line":20,"column":52}},"10":{"start":{"line":22,"column":16},"end":{"line":22,"column":57}},"11":{"start":{"line":24,"column":4},"end":{"line":67,"column":6}},"12":{"start":{"line":25,"column":8},"end":{"line":25,"column":45}},"13":{"start":{"line":26,"column":8},"end":{"line":26,"column":30}},"14":{"start":{"line":27,"column":8},"end":{"line":27,"column":59}},"15":{"start":{"line":28,"column":8},"end":{"line":32,"column":9}},"16":{"start":{"line":29,"column":12},"end":{"line":29,"column":44}},"17":{"start":{"line":30,"column":12},"end":{"line":30,"column":64}},"18":{"start":{"line":31,"column":12},"end":{"line":31,"column":19}},"19":{"start":{"line":33,"column":8},"end":{"line":33,"column":44}},"20":{"start":{"line":34,"column":8},"end":{"line":34,"column":48}},"21":{"start":{"line":35,"column":8},"end":{"line":35,"column":21}},"22":{"start":{"line":36,"column":8},"end":{"line":65,"column":11}},"23":{"start":{"line":37,"column":12},"end":{"line":61,"column":15}},"24":{"start":{"line":51,"column":16},"end":{"line":56,"column":17}},"25":{"start":{"line":52,"column":19},"end":{"line":52,"column":86}},"26":{"start":{"line":53,"column":19},"end":{"line":53,"column":78}},"27":{"start":{"line":55,"column":19},"end":{"line":55,"column":55}},"28":{"start":{"line":58,"column":16},"end":{"line":58,"column":63}},"29":{"start":{"line":59,"column":16},"end":{"line":59,"column":58}},"30":{"start":{"line":60,"column":16},"end":{"line":60,"column":48}},"31":{"start":{"line":63,"column":12},"end":{"line":63,"column":54}},"32":{"start":{"line":64,"column":12},"end":{"line":64,"column":44}}},"branchMap":{"1":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":18},"end":{"line":12,"column":40}},{"start":{"line":12,"column":44},"end":{"line":12,"column":46}}]},"2":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":12},"end":{"line":19,"column":12}},{"start":{"line":19,"column":12},"end":{"line":19,"column":12}}]},"3":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":15},"end":{"line":19,"column":45}},{"start":{"line":19,"column":49},"end":{"line":19,"column":60}}]},"4":{"line":22,"type":"cond-expr","locations":[{"start":{"line":22,"column":49},"end":{"line":22,"column":51}},{"start":{"line":22,"column":52},"end":{"line":22,"column":56}}]},"5":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":8}},{"start":{"line":28,"column":8},"end":{"line":28,"column":8}}]},"6":{"line":28,"type":"binary-expr","locations":[{"start":{"line":28,"column":12},"end":{"line":28,"column":18}},{"start":{"line":28,"column":23},"end":{"line":28,"column":36}},{"start":{"line":28,"column":40},"end":{"line":28,"column":69}}]},"7":{"line":51,"type":"if","locations":[{"start":{"line":51,"column":16},"end":{"line":51,"column":16}},{"start":{"line":51,"column":16},"end":{"line":51,"column":16}}]}},"code":["/**"," * Deform field directives"," *  "," * "," * Usage:"," * "," * "," */","(function(){","angular.module('angoose.ui.controllers'  ).controller(\"dfc-s3file\", function($scope , $injector, $upload, $schema, angoose , $alert){","    enterscope($scope, \"File upload\");","    var accept  = $schema.options.accept || [];","    $scope.$validationMessages = {","        \"validFileType\": \"Only these file types are accepted: \"+ accept.join(\", \")","    }","   ","     $scope.$watch('$field.$modelValue', function(){","            var vals = $scope.instance.get($scope.path);        ","            if($scope.itemIndex !== undefined && vals.length)","                $scope.url = vals[$scope.itemIndex];","            else ","                $scope.url = Array.isArray(vals)?\"\":vals;","    });","    $scope.onFileUpload = function($files){","        console.log(\"file uploaded\", $files);","        var $file = $files[0];","        $scope.$field.$setValidity('validFileType', true );","        if( accept  && accept.length && accept.indexOf($file.type) <0  ){","            $scope.$field.$setViewValue('');","            $scope.$field.$setValidity('validFileType', false );","            return;","        }","        var bucket = $schema.options.bucket;","        var filePath = $schema.options.filepath;","        var key = {};","        $scope.instance.getS3Key(bucket, filePath, $file.name, $file.type ).then(function(key) {","            $upload.upload({","                url: 'https://' +  bucket + '.s3.amazonaws.com',","                method: 'POST',","                data: {","                    'key': key.path,","                    'AWSAccessKeyId': key.accesskey,","                    'acl': 'public-read',","                    'policy': key.policy,","                    'signature': key.signature,","                    'success_action_status': '201',","                    'Content-Type': key.mime_type","                },","                file: $file","            }).success(function(data) {","                if(data){","                   var s3file = unescape($($.parseXML(data)).find('Location').text());","                   angoose.logger.debug(\"S3 uploaded successfully: \", s3file);","                   //$scope.instance.set($scope.path, unescape($($.parseXML(data)).find('Location').text())  );","                   $scope.$field.$setViewValue(s3file);","                }","            }).error(function(data){","                angoose.logger.error(\"S3 Upload failed\", data);","                $alert.error(\"S3 Upload failed: \"+  data);","                $scope.$field.$setViewValue('');","            });","        }, function(err){","            angoose.logger.debug(\"S3Key  error\", err);","            $scope.$field.$setViewValue('');","        });","","    };","});"," ","})();  // end enclosure"],"l":{"9":2,"10":2,"11":0,"12":0,"13":0,"17":0,"18":0,"19":0,"20":0,"22":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"33":0,"34":0,"35":0,"36":0,"37":0,"51":0,"52":0,"53":0,"55":0,"58":0,"59":0,"60":0,"63":0,"64":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/controllers/select.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/controllers/select.js","s":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{"1":[0,0],"2":[0,0,0,0],"3":[0,0],"4":[0,0,0,0]},"f":{"1":2,"2":0,"3":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":1},"end":{"line":9,"column":11}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":68},"end":{"line":10,"column":105}}},"3":{"name":"(anonymous_3)","line":15,"loc":{"start":{"line":15,"column":49},"end":{"line":15,"column":63}}}},"statementMap":{"1":{"start":{"line":9,"column":0},"end":{"line":26,"column":5}},"2":{"start":{"line":10,"column":0},"end":{"line":21,"column":3}},"3":{"start":{"line":12,"column":8},"end":{"line":12,"column":111}},"4":{"start":{"line":12,"column":104},"end":{"line":12,"column":111}},"5":{"start":{"line":13,"column":8},"end":{"line":13,"column":34}},"6":{"start":{"line":15,"column":8},"end":{"line":17,"column":11}},"7":{"start":{"line":16,"column":12},"end":{"line":16,"column":46}},"8":{"start":{"line":19,"column":8},"end":{"line":20,"column":72}},"9":{"start":{"line":20,"column":12},"end":{"line":20,"column":72}}},"branchMap":{"1":{"line":12,"type":"if","locations":[{"start":{"line":12,"column":8},"end":{"line":12,"column":8}},{"start":{"line":12,"column":8},"end":{"line":12,"column":8}}]},"2":{"line":12,"type":"binary-expr","locations":[{"start":{"line":12,"column":11},"end":{"line":12,"column":19}},{"start":{"line":12,"column":23},"end":{"line":12,"column":39}},{"start":{"line":12,"column":43},"end":{"line":12,"column":67}},{"start":{"line":12,"column":71},"end":{"line":12,"column":102}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":8}},{"start":{"line":19,"column":8},"end":{"line":19,"column":8}}]},"4":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":13},"end":{"line":19,"column":39}},{"start":{"line":19,"column":43},"end":{"line":19,"column":54}},{"start":{"line":19,"column":59},"end":{"line":19,"column":74}},{"start":{"line":19,"column":78},"end":{"line":19,"column":107}}]}},"code":["/**"," * Deform field directives"," *  "," * "," * Usage:"," * "," * "," */","(function(){","angular.module('angoose.ui.controllers'  ).controller(\"dfc-select\", function($scope, $injector, $schema ){","        //console.log(\"In Select Ctrl\", $scope.path , $schema  );","        if(!$schema || !$schema.options || !$schema.options['enum'] || !$schema.options['enum'].length) return;","        $scope.selectOptions = {};","        ","        angular.forEach($schema.options['enum'], function(item){","            $scope.selectOptions[item] = item;","        });","        // set the default value","        if(  $schema.options['default'] && $scope.path  && $scope.instance && !$scope.instance[$scope.path])","            $scope.instance[$scope.path] =   $schema.options['default'];","});"," "," ","","","})();  // end enclosure"],"l":{"9":2,"10":2,"12":0,"13":0,"15":0,"16":0,"19":0,"20":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/controllers/selector.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/controllers/selector.js","s":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":1,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"fnMap":{"1":{"name":"(anonymous_1)","line":9,"loc":{"start":{"line":9,"column":1},"end":{"line":9,"column":11}}},"2":{"name":"(anonymous_2)","line":12,"loc":{"start":{"line":12,"column":68},"end":{"line":12,"column":150}}},"3":{"name":"format","line":29,"loc":{"start":{"line":29,"column":8},"end":{"line":29,"column":30}}},"4":{"name":"(anonymous_4)","line":48,"loc":{"start":{"line":48,"column":16},"end":{"line":48,"column":29}}},"5":{"name":"(anonymous_5)","line":54,"loc":{"start":{"line":54,"column":19},"end":{"line":54,"column":34}}},"6":{"name":"(anonymous_6)","line":59,"loc":{"start":{"line":59,"column":70},"end":{"line":59,"column":92}}},"7":{"name":"(anonymous_7)","line":61,"loc":{"start":{"line":61,"column":46},"end":{"line":61,"column":59}}},"8":{"name":"initSelection","line":71,"loc":{"start":{"line":71,"column":8},"end":{"line":71,"column":44}}},"9":{"name":"(anonymous_9)","line":79,"loc":{"start":{"line":79,"column":27},"end":{"line":79,"column":40}}},"10":{"name":"(anonymous_10)","line":86,"loc":{"start":{"line":86,"column":91},"end":{"line":86,"column":113}}},"11":{"name":"(anonymous_11)","line":87,"loc":{"start":{"line":87,"column":47},"end":{"line":87,"column":60}}},"12":{"name":"(anonymous_12)","line":100,"loc":{"start":{"line":100,"column":52},"end":{"line":100,"column":71}}},"13":{"name":"(anonymous_13)","line":114,"loc":{"start":{"line":114,"column":31},"end":{"line":114,"column":56}}}},"statementMap":{"1":{"start":{"line":9,"column":0},"end":{"line":139,"column":5}},"2":{"start":{"line":12,"column":0},"end":{"line":134,"column":3}},"3":{"start":{"line":13,"column":8},"end":{"line":13,"column":59}},"4":{"start":{"line":14,"column":8},"end":{"line":14,"column":35}},"5":{"start":{"line":15,"column":8},"end":{"line":15,"column":33}},"6":{"start":{"line":16,"column":8},"end":{"line":16,"column":27}},"7":{"start":{"line":17,"column":8},"end":{"line":17,"column":33}},"8":{"start":{"line":19,"column":8},"end":{"line":19,"column":31}},"9":{"start":{"line":19,"column":24},"end":{"line":19,"column":31}},"10":{"start":{"line":21,"column":8},"end":{"line":21,"column":74}},"11":{"start":{"line":22,"column":8},"end":{"line":22,"column":64}},"12":{"start":{"line":24,"column":8},"end":{"line":24,"column":58}},"13":{"start":{"line":25,"column":8},"end":{"line":25,"column":50}},"14":{"start":{"line":25,"column":42},"end":{"line":25,"column":50}},"15":{"start":{"line":27,"column":8},"end":{"line":27,"column":51}},"16":{"start":{"line":29,"column":8},"end":{"line":42,"column":9}},"17":{"start":{"line":31,"column":12},"end":{"line":31,"column":59}},"18":{"start":{"line":33,"column":12},"end":{"line":33,"column":79}},"19":{"start":{"line":33,"column":48},"end":{"line":33,"column":79}},"20":{"start":{"line":35,"column":12},"end":{"line":35,"column":112}},"21":{"start":{"line":35,"column":54},"end":{"line":35,"column":112}},"22":{"start":{"line":36,"column":12},"end":{"line":36,"column":72}},"23":{"start":{"line":36,"column":48},"end":{"line":36,"column":72}},"24":{"start":{"line":37,"column":12},"end":{"line":37,"column":97}},"25":{"start":{"line":37,"column":49},"end":{"line":37,"column":97}},"26":{"start":{"line":38,"column":12},"end":{"line":38,"column":57}},"27":{"start":{"line":38,"column":38},"end":{"line":38,"column":57}},"28":{"start":{"line":41,"column":12},"end":{"line":41,"column":25}},"29":{"start":{"line":45,"column":8},"end":{"line":45,"column":34}},"30":{"start":{"line":46,"column":8},"end":{"line":70,"column":9}},"31":{"start":{"line":49,"column":17},"end":{"line":49,"column":56}},"32":{"start":{"line":55,"column":16},"end":{"line":55,"column":33}},"33":{"start":{"line":56,"column":17},"end":{"line":58,"column":18}},"34":{"start":{"line":57,"column":20},"end":{"line":57,"column":152}},"35":{"start":{"line":59,"column":16},"end":{"line":67,"column":19}},"36":{"start":{"line":61,"column":20},"end":{"line":64,"column":23}},"37":{"start":{"line":62,"column":24},"end":{"line":62,"column":56}},"38":{"start":{"line":63,"column":24},"end":{"line":63,"column":34}},"39":{"start":{"line":66,"column":20},"end":{"line":66,"column":63}},"40":{"start":{"line":71,"column":8},"end":{"line":97,"column":9}},"41":{"start":{"line":72,"column":12},"end":{"line":72,"column":46}},"42":{"start":{"line":74,"column":12},"end":{"line":75,"column":23}},"43":{"start":{"line":75,"column":16},"end":{"line":75,"column":23}},"44":{"start":{"line":76,"column":12},"end":{"line":76,"column":67}},"45":{"start":{"line":77,"column":12},"end":{"line":77,"column":37}},"46":{"start":{"line":78,"column":12},"end":{"line":78,"column":31}},"47":{"start":{"line":79,"column":12},"end":{"line":83,"column":14}},"48":{"start":{"line":80,"column":16},"end":{"line":80,"column":66}},"49":{"start":{"line":81,"column":16},"end":{"line":82,"column":67}},"50":{"start":{"line":81,"column":46},"end":{"line":81,"column":68}},"51":{"start":{"line":82,"column":21},"end":{"line":82,"column":67}},"52":{"start":{"line":84,"column":12},"end":{"line":96,"column":13}},"53":{"start":{"line":86,"column":16},"end":{"line":92,"column":19}},"54":{"start":{"line":87,"column":20},"end":{"line":90,"column":23}},"55":{"start":{"line":88,"column":24},"end":{"line":88,"column":56}},"56":{"start":{"line":89,"column":24},"end":{"line":89,"column":50}},"57":{"start":{"line":91,"column":20},"end":{"line":91,"column":46}},"58":{"start":{"line":95,"column":16},"end":{"line":95,"column":42}},"59":{"start":{"line":100,"column":8},"end":{"line":132,"column":10}},"60":{"start":{"line":101,"column":12},"end":{"line":101,"column":71}},"61":{"start":{"line":101,"column":64},"end":{"line":101,"column":71}},"62":{"start":{"line":103,"column":12},"end":{"line":103,"column":25}},"63":{"start":{"line":104,"column":12},"end":{"line":104,"column":53}},"64":{"start":{"line":105,"column":12},"end":{"line":112,"column":13}},"65":{"start":{"line":106,"column":16},"end":{"line":106,"column":32}},"66":{"start":{"line":107,"column":16},"end":{"line":107,"column":35}},"67":{"start":{"line":107,"column":28},"end":{"line":107,"column":35}},"68":{"start":{"line":108,"column":16},"end":{"line":108,"column":32}},"69":{"start":{"line":109,"column":16},"end":{"line":109,"column":53}},"70":{"start":{"line":110,"column":16},"end":{"line":111,"column":27}},"71":{"start":{"line":111,"column":20},"end":{"line":111,"column":27}},"72":{"start":{"line":114,"column":12},"end":{"line":117,"column":15}},"73":{"start":{"line":115,"column":16},"end":{"line":115,"column":126}},"74":{"start":{"line":116,"column":16},"end":{"line":116,"column":72}}},"branchMap":{"1":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":8}},{"start":{"line":19,"column":8},"end":{"line":19,"column":8}}]},"2":{"line":25,"type":"if","locations":[{"start":{"line":25,"column":8},"end":{"line":25,"column":8}},{"start":{"line":25,"column":8},"end":{"line":25,"column":8}}]},"3":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":11},"end":{"line":25,"column":24}},{"start":{"line":25,"column":28},"end":{"line":25,"column":40}}]},"4":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":26},"end":{"line":31,"column":49}},{"start":{"line":31,"column":53},"end":{"line":31,"column":58}}]},"5":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":12},"end":{"line":33,"column":12}},{"start":{"line":33,"column":12},"end":{"line":33,"column":12}}]},"6":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":15},"end":{"line":33,"column":21}},{"start":{"line":33,"column":25},"end":{"line":33,"column":46}}]},"7":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":12},"end":{"line":35,"column":12}},{"start":{"line":35,"column":12},"end":{"line":35,"column":12}}]},"8":{"line":36,"type":"if","locations":[{"start":{"line":36,"column":12},"end":{"line":36,"column":12}},{"start":{"line":36,"column":12},"end":{"line":36,"column":12}}]},"9":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":12},"end":{"line":37,"column":12}},{"start":{"line":37,"column":12},"end":{"line":37,"column":12}}]},"10":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":12},"end":{"line":38,"column":12}},{"start":{"line":38,"column":12},"end":{"line":38,"column":12}}]},"11":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":15},"end":{"line":38,"column":21}},{"start":{"line":38,"column":25},"end":{"line":38,"column":36}}]},"12":{"line":49,"type":"cond-expr","locations":[{"start":{"line":49,"column":43},"end":{"line":49,"column":50}},{"start":{"line":49,"column":52},"end":{"line":49,"column":55}}]},"13":{"line":49,"type":"binary-expr","locations":[{"start":{"line":49,"column":25},"end":{"line":49,"column":28}},{"start":{"line":49,"column":32},"end":{"line":49,"column":39}}]},"14":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":17},"end":{"line":56,"column":17}},{"start":{"line":56,"column":17},"end":{"line":56,"column":17}}]},"15":{"line":72,"type":"cond-expr","locations":[{"start":{"line":72,"column":33},"end":{"line":72,"column":41}},{"start":{"line":72,"column":44},"end":{"line":72,"column":46}}]},"16":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":12},"end":{"line":74,"column":12}},{"start":{"line":74,"column":12},"end":{"line":74,"column":12}}]},"17":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":15},"end":{"line":74,"column":22}},{"start":{"line":74,"column":27},"end":{"line":74,"column":49}},{"start":{"line":74,"column":53},"end":{"line":74,"column":71}}]},"18":{"line":76,"type":"cond-expr","locations":[{"start":{"line":76,"column":50},"end":{"line":76,"column":56}},{"start":{"line":76,"column":58},"end":{"line":76,"column":66}}]},"19":{"line":80,"type":"cond-expr","locations":[{"start":{"line":80,"column":53},"end":{"line":80,"column":56}},{"start":{"line":80,"column":58},"end":{"line":80,"column":65}}]},"20":{"line":81,"type":"if","locations":[{"start":{"line":81,"column":16},"end":{"line":81,"column":16}},{"start":{"line":81,"column":16},"end":{"line":81,"column":16}}]},"21":{"line":84,"type":"if","locations":[{"start":{"line":84,"column":12},"end":{"line":84,"column":12}},{"start":{"line":84,"column":12},"end":{"line":84,"column":12}}]},"22":{"line":87,"type":"binary-expr","locations":[{"start":{"line":87,"column":20},"end":{"line":87,"column":27}},{"start":{"line":87,"column":31},"end":{"line":90,"column":22}}]},"23":{"line":101,"type":"if","locations":[{"start":{"line":101,"column":12},"end":{"line":101,"column":12}},{"start":{"line":101,"column":12},"end":{"line":101,"column":12}}]},"24":{"line":101,"type":"binary-expr","locations":[{"start":{"line":101,"column":15},"end":{"line":101,"column":20}},{"start":{"line":101,"column":26},"end":{"line":101,"column":46}},{"start":{"line":101,"column":50},"end":{"line":101,"column":60}}]},"25":{"line":104,"type":"cond-expr","locations":[{"start":{"line":104,"column":40},"end":{"line":104,"column":44}},{"start":{"line":104,"column":46},"end":{"line":104,"column":52}}]},"26":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":16},"end":{"line":107,"column":16}},{"start":{"line":107,"column":16},"end":{"line":107,"column":16}}]},"27":{"line":109,"type":"binary-expr","locations":[{"start":{"line":109,"column":22},"end":{"line":109,"column":46}},{"start":{"line":109,"column":50},"end":{"line":109,"column":52}}]},"28":{"line":110,"type":"if","locations":[{"start":{"line":110,"column":16},"end":{"line":110,"column":16}},{"start":{"line":110,"column":16},"end":{"line":110,"column":16}}]},"29":{"line":110,"type":"binary-expr","locations":[{"start":{"line":110,"column":19},"end":{"line":110,"column":26}},{"start":{"line":110,"column":31},"end":{"line":110,"column":38}}]},"30":{"line":115,"type":"cond-expr","locations":[{"start":{"line":115,"column":89},"end":{"line":115,"column":107}},{"start":{"line":115,"column":110},"end":{"line":115,"column":125}}]},"31":{"line":115,"type":"binary-expr","locations":[{"start":{"line":115,"column":26},"end":{"line":115,"column":56}},{"start":{"line":115,"column":60},"end":{"line":115,"column":87}}]}},"code":["/**"," * Deform field directives"," *  "," * "," * Usage:"," * "," * "," */","(function(){","    "," ","angular.module('angoose.ui.controllers').controller(\"dfc-selector\", function($scope, $injector, $schema, $ui, inputElement, templateElement, $timeout){","        enterscope($scope, \"selector ctrl: \"+ $scope.path);","        window.s2em = inputElement;","        window.selscope = $scope;","        var scope = $scope;","        var pathSchema = $schema;  ","        //console.log(\"selector pat schema is \", $schema)","        if(!pathSchema) return;","        ","        var refModelName = $ui.camelcase(  $ui.getReference(pathSchema) ); ","        var isRefArray = Array.isArray(pathSchema.options.type);","        //var isRef = ","        console.log(\"Is ref:\", refModelName, isRefArray );","        if(!refModelName && ! isRefArray) return ;","        ","        var refModel = $injector.get(refModelName);","","        function format(objId){","            ","            var object =  optionCandidates[objId] || objId;","            //console.log(\"formating result\", object)","            if(object && object.getDisplayName) return object.getDisplayName();","            ","            if($ui.getter(object, 'meta.name.first')) return object.meta.name.first +\" \"+ object.meta.name.last;","            if($ui.getter(object, 'meta.name')) return object.meta.name;","            if($ui.getter(object, 'name.first')) return object.name.first +\" \"+ object.name.last;","            if(object && object.name) return object.name;","            //if(object && object.type) return object.type + object._id","            ","            return objId;","        }","        ///scope.select2name = scope.path.replace(/\\./g, '_') +\"Select2Options\"","        // we keep the select2 query result in this variable for formatting lookup. We can't use object directly as value for the model. '","        var optionCandidates = {}; //@ todo: cache invalidation      ","        scope.select2options = {","            placeholder: 'Please Select '+  refModelName,","            id: function(obj){","                 return (obj && obj._id) ? obj._id: obj;","            },","            formatResult: format,","            formatSelection:format,","            multiple: isRefArray,","            query: function(query){","                var filter = {} ;// query.term?{'meta.name': { $regex:query.term, $options:'i'} }:{};","                 if(query.term){","                    filter[\"$or\"]= [{'meta.name':  { $regex:query.term, $options:'i'} }, {'meta.name.sortable':  { $regex:query.term, $options:'i'} } ];","                 }","                refModel.find(filter, {'meta.name':1, name:1,type:1}, function(err, results){  //@todo: generic name fields","                    ","                    var data = _.map(results, function(off){","                        optionCandidates[off._id] = off;","                        return off ","                    });","                    //console.log(\"Query result\", data.length) ","                    query.callback({results:data, more:false});","                });                       ","            },","            initSelection:  initSelection","        }","        function initSelection(em, callback){","            var values = em.val? em.val() : em","            //console.log(\"#### initSelection\", values)","            if(!values || (Array.isArray(values ) && values.length == 0))","                return;","            var values = Array.isArray(values)  ? values: [values];","            var selectedObjects = [];","            var lookupIDs = [];","            values.forEach(function(obj){","                var objId = typeof(obj) == 'string'? obj: obj._id;","                if(!optionCandidates[objId])  lookupIDs.push(objId);","                else selectedObjects.push(optionCandidates[objId]);","            })","            if(lookupIDs.length>0){","                //console.log(\"lookup ids\", lookupIDs)","                refModel.find({_id: {'$in': lookupIDs} }, {'meta.name':1, name:1, type:1}, function(err, results){  //@todo: generic name fields ","                    results && results.forEach(function(res){","                        optionCandidates[res._id] = res;","                        selectedObjects.push(res);","                    });","                    callback(selectedObjects);","                });    ","            }","            else{","                callback(selectedObjects);","            }","        }  ","        // the ngModel is not initialized at this point, so we need to wait a bit after ngModel is rendered","        ","        scope.$watch(inputElement.attr('ng-model'), function(curr, old){","            if(!curr || ( !Array.isArray(curr) && ! curr._id) ) return;","            ","            var ids = [];","            curr = Array.isArray(curr)? curr: [curr];","            for(var i=0;i<curr.length;i++){","                var it = curr[i]","                if(!it._id) return;","                ids.push(it._id)","                it =  optionCandidates[it._id] || it;","                if(it.meta  || it.name ) // already populated","                    return;","            }","            ","            initSelection(ids, function(selectedObjects){","                var obj = Array.isArray(selectedObjects) && selectedObjects.length == 1? selectedObjects[0] : selectedObjects;","                inputElement.controller(\"ngModel\").$setViewValue( obj );","            });","            /**","            console.log(\"Ref model value\", curr)","            if(curr   && curr._id && ! optionCandidates[curr._id]){","              //@todo generic field  ","                refModel.findById(curr._id, {'meta.name':1, name:1}, function(err, obj){","                    if(err){","                        console.error(\"Error loading ref field value\", err);","                        return;","                    }","                    console.log(\"inital obj\", obj);","                    inputElement.controller(\"ngModel\").$setViewValue(obj);","                    optionCandidates[obj._id] = obj;","                })","            }*/","        })","        ","});"," "," ","","","})();  // end enclosure"],"l":{"9":2,"12":2,"13":0,"14":0,"15":0,"16":0,"17":0,"19":0,"21":0,"22":0,"24":0,"25":0,"27":0,"29":1,"31":0,"33":0,"35":0,"36":0,"37":0,"38":0,"41":0,"45":0,"46":0,"49":0,"55":0,"56":0,"57":0,"59":0,"61":0,"62":0,"63":0,"66":0,"71":1,"72":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"84":0,"86":0,"87":0,"88":0,"89":0,"91":0,"95":0,"100":0,"101":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"114":0,"115":0,"116":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-array.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-array.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":62},"end":{"line":1,"column":75}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":15},"end":{"line":10,"column":39}}},"3":{"name":"link","line":12,"loc":{"start":{"line":12,"column":17},"end":{"line":12,"column":53}}},"4":{"name":"(anonymous_4)","line":26,"loc":{"start":{"line":26,"column":30},"end":{"line":26,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":35,"column":3}},"2":{"start":{"line":2,"column":2},"end":{"line":33,"column":4}},"3":{"start":{"line":12,"column":10},"end":{"line":31,"column":11}},"4":{"start":{"line":13,"column":14},"end":{"line":13,"column":58}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":53}},"6":{"start":{"line":15,"column":14},"end":{"line":15,"column":60}},"7":{"start":{"line":16,"column":14},"end":{"line":19,"column":15}},"8":{"start":{"line":17,"column":18},"end":{"line":17,"column":57}},"9":{"start":{"line":18,"column":18},"end":{"line":18,"column":25}},"10":{"start":{"line":20,"column":14},"end":{"line":20,"column":74}},"11":{"start":{"line":21,"column":14},"end":{"line":22,"column":96}},"12":{"start":{"line":22,"column":20},"end":{"line":22,"column":96}},"13":{"start":{"line":24,"column":14},"end":{"line":24,"column":65}},"14":{"start":{"line":25,"column":14},"end":{"line":25,"column":58}},"15":{"start":{"line":26,"column":14},"end":{"line":28,"column":15}},"16":{"start":{"line":27,"column":18},"end":{"line":27,"column":41}},"17":{"start":{"line":30,"column":14},"end":{"line":30,"column":85}},"18":{"start":{"line":34,"column":2},"end":{"line":34,"column":19}}},"branchMap":{"1":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":14},"end":{"line":16,"column":14}},{"start":{"line":16,"column":14},"end":{"line":16,"column":14}}]},"2":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":42},"end":{"line":20,"column":67}},{"start":{"line":20,"column":71},"end":{"line":20,"column":73}}]},"3":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":14},"end":{"line":21,"column":14}},{"start":{"line":21,"column":14},"end":{"line":21,"column":14}}]},"4":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":17},"end":{"line":21,"column":41}},{"start":{"line":21,"column":45},"end":{"line":21,"column":77}}]},"5":{"line":24,"type":"binary-expr","locations":[{"start":{"line":24,"column":28},"end":{"line":24,"column":58}},{"start":{"line":24,"column":62},"end":{"line":24,"column":64}}]}},"code":["angular.module('angoose.ui.directives').directive(\"angArray\", function($ui){","  var directive = {","      restrict:'AE',","      scope:{","          instance:'=',","          path:'=',","          modelSchema:'=',","          fieldSchema:'='","      },","      compile: function(element, attrs){","          //element.html(\"sub elements\");","          return function link(scope, element, attrs){","              enterscope(scope, \"array path \"+ scope.path)","              var getter = scope.getter = $ui.getter;","              scope.fieldSchema = $ui.getFieldSchema(scope);","              if(!scope.fieldSchema){","                  console.error(\"No field schema found\");","                  return;","              }","              scope.fieldSchema.options = scope.fieldSchema.options || {};","              if(scope.fieldSchema.caster && scope.fieldSchema.caster.options)   // REFACTOR","                    angular.extend(scope.fieldSchema.options, scope.fieldSchema.caster.options);","              ","              scope.items = scope.instance.get(scope.path) || [];","              scope.instance.set(scope.path, scope.items);","              scope.addItem = function(){","                  scope.items.push( \"\" );","              }","              ","              $ui.resolveAndCompile(scope, element, attrs, null, 'deform.array.tpl');","          }","      }","  };","  return directive;   ","});"],"l":{"1":2,"2":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"20":0,"21":0,"22":0,"24":0,"25":0,"26":0,"27":0,"30":0,"34":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-date-range-picker.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-date-range-picker.js","s":{"1":2,"2":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0},"b":{"1":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":17,"loc":{"start":{"line":17,"column":1},"end":{"line":17,"column":11}}},"2":{"name":"dateRangePickerFactory","line":20,"loc":{"start":{"line":20,"column":4},"end":{"line":20,"column":37}}},"3":{"name":"(anonymous_3)","line":35,"loc":{"start":{"line":35,"column":24},"end":{"line":35,"column":41}}},"4":{"name":"(anonymous_4)","line":43,"loc":{"start":{"line":43,"column":33},"end":{"line":43,"column":48}}},"5":{"name":"(anonymous_5)","line":47,"loc":{"start":{"line":47,"column":31},"end":{"line":47,"column":42}}}},"statementMap":{"1":{"start":{"line":17,"column":0},"end":{"line":56,"column":5}},"2":{"start":{"line":18,"column":4},"end":{"line":18,"column":100}},"3":{"start":{"line":20,"column":4},"end":{"line":55,"column":5}},"4":{"start":{"line":21,"column":8},"end":{"line":54,"column":10}},"5":{"start":{"line":36,"column":20},"end":{"line":36,"column":50}},"6":{"start":{"line":37,"column":20},"end":{"line":37,"column":48}},"7":{"start":{"line":38,"column":16},"end":{"line":42,"column":17}},"8":{"start":{"line":39,"column":20},"end":{"line":41,"column":22}},"9":{"start":{"line":43,"column":16},"end":{"line":46,"column":18}},"10":{"start":{"line":44,"column":20},"end":{"line":44,"column":89}},"11":{"start":{"line":45,"column":20},"end":{"line":45,"column":35}},"12":{"start":{"line":47,"column":16},"end":{"line":52,"column":18}},"13":{"start":{"line":48,"column":20},"end":{"line":51,"column":23}}},"branchMap":{"1":{"line":38,"type":"if","locations":[{"start":{"line":38,"column":16},"end":{"line":38,"column":16}},{"start":{"line":38,"column":16},"end":{"line":38,"column":16}}]}},"code":["","/** beta version"," * example :"," * function Ctrl($scope){"," *  $scope.logDate=function(startDate,endDate){"," *      console.log(startDate,endDate)"," *  }"," * }"," * <div ng-controller=\"Ctrl\">"," *  <ang-date-range-picker  apply=\"logDate(startDate,endDate)\"></ang-date-range-picker>"," * </div>"," *  attribute :"," *      options: (optional)"," *          shortcuts: (Array of integer) which will display a list of button to set startDate to preDays from now"," *  <ang-date-range-picker options=\"{shortcuts:[7,15,30,90,120]}\" apply=\"apply(startDate,endDate)\"></ang-date-range-picker>"," * **/","(function(){","    angular.module('angoose.ui.directives').directive('angDateRangePicker', dateRangePickerFactory);","    // TODO  need to export template to template file","    function dateRangePickerFactory(){","        return {","            restrict: 'EA',","            scope: {","                options: \"=?\",","                data: \"=\",","                applyFn: \"&apply\"","            },","            template:","                \"<button class='btn ' href='#' ng-repeat='shortcut in options.shortcuts' ng-click='preDays(shortcut)'>Last {{shortcut}} Days</button>\" +","                \"<button class='btn ' href='#' ng-click='preDays(10000)'>All</button>\" +","                \"<input ng-model='startDate' ng-class='{error:startDate>endDate}' max='endDate' datepicker-popup  />\" +","                \"-\" +","                \"<input ng-model='endDate' ng-class='{error:startDate>endDate}' min='startDate' datepicker-popup  />\" +","                \"<button class='btn btn-success' href='#' ng-click='apply()' >Apply</button>\",","            controller: function($scope) {","                    $scope.startDate = new Date();","                    $scope.endDate = new Date();","                if (!$scope.options) {//TODO use merge method","                    $scope.options = {","                        shortcuts: [7, 15, 30]","                    };","                }","                $scope.preDays = function(days) {","                    $scope.startDate = new Date(Date.now() - days * 24 * 60 * 60 * 1000);","                    $scope.apply();","                };","                $scope.apply = function() {","                    return $scope.applyFn({","                        startDate: $scope.startDate,","                        endDate: $scope.endDate","                    });","                };","            }","        };","    }","})();"],"l":{"17":2,"18":2,"20":1,"21":0,"36":0,"37":0,"38":0,"39":0,"43":0,"44":0,"45":0,"47":0,"48":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-edit.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-edit.js","s":{"1":2,"2":2,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":1,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":1,"37":0,"38":0,"39":0,"40":0,"41":1,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":1},"end":{"line":1,"column":11}}},"2":{"name":"viewDirective","line":6,"loc":{"start":{"line":6,"column":0},"end":{"line":6,"column":24}}},"3":{"name":"(anonymous_3)","line":12,"loc":{"start":{"line":12,"column":27},"end":{"line":12,"column":87}}},"4":{"name":"editDirective","line":20,"loc":{"start":{"line":20,"column":0},"end":{"line":20,"column":83}}},"5":{"name":"(anonymous_5)","line":26,"loc":{"start":{"line":26,"column":24},"end":{"line":26,"column":34}}},"6":{"name":"link","line":27,"loc":{"start":{"line":27,"column":15},"end":{"line":27,"column":55}}},"7":{"name":"(anonymous_7)","line":46,"loc":{"start":{"line":46,"column":30},"end":{"line":46,"column":40}}},"8":{"name":"(anonymous_8)","line":50,"loc":{"start":{"line":50,"column":37},"end":{"line":50,"column":58}}},"9":{"name":"(anonymous_9)","line":63,"loc":{"start":{"line":63,"column":27},"end":{"line":63,"column":37}}},"10":{"name":"(anonymous_10)","line":66,"loc":{"start":{"line":66,"column":32},"end":{"line":66,"column":42}}},"11":{"name":"prepareInstance","line":75,"loc":{"start":{"line":75,"column":0},"end":{"line":75,"column":66}}},"12":{"name":"processSchema","line":83,"loc":{"start":{"line":83,"column":8},"end":{"line":83,"column":53}}},"13":{"name":"(anonymous_13)","line":93,"loc":{"start":{"line":93,"column":57},"end":{"line":93,"column":71}}},"14":{"name":"(anonymous_14)","line":114,"loc":{"start":{"line":114,"column":46},"end":{"line":114,"column":69}}},"15":{"name":"(anonymous_15)","line":119,"loc":{"start":{"line":119,"column":15},"end":{"line":119,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":131,"column":5}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":119}},"3":{"start":{"line":3,"column":0},"end":{"line":3,"column":113}},"4":{"start":{"line":6,"column":0},"end":{"line":19,"column":1}},"5":{"start":{"line":7,"column":6},"end":{"line":10,"column":6}},"6":{"start":{"line":12,"column":4},"end":{"line":16,"column":5}},"7":{"start":{"line":13,"column":8},"end":{"line":13,"column":40}},"8":{"start":{"line":14,"column":8},"end":{"line":14,"column":67}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":31}},"10":{"start":{"line":17,"column":4},"end":{"line":17,"column":21}},"11":{"start":{"line":20,"column":0},"end":{"line":74,"column":1}},"12":{"start":{"line":21,"column":5},"end":{"line":24,"column":6}},"13":{"start":{"line":26,"column":4},"end":{"line":72,"column":6}},"14":{"start":{"line":27,"column":8},"end":{"line":71,"column":9}},"15":{"start":{"line":28,"column":12},"end":{"line":28,"column":41}},"16":{"start":{"line":29,"column":12},"end":{"line":29,"column":64}},"17":{"start":{"line":30,"column":12},"end":{"line":30,"column":70}},"18":{"start":{"line":32,"column":12},"end":{"line":32,"column":44}},"19":{"start":{"line":34,"column":12},"end":{"line":34,"column":86}},"20":{"start":{"line":46,"column":12},"end":{"line":62,"column":13}},"21":{"start":{"line":47,"column":16},"end":{"line":47,"column":44}},"22":{"start":{"line":47,"column":37},"end":{"line":47,"column":44}},"23":{"start":{"line":49,"column":16},"end":{"line":49,"column":37}},"24":{"start":{"line":50,"column":16},"end":{"line":61,"column":18}},"25":{"start":{"line":51,"column":20},"end":{"line":51,"column":46}},"26":{"start":{"line":52,"column":20},"end":{"line":60,"column":21}},"27":{"start":{"line":52,"column":28},"end":{"line":52,"column":49}},"28":{"start":{"line":54,"column":24},"end":{"line":54,"column":46}},"29":{"start":{"line":55,"column":24},"end":{"line":55,"column":70}},"30":{"start":{"line":63,"column":12},"end":{"line":65,"column":13}},"31":{"start":{"line":64,"column":16},"end":{"line":64,"column":66}},"32":{"start":{"line":66,"column":12},"end":{"line":69,"column":13}},"33":{"start":{"line":67,"column":16},"end":{"line":67,"column":39}},"34":{"start":{"line":68,"column":16},"end":{"line":68,"column":38}},"35":{"start":{"line":73,"column":4},"end":{"line":73,"column":21}},"36":{"start":{"line":75,"column":0},"end":{"line":129,"column":1}},"37":{"start":{"line":77,"column":8},"end":{"line":77,"column":39}},"38":{"start":{"line":78,"column":8},"end":{"line":78,"column":87}},"39":{"start":{"line":80,"column":8},"end":{"line":80,"column":67}},"40":{"start":{"line":81,"column":8},"end":{"line":81,"column":84}},"41":{"start":{"line":83,"column":8},"end":{"line":110,"column":9}},"42":{"start":{"line":84,"column":12},"end":{"line":88,"column":15}},"43":{"start":{"line":89,"column":12},"end":{"line":89,"column":28}},"44":{"start":{"line":90,"column":12},"end":{"line":90,"column":41}},"45":{"start":{"line":91,"column":12},"end":{"line":91,"column":30}},"46":{"start":{"line":92,"column":12},"end":{"line":92,"column":25}},"47":{"start":{"line":93,"column":12},"end":{"line":107,"column":15}},"48":{"start":{"line":94,"column":16},"end":{"line":94,"column":57}},"49":{"start":{"line":95,"column":16},"end":{"line":95,"column":72}},"50":{"start":{"line":95,"column":65},"end":{"line":95,"column":72}},"51":{"start":{"line":96,"column":16},"end":{"line":96,"column":31}},"52":{"start":{"line":97,"column":16},"end":{"line":98,"column":65}},"53":{"start":{"line":98,"column":20},"end":{"line":98,"column":65}},"54":{"start":{"line":99,"column":16},"end":{"line":99,"column":52}},"55":{"start":{"line":100,"column":16},"end":{"line":100,"column":91}},"56":{"start":{"line":100,"column":58},"end":{"line":100,"column":91}},"57":{"start":{"line":102,"column":16},"end":{"line":102,"column":51}},"58":{"start":{"line":103,"column":16},"end":{"line":103,"column":43}},"59":{"start":{"line":104,"column":16},"end":{"line":104,"column":76}},"60":{"start":{"line":105,"column":16},"end":{"line":105,"column":54}},"61":{"start":{"line":106,"column":16},"end":{"line":106,"column":88}},"62":{"start":{"line":106,"column":68},"end":{"line":106,"column":88}},"63":{"start":{"line":109,"column":12},"end":{"line":109,"column":35}},"64":{"start":{"line":113,"column":8},"end":{"line":128,"column":9}},"65":{"start":{"line":114,"column":12},"end":{"line":122,"column":15}},"66":{"start":{"line":115,"column":16},"end":{"line":115,"column":49}},"67":{"start":{"line":116,"column":16},"end":{"line":116,"column":69}},"68":{"start":{"line":117,"column":16},"end":{"line":117,"column":64}},"69":{"start":{"line":120,"column":16},"end":{"line":120,"column":35}},"70":{"start":{"line":121,"column":16},"end":{"line":121,"column":54}},"71":{"start":{"line":125,"column":12},"end":{"line":125,"column":48}},"72":{"start":{"line":126,"column":12},"end":{"line":126,"column":50}}},"branchMap":{"1":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":16},"end":{"line":47,"column":16}},{"start":{"line":47,"column":16},"end":{"line":47,"column":16}}]},"2":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":20},"end":{"line":52,"column":20}},{"start":{"line":52,"column":20},"end":{"line":52,"column":20}}]},"3":{"line":95,"type":"if","locations":[{"start":{"line":95,"column":16},"end":{"line":95,"column":16}},{"start":{"line":95,"column":16},"end":{"line":95,"column":16}}]},"4":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":16},"end":{"line":97,"column":16}},{"start":{"line":97,"column":16},"end":{"line":97,"column":16}}]},"5":{"line":99,"type":"cond-expr","locations":[{"start":{"line":99,"column":42},"end":{"line":99,"column":44}},{"start":{"line":99,"column":46},"end":{"line":99,"column":51}}]},"6":{"line":100,"type":"if","locations":[{"start":{"line":100,"column":16},"end":{"line":100,"column":16}},{"start":{"line":100,"column":16},"end":{"line":100,"column":16}}]},"7":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":32},"end":{"line":102,"column":45}},{"start":{"line":102,"column":49},"end":{"line":102,"column":51}}]},"8":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":45},"end":{"line":104,"column":71}},{"start":{"line":104,"column":73},"end":{"line":104,"column":75}}]},"9":{"line":106,"type":"if","locations":[{"start":{"line":106,"column":16},"end":{"line":106,"column":16}},{"start":{"line":106,"column":16},"end":{"line":106,"column":16}}]},"10":{"line":106,"type":"binary-expr","locations":[{"start":{"line":106,"column":19},"end":{"line":106,"column":46}},{"start":{"line":106,"column":50},"end":{"line":106,"column":66}}]},"11":{"line":113,"type":"if","locations":[{"start":{"line":113,"column":8},"end":{"line":113,"column":8}},{"start":{"line":113,"column":8},"end":{"line":113,"column":8}}]},"12":{"line":116,"type":"binary-expr","locations":[{"start":{"line":116,"column":29},"end":{"line":116,"column":54}},{"start":{"line":116,"column":58},"end":{"line":116,"column":68}}]}},"code":["(function(){","angular.module('angoose.ui.directives').directive(\"deformView\", viewDirective).directive(\"deformEdit\",  editDirective);","angular.module('angoose.ui.directives').directive(\"angView\", viewDirective).directive(\"angEdit\",  editDirective);","","","function viewDirective(){","      var directive = {","        restrict:'AE',","        scope:true","    };","    ","    directive.controller = function($scope, $element, $attrs, $routeParams, $injector ){","        enterscope($scope,\"DeformView\");","        prepareInstance($scope, $injector, $routeParams,   $attrs);","        $scope.readonly = true;","    }","    return directive;","    ","}","function editDirective( $location, $routeParams, $injector, $ui, $alert , $compile){","     var directive = {","        restrict:'AE',","        scope:true","    };","    ","    directive.compile = function(){","        return function link($scope, $element, $attrs ){","            enterscope($scope,\"AngEdit\");","            $scope.isNew = $location.path().indexOf(\"create\")>0; ","            prepareInstance($scope, $injector, $routeParams,  $attrs);","            // render template if needed","            var $form = $scope.defineForm();","            ","            $ui.resolveAndCompile($scope, $element, $attrs, $form, 'deform.edit.tpl');","            // $ui.resolveTemplate($element, $attrs, $form, 'deform.edit.tpl').then(function(em){","                // if(em){","                    // console.log(\"Resolved template, compiling(default: edit.tpl')\")","                    // $element.html(\"<!-- CLEARED -->\"); // first clear the inline template","                    // $element.append(em);","                    // $compile(em)($scope);","                // }","            // }, function(err){","                // console.error(\"Error resolving template(edit.tpl)\", err);","            // });","            ","            $scope.saveForm = function(){","                if(!$scope.instance) return;","                // depopulate","                $scope.$emit(\"save\");","                $scope.instance.save(function(err, result){","                    $scope.$emit(\"afterSave\");","                    if(err) $alert.error(err+\"\");","                    else{","                        window.history.back();","                        $alert.success(\"Successfully saved data\", 10);","                        // MessageBox.success(\"Successfully saved data.\", function(){","                          // //$location.path(\"/deform/\" + $scope..modelName+\"/list\");  ","                          // window.history.back();","                        // });","                    } ","                })","            }","            $scope.reset = function(){","                $scope.instance = modelClass.$get({_id: modelId});","            }","            $scope.cancelEdit = function(){","                $scope.$emit(\"cancel\");","                window.history.back();","            }","            ","        }","    };","    return directive;","}","function prepareInstance($scope, $injector, $routeParams,  $attrs){","        //console.log(\"prepare scope\", $scope.$id, \" parent id\", $scope.$parent.$id)","        var $ui = $injector.get(\"$ui\");","        var modelName = $ui.resolveAttribute('modelName', $scope, $routeParams, $attrs)","        ","        var modelClass = $injector.get( $ui.camelcase( modelName));","        var modelId = $ui.resolveAttribute('modelId', $scope, $routeParams, $attrs);","        ","        function processSchema(modelName, modelClass){","            var formSpec = $scope.defineForm( {","                modelName: modelName,","                modelClass: modelClass,","                modelSchema: modelClass.schema","            });","            var groups = {};","            groups.sorted_groups  = [\"\"]; // work around angular's collectionKeys.sort ","            var refPaths = [];","            var indx = 0;","            Object.keys(modelClass.schema.paths).forEach(function(path){","                var data = modelClass.schema.paths[path];","                if($ui.filterPath(path,data, modelClass.schema)) return;","                var group = \"\";","                if(path.indexOf(\".\")>=0)","                    group = path.substring(0, path.indexOf(\".\"));","                group = group == 'meta' ? \"\": group; // meta is considered default group","                if(groups.sorted_groups.indexOf(group)<0) groups.sorted_groups.push(group);","                ","                groups[group] = groups[group] || {}","                groups[group][path] = data;","                groups[group].sorted_paths = groups[group].sorted_paths||[];","                groups[group].sorted_paths.push(path);  ","                if(data.instance == 'ObjectID' && data.options.ref) refPaths.push(path);    ","            });","            ","            $scope.groups = groups;","        }","        ","        ","        if(!$scope.isNew){","            modelClass.findById(modelId).done(function(modelInstance){","                $scope.instance =  modelInstance;","                modelClass = modelInstance.constructor || modelClass;","                processSchema(modelClass.modelName, modelClass);","  ","            }, function(err){","                console.error(err);","                $injector.get('$alert').error(err+\"\");","            });    ","        }","        else {","            $scope.instance =  new modelClass();","            processSchema( modelName, modelClass);","            ","        }","}   ","","})(); // scope wrapper"],"l":{"1":2,"2":2,"3":0,"6":1,"7":0,"12":0,"13":0,"14":0,"15":0,"17":0,"20":1,"21":0,"26":0,"27":0,"28":0,"29":0,"30":0,"32":0,"34":0,"46":0,"47":0,"49":0,"50":0,"51":0,"52":0,"54":0,"55":0,"63":0,"64":0,"66":0,"67":0,"68":0,"73":0,"75":1,"77":0,"78":0,"80":0,"81":0,"83":1,"84":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"102":0,"103":0,"104":0,"105":0,"106":0,"109":0,"113":0,"114":0,"115":0,"116":0,"117":0,"120":0,"121":0,"125":0,"126":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-field.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-field.js","s":{"1":2,"2":2,"3":1,"4":1,"5":0,"6":1,"7":0,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":1,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":1,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":1,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":1,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":1,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":1,"139":0},"b":{"1":[0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0,0],"15":[0,0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0,0],"34":[0,0],"35":[0,0],"36":[0,0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0],"41":[0,0,0,0,0,0],"42":[0,0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0],"47":[0,0],"48":[0,0],"49":[0,0],"50":[0,0,0,0],"51":[0,0],"52":[0,0],"53":[0,0],"54":[0,0],"55":[0,0],"56":[0,0,0,0],"57":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":1},"end":{"line":1,"column":11}}},"2":{"name":"angField","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":96}}},"3":{"name":"findInputElement","line":9,"loc":{"start":{"line":9,"column":2},"end":{"line":9,"column":45}}},"4":{"name":"findLabelElement","line":13,"loc":{"start":{"line":13,"column":2},"end":{"line":13,"column":45}}},"5":{"name":"getValidationMessageMap","line":19,"loc":{"start":{"line":19,"column":2},"end":{"line":19,"column":52}}},"6":{"name":"(anonymous_6)","line":22,"loc":{"start":{"line":22,"column":55},"end":{"line":22,"column":73}}},"7":{"name":"getLabelContent","line":37,"loc":{"start":{"line":37,"column":2},"end":{"line":37,"column":36}}},"8":{"name":"getTemplateContent","line":42,"loc":{"start":{"line":42,"column":2},"end":{"line":42,"column":38}}},"9":{"name":"(anonymous_9)","line":64,"loc":{"start":{"line":64,"column":13},"end":{"line":64,"column":38}}},"10":{"name":"postLink","line":79,"loc":{"start":{"line":79,"column":13},"end":{"line":79,"column":73}}},"11":{"name":"handleDirective","line":115,"loc":{"start":{"line":115,"column":8},"end":{"line":115,"column":55}}},"12":{"name":"(anonymous_12)","line":135,"loc":{"start":{"line":135,"column":50},"end":{"line":135,"column":76}}},"13":{"name":"(anonymous_13)","line":144,"loc":{"start":{"line":144,"column":66},"end":{"line":144,"column":86}}},"14":{"name":"(anonymous_14)","line":147,"loc":{"start":{"line":147,"column":43},"end":{"line":147,"column":66}}},"15":{"name":"(anonymous_15)","line":158,"loc":{"start":{"line":158,"column":43},"end":{"line":158,"column":75}}},"16":{"name":"mapDirective","line":213,"loc":{"start":{"line":213,"column":0},"end":{"line":213,"column":63}}},"17":{"name":"mapTemplate","line":245,"loc":{"start":{"line":245,"column":0},"end":{"line":245,"column":51}}},"18":{"name":"getRef","line":281,"loc":{"start":{"line":281,"column":0},"end":{"line":281,"column":27}}},"19":{"name":"camelcase","line":303,"loc":{"start":{"line":303,"column":0},"end":{"line":303,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":306,"column":5}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":107}},"3":{"start":{"line":4,"column":0},"end":{"line":205,"column":1}},"4":{"start":{"line":9,"column":2},"end":{"line":11,"column":3}},"5":{"start":{"line":10,"column":4},"end":{"line":10,"column":137}},"6":{"start":{"line":13,"column":2},"end":{"line":15,"column":3}},"7":{"start":{"line":14,"column":4},"end":{"line":14,"column":41}},"8":{"start":{"line":19,"column":2},"end":{"line":33,"column":3}},"9":{"start":{"line":21,"column":4},"end":{"line":21,"column":32}},"10":{"start":{"line":22,"column":4},"end":{"line":31,"column":7}},"11":{"start":{"line":24,"column":6},"end":{"line":24,"column":41}},"12":{"start":{"line":30,"column":6},"end":{"line":30,"column":77}},"13":{"start":{"line":32,"column":4},"end":{"line":32,"column":30}},"14":{"start":{"line":37,"column":2},"end":{"line":40,"column":3}},"15":{"start":{"line":38,"column":4},"end":{"line":38,"column":38}},"16":{"start":{"line":39,"column":4},"end":{"line":39,"column":36}},"17":{"start":{"line":42,"column":2},"end":{"line":48,"column":3}},"18":{"start":{"line":43,"column":6},"end":{"line":43,"column":40}},"19":{"start":{"line":44,"column":6},"end":{"line":44,"column":26}},"20":{"start":{"line":44,"column":14},"end":{"line":44,"column":26}},"21":{"start":{"line":45,"column":6},"end":{"line":46,"column":34}},"22":{"start":{"line":46,"column":8},"end":{"line":46,"column":34}},"23":{"start":{"line":47,"column":6},"end":{"line":47,"column":47}},"24":{"start":{"line":51,"column":2},"end":{"line":204,"column":4}},"25":{"start":{"line":65,"column":6},"end":{"line":67,"column":7}},"26":{"start":{"line":66,"column":8},"end":{"line":66,"column":135}},"27":{"start":{"line":68,"column":6},"end":{"line":70,"column":7}},"28":{"start":{"line":73,"column":6},"end":{"line":73,"column":64}},"29":{"start":{"line":74,"column":6},"end":{"line":74,"column":50}},"30":{"start":{"line":77,"column":6},"end":{"line":77,"column":23}},"31":{"start":{"line":79,"column":6},"end":{"line":202,"column":8}},"32":{"start":{"line":81,"column":8},"end":{"line":81,"column":30}},"33":{"start":{"line":82,"column":8},"end":{"line":82,"column":62}},"34":{"start":{"line":82,"column":55},"end":{"line":82,"column":62}},"35":{"start":{"line":84,"column":8},"end":{"line":84,"column":54}},"36":{"start":{"line":86,"column":8},"end":{"line":86,"column":46}},"37":{"start":{"line":87,"column":8},"end":{"line":87,"column":48}},"38":{"start":{"line":88,"column":8},"end":{"line":88,"column":46}},"39":{"start":{"line":90,"column":8},"end":{"line":90,"column":70}},"40":{"start":{"line":93,"column":8},"end":{"line":93,"column":81}},"41":{"start":{"line":96,"column":8},"end":{"line":96,"column":95}},"42":{"start":{"line":97,"column":8},"end":{"line":99,"column":9}},"43":{"start":{"line":98,"column":12},"end":{"line":98,"column":72}},"44":{"start":{"line":100,"column":8},"end":{"line":100,"column":46}},"45":{"start":{"line":102,"column":8},"end":{"line":102,"column":105}},"46":{"start":{"line":104,"column":8},"end":{"line":104,"column":86}},"47":{"start":{"line":105,"column":8},"end":{"line":105,"column":75}},"48":{"start":{"line":107,"column":8},"end":{"line":107,"column":105}},"49":{"start":{"line":109,"column":8},"end":{"line":109,"column":38}},"50":{"start":{"line":113,"column":8},"end":{"line":113,"column":124}},"51":{"start":{"line":115,"column":8},"end":{"line":125,"column":9}},"52":{"start":{"line":116,"column":12},"end":{"line":116,"column":146}},"53":{"start":{"line":117,"column":12},"end":{"line":117,"column":61}},"54":{"start":{"line":118,"column":12},"end":{"line":118,"column":57}},"55":{"start":{"line":119,"column":12},"end":{"line":119,"column":62}},"56":{"start":{"line":120,"column":12},"end":{"line":120,"column":58}},"57":{"start":{"line":122,"column":12},"end":{"line":122,"column":46}},"58":{"start":{"line":123,"column":12},"end":{"line":123,"column":45}},"59":{"start":{"line":124,"column":12},"end":{"line":124,"column":51}},"60":{"start":{"line":127,"column":8},"end":{"line":127,"column":129}},"61":{"start":{"line":128,"column":8},"end":{"line":201,"column":11}},"62":{"start":{"line":129,"column":12},"end":{"line":129,"column":52}},"63":{"start":{"line":135,"column":12},"end":{"line":200,"column":15}},"64":{"start":{"line":139,"column":14},"end":{"line":139,"column":80}},"65":{"start":{"line":141,"column":14},"end":{"line":141,"column":52}},"66":{"start":{"line":144,"column":14},"end":{"line":152,"column":23}},"67":{"start":{"line":146,"column":16},"end":{"line":146,"column":45}},"68":{"start":{"line":147,"column":16},"end":{"line":151,"column":19}},"69":{"start":{"line":148,"column":18},"end":{"line":150,"column":19}},"70":{"start":{"line":149,"column":20},"end":{"line":149,"column":54}},"71":{"start":{"line":157,"column":14},"end":{"line":157,"column":67}},"72":{"start":{"line":158,"column":14},"end":{"line":161,"column":17}},"73":{"start":{"line":159,"column":16},"end":{"line":159,"column":51}},"74":{"start":{"line":160,"column":16},"end":{"line":160,"column":51}},"75":{"start":{"line":162,"column":14},"end":{"line":162,"column":120}},"76":{"start":{"line":163,"column":14},"end":{"line":163,"column":56}},"77":{"start":{"line":169,"column":14},"end":{"line":169,"column":61}},"78":{"start":{"line":170,"column":14},"end":{"line":170,"column":59}},"79":{"start":{"line":171,"column":14},"end":{"line":171,"column":107}},"80":{"start":{"line":171,"column":69},"end":{"line":171,"column":107}},"81":{"start":{"line":172,"column":14},"end":{"line":172,"column":79}},"82":{"start":{"line":173,"column":14},"end":{"line":173,"column":63}},"83":{"start":{"line":174,"column":14},"end":{"line":174,"column":60}},"84":{"start":{"line":176,"column":14},"end":{"line":176,"column":46}},"85":{"start":{"line":180,"column":14},"end":{"line":180,"column":46}},"86":{"start":{"line":184,"column":16},"end":{"line":184,"column":74}},"87":{"start":{"line":186,"column":16},"end":{"line":193,"column":17}},"88":{"start":{"line":187,"column":20},"end":{"line":187,"column":149}},"89":{"start":{"line":188,"column":20},"end":{"line":188,"column":87}},"90":{"start":{"line":191,"column":20},"end":{"line":192,"column":74}},"91":{"start":{"line":192,"column":24},"end":{"line":192,"column":74}},"92":{"start":{"line":196,"column":16},"end":{"line":196,"column":54}},"93":{"start":{"line":199,"column":16},"end":{"line":199,"column":71}},"94":{"start":{"line":213,"column":0},"end":{"line":229,"column":1}},"95":{"start":{"line":214,"column":4},"end":{"line":214,"column":45}},"96":{"start":{"line":214,"column":33},"end":{"line":214,"column":45}},"97":{"start":{"line":215,"column":4},"end":{"line":227,"column":33}},"98":{"start":{"line":216,"column":8},"end":{"line":217,"column":35}},"99":{"start":{"line":217,"column":12},"end":{"line":217,"column":35}},"100":{"start":{"line":219,"column":8},"end":{"line":223,"column":9}},"101":{"start":{"line":222,"column":11},"end":{"line":222,"column":29}},"102":{"start":{"line":226,"column":10},"end":{"line":227,"column":33}},"103":{"start":{"line":227,"column":8},"end":{"line":227,"column":33}},"104":{"start":{"line":228,"column":4},"end":{"line":228,"column":16}},"105":{"start":{"line":245,"column":0},"end":{"line":279,"column":1}},"106":{"start":{"line":246,"column":4},"end":{"line":246,"column":71}},"107":{"start":{"line":246,"column":36},"end":{"line":246,"column":71}},"108":{"start":{"line":247,"column":4},"end":{"line":247,"column":54}},"109":{"start":{"line":247,"column":37},"end":{"line":247,"column":54}},"110":{"start":{"line":248,"column":4},"end":{"line":248,"column":27}},"111":{"start":{"line":249,"column":4},"end":{"line":249,"column":40}},"112":{"start":{"line":252,"column":4},"end":{"line":264,"column":5}},"113":{"start":{"line":254,"column":12},"end":{"line":254,"column":50}},"114":{"start":{"line":254,"column":28},"end":{"line":254,"column":50}},"115":{"start":{"line":255,"column":12},"end":{"line":255,"column":18}},"116":{"start":{"line":257,"column":12},"end":{"line":257,"column":34}},"117":{"start":{"line":258,"column":12},"end":{"line":258,"column":18}},"118":{"start":{"line":263,"column":12},"end":{"line":263,"column":18}},"119":{"start":{"line":265,"column":4},"end":{"line":266,"column":30}},"120":{"start":{"line":266,"column":8},"end":{"line":266,"column":30}},"121":{"start":{"line":267,"column":4},"end":{"line":269,"column":5}},"122":{"start":{"line":268,"column":8},"end":{"line":268,"column":28}},"123":{"start":{"line":270,"column":4},"end":{"line":275,"column":5}},"124":{"start":{"line":271,"column":8},"end":{"line":274,"column":9}},"125":{"start":{"line":277,"column":4},"end":{"line":277,"column":87}},"126":{"start":{"line":278,"column":4},"end":{"line":278,"column":20}},"127":{"start":{"line":281,"column":0},"end":{"line":302,"column":1}},"128":{"start":{"line":282,"column":4},"end":{"line":282,"column":34}},"129":{"start":{"line":285,"column":4},"end":{"line":286,"column":32}},"130":{"start":{"line":286,"column":8},"end":{"line":286,"column":32}},"131":{"start":{"line":288,"column":4},"end":{"line":288,"column":70}},"132":{"start":{"line":288,"column":54},"end":{"line":288,"column":70}},"133":{"start":{"line":291,"column":4},"end":{"line":294,"column":5}},"134":{"start":{"line":293,"column":7},"end":{"line":293,"column":37}},"135":{"start":{"line":296,"column":4},"end":{"line":299,"column":5}},"136":{"start":{"line":298,"column":8},"end":{"line":298,"column":45}},"137":{"start":{"line":301,"column":4},"end":{"line":301,"column":16}},"138":{"start":{"line":303,"column":0},"end":{"line":305,"column":1}},"139":{"start":{"line":304,"column":4},"end":{"line":304,"column":73}}},"branchMap":{"1":{"line":10,"type":"binary-expr","locations":[{"start":{"line":10,"column":27},"end":{"line":10,"column":59}},{"start":{"line":10,"column":63},"end":{"line":10,"column":96}},{"start":{"line":10,"column":100},"end":{"line":10,"column":135}}]},"2":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":11},"end":{"line":39,"column":19}},{"start":{"line":39,"column":23},"end":{"line":39,"column":35}}]},"3":{"line":44,"type":"if","locations":[{"start":{"line":44,"column":6},"end":{"line":44,"column":6}},{"start":{"line":44,"column":6},"end":{"line":44,"column":6}}]},"4":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":6},"end":{"line":45,"column":6}},{"start":{"line":45,"column":6},"end":{"line":45,"column":6}}]},"5":{"line":45,"type":"binary-expr","locations":[{"start":{"line":45,"column":9},"end":{"line":45,"column":25}},{"start":{"line":45,"column":29},"end":{"line":45,"column":45}}]},"6":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":15},"end":{"line":46,"column":20}},{"start":{"line":46,"column":24},"end":{"line":46,"column":33}}]},"7":{"line":47,"type":"binary-expr","locations":[{"start":{"line":47,"column":13},"end":{"line":47,"column":28}},{"start":{"line":47,"column":32},"end":{"line":47,"column":46}}]},"8":{"line":65,"type":"if","locations":[{"start":{"line":65,"column":6},"end":{"line":65,"column":6}},{"start":{"line":65,"column":6},"end":{"line":65,"column":6}}]},"9":{"line":65,"type":"binary-expr","locations":[{"start":{"line":65,"column":11},"end":{"line":65,"column":25}},{"start":{"line":65,"column":29},"end":{"line":65,"column":43}},{"start":{"line":65,"column":47},"end":{"line":65,"column":57}}]},"10":{"line":68,"type":"if","locations":[{"start":{"line":68,"column":6},"end":{"line":68,"column":6}},{"start":{"line":68,"column":6},"end":{"line":68,"column":6}}]},"11":{"line":82,"type":"if","locations":[{"start":{"line":82,"column":8},"end":{"line":82,"column":8}},{"start":{"line":82,"column":8},"end":{"line":82,"column":8}}]},"12":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":11},"end":{"line":82,"column":21}},{"start":{"line":82,"column":25},"end":{"line":82,"column":53}}]},"13":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":25},"end":{"line":90,"column":39}},{"start":{"line":90,"column":43},"end":{"line":90,"column":69}}]},"14":{"line":93,"type":"binary-expr","locations":[{"start":{"line":93,"column":26},"end":{"line":93,"column":43}},{"start":{"line":93,"column":48},"end":{"line":93,"column":58}},{"start":{"line":93,"column":62},"end":{"line":93,"column":79}}]},"15":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":21},"end":{"line":96,"column":38}},{"start":{"line":96,"column":44},"end":{"line":96,"column":54}},{"start":{"line":96,"column":58},"end":{"line":96,"column":93}}]},"16":{"line":97,"type":"if","locations":[{"start":{"line":97,"column":8},"end":{"line":97,"column":8}},{"start":{"line":97,"column":8},"end":{"line":97,"column":8}}]},"17":{"line":100,"type":"binary-expr","locations":[{"start":{"line":100,"column":25},"end":{"line":100,"column":39}},{"start":{"line":100,"column":43},"end":{"line":100,"column":45}}]},"18":{"line":102,"type":"binary-expr","locations":[{"start":{"line":102,"column":24},"end":{"line":102,"column":39}},{"start":{"line":102,"column":43},"end":{"line":102,"column":105}}]},"19":{"line":104,"type":"binary-expr","locations":[{"start":{"line":104,"column":23},"end":{"line":104,"column":37}},{"start":{"line":104,"column":41},"end":{"line":104,"column":85}}]},"20":{"line":107,"type":"cond-expr","locations":[{"start":{"line":107,"column":56},"end":{"line":107,"column":89}},{"start":{"line":107,"column":93},"end":{"line":107,"column":104}}]},"21":{"line":107,"type":"binary-expr","locations":[{"start":{"line":107,"column":56},"end":{"line":107,"column":76}},{"start":{"line":107,"column":79},"end":{"line":107,"column":89}}]},"22":{"line":113,"type":"binary-expr","locations":[{"start":{"line":113,"column":44},"end":{"line":113,"column":59}},{"start":{"line":113,"column":63},"end":{"line":113,"column":65}}]},"23":{"line":128,"type":"if","locations":[{"start":{"line":128,"column":8},"end":{"line":128,"column":8}},{"start":{"line":128,"column":8},"end":{"line":128,"column":8}}]},"24":{"line":148,"type":"if","locations":[{"start":{"line":148,"column":18},"end":{"line":148,"column":18}},{"start":{"line":148,"column":18},"end":{"line":148,"column":18}}]},"25":{"line":162,"type":"cond-expr","locations":[{"start":{"line":162,"column":88},"end":{"line":162,"column":90}},{"start":{"line":162,"column":92},"end":{"line":162,"column":117}}]},"26":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":14},"end":{"line":171,"column":14}},{"start":{"line":171,"column":14},"end":{"line":171,"column":14}}]},"27":{"line":171,"type":"binary-expr","locations":[{"start":{"line":171,"column":17},"end":{"line":171,"column":31}},{"start":{"line":171,"column":35},"end":{"line":171,"column":67}}]},"28":{"line":172,"type":"binary-expr","locations":[{"start":{"line":172,"column":14},"end":{"line":172,"column":37}},{"start":{"line":172,"column":41},"end":{"line":172,"column":78}}]},"29":{"line":184,"type":"binary-expr","locations":[{"start":{"line":184,"column":38},"end":{"line":184,"column":54}},{"start":{"line":184,"column":58},"end":{"line":184,"column":73}}]},"30":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":20},"end":{"line":191,"column":20}},{"start":{"line":191,"column":20},"end":{"line":191,"column":20}}]},"31":{"line":214,"type":"if","locations":[{"start":{"line":214,"column":4},"end":{"line":214,"column":4}},{"start":{"line":214,"column":4},"end":{"line":214,"column":4}}]},"32":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":4},"end":{"line":215,"column":4}},{"start":{"line":215,"column":4},"end":{"line":215,"column":4}}]},"33":{"line":215,"type":"binary-expr","locations":[{"start":{"line":215,"column":7},"end":{"line":215,"column":17}},{"start":{"line":215,"column":21},"end":{"line":215,"column":39}},{"start":{"line":215,"column":43},"end":{"line":215,"column":81}}]},"34":{"line":216,"type":"if","locations":[{"start":{"line":216,"column":8},"end":{"line":216,"column":8}},{"start":{"line":216,"column":8},"end":{"line":216,"column":8}}]},"35":{"line":219,"type":"if","locations":[{"start":{"line":219,"column":8},"end":{"line":219,"column":8}},{"start":{"line":219,"column":8},"end":{"line":219,"column":8}}]},"36":{"line":219,"type":"binary-expr","locations":[{"start":{"line":219,"column":11},"end":{"line":219,"column":28}},{"start":{"line":219,"column":33},"end":{"line":219,"column":60}},{"start":{"line":219,"column":64},"end":{"line":219,"column":94}}]},"37":{"line":226,"type":"if","locations":[{"start":{"line":226,"column":10},"end":{"line":226,"column":10}},{"start":{"line":226,"column":10},"end":{"line":226,"column":10}}]},"38":{"line":246,"type":"if","locations":[{"start":{"line":246,"column":4},"end":{"line":246,"column":4}},{"start":{"line":246,"column":4},"end":{"line":246,"column":4}}]},"39":{"line":247,"type":"if","locations":[{"start":{"line":247,"column":4},"end":{"line":247,"column":4}},{"start":{"line":247,"column":4},"end":{"line":247,"column":4}}]},"40":{"line":249,"type":"binary-expr","locations":[{"start":{"line":249,"column":15},"end":{"line":249,"column":33}},{"start":{"line":249,"column":37},"end":{"line":249,"column":39}}]},"41":{"line":252,"type":"switch","locations":[{"start":{"line":253,"column":8},"end":{"line":255,"column":18}},{"start":{"line":256,"column":8},"end":{"line":258,"column":18}},{"start":{"line":259,"column":8},"end":{"line":259,"column":20}},{"start":{"line":260,"column":8},"end":{"line":260,"column":22}},{"start":{"line":261,"column":8},"end":{"line":261,"column":22}},{"start":{"line":262,"column":8},"end":{"line":263,"column":18}}]},"42":{"line":252,"type":"binary-expr","locations":[{"start":{"line":252,"column":11},"end":{"line":252,"column":30}},{"start":{"line":252,"column":35},"end":{"line":252,"column":53}},{"start":{"line":252,"column":57},"end":{"line":252,"column":80}}]},"43":{"line":254,"type":"if","locations":[{"start":{"line":254,"column":12},"end":{"line":254,"column":12}},{"start":{"line":254,"column":12},"end":{"line":254,"column":12}}]},"44":{"line":265,"type":"if","locations":[{"start":{"line":265,"column":4},"end":{"line":265,"column":4}},{"start":{"line":265,"column":4},"end":{"line":265,"column":4}}]},"45":{"line":267,"type":"if","locations":[{"start":{"line":267,"column":4},"end":{"line":267,"column":4}},{"start":{"line":267,"column":4},"end":{"line":267,"column":4}}]},"46":{"line":267,"type":"binary-expr","locations":[{"start":{"line":267,"column":7},"end":{"line":267,"column":34}},{"start":{"line":267,"column":38},"end":{"line":267,"column":59}}]},"47":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":4},"end":{"line":270,"column":4}},{"start":{"line":270,"column":4},"end":{"line":270,"column":4}}]},"48":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":8},"end":{"line":271,"column":8}},{"start":{"line":271,"column":8},"end":{"line":271,"column":8}}]},"49":{"line":285,"type":"if","locations":[{"start":{"line":285,"column":4},"end":{"line":285,"column":4}},{"start":{"line":285,"column":4},"end":{"line":285,"column":4}}]},"50":{"line":285,"type":"binary-expr","locations":[{"start":{"line":285,"column":8},"end":{"line":285,"column":32}},{"start":{"line":285,"column":36},"end":{"line":285,"column":54}},{"start":{"line":285,"column":60},"end":{"line":285,"column":72}},{"start":{"line":285,"column":76},"end":{"line":285,"column":92}}]},"51":{"line":288,"type":"if","locations":[{"start":{"line":288,"column":4},"end":{"line":288,"column":4}},{"start":{"line":288,"column":4},"end":{"line":288,"column":4}}]},"52":{"line":288,"type":"binary-expr","locations":[{"start":{"line":288,"column":7},"end":{"line":288,"column":40}},{"start":{"line":288,"column":44},"end":{"line":288,"column":52}}]},"53":{"line":291,"type":"if","locations":[{"start":{"line":291,"column":4},"end":{"line":291,"column":4}},{"start":{"line":291,"column":4},"end":{"line":291,"column":4}}]},"54":{"line":291,"type":"binary-expr","locations":[{"start":{"line":291,"column":7},"end":{"line":291,"column":29}},{"start":{"line":291,"column":33},"end":{"line":291,"column":67}}]},"55":{"line":296,"type":"if","locations":[{"start":{"line":296,"column":4},"end":{"line":296,"column":4}},{"start":{"line":296,"column":4},"end":{"line":296,"column":4}}]},"56":{"line":296,"type":"binary-expr","locations":[{"start":{"line":296,"column":7},"end":{"line":296,"column":32}},{"start":{"line":296,"column":36},"end":{"line":296,"column":53}},{"start":{"line":297,"column":12},"end":{"line":297,"column":53}},{"start":{"line":297,"column":57},"end":{"line":297,"column":86}}]},"57":{"line":304,"type":"cond-expr","locations":[{"start":{"line":304,"column":16},"end":{"line":304,"column":67}},{"start":{"line":304,"column":69},"end":{"line":304,"column":72}}]}},"code":["(function(){","angular.module('angoose.ui.directives').directive('deformField', angField).directive('angField', angField);","","function angField($compile, $templateCache, $interpolate, $injector, $controller, $ui, angoose) {","  ","","  // Find the \"input\" element in the template.  It will be one of input, select or textarea.","  // We need to ensure it is wrapped in jqLite\\jQuery","  function findInputElement(templateElement) {","    return angular.element(templateElement.find('input')[0] || templateElement.find('select')[0] || templateElement.find('textarea')[0]);","  }","","  function findLabelElement(templateElement) {","    return templateElement.find('label');","  }","","  // Search through the originalDirective's element for elements that contain information about how to map","  // validation keys to messages","  function getValidationMessageMap(originalElement) {","    // Find all the <validator> child elements and extract their (key, message) info","    var validationMessages = {};","    angular.forEach(originalElement.find('validator'), function(element) {","      // Wrap the element in jqLite/jQuery","      element = angular.element(element);","      // Store the message info to be provided to the scope later","      // The content of the validation element may include interpolation {{}}","      // so we will actually store a function created by the $interpolate service","      // To get the interpolated message we will call this function with the scope. e.g.","      //   var messageString = getMessage(scope);","      validationMessages[element.attr('key')] = $interpolate(element.text());","    });","    return validationMessages;","  }","","  // Find the content that will go into the new label","  // Label is provided as a <label> child element of the original element","  function getLabelContent(element) {","    var label = element.find('label');","    return label[0] && label.html();","  }","  ","  function getTemplateContent(element){","      var em = element.find('template');","      if(!em) return null;","      if(!em.attr('name') && ! em.attr(\"url\"))","        return em[0] && em.html();","      return em.attr('name') || em.attr('url');","  }","","    ","  return {","    restrict:'E',","    scope:{","      instance:'=',","      path:'=',","      modelSchema:'=',","      fieldSchema:'=',","      readonly:'@',","      itemIndex:'=' // for array index","    },","    //require:'?ngModel',","    priority: 100,        // We need this directive to happen before ng-model","    terminal: true,       // We are going to deal with this element","    compile: function(element, attrs) {","      if ( attrs.ngRepeat || attrs.ngSwitch || attrs.uiIf ) {","        throw new Error('The ng-repeat, ng-switch and ui-if directives are not supported on the same element as the field directive.');","      }","      if ( !attrs.ngModel ) {","        //throw new Error('The ng-model directive must appear on the field element');","      }","","      // Extract the label and validation message info from the directive's original element","      var validationMessages = getValidationMessageMap(element);","      var labelContent = getLabelContent(element);","      ","      // Clear the directive's original element now that we have extracted what we need from it","      element.html('');","        ","      return function postLink(scope, element, attrs, ngModelController) {","          ","        window.pscope = scope;","        if(scope.path && scope.path.indexOf(\"_\") == 0) return;","        ","        enterscope(scope, \"deform-field \"+ scope.path)","        ","        var customTemplate  =  attrs.template;","        var customController = attrs.controller;","        var customDirective = attrs.directive;","        ","        var modelClass = scope.instance && scope.instance.constructor;","         ","        //var schema = getSchema( scope.instance).paths[scope.path] ;","        var modelSchema = scope.modelSchema || (modelClass && modelClass.schema);","        //if(!modelSchema) console.error(\"Model schema lost in scope \", scope.$id, \"parent is \", scope.$parent.$id)","        ","        var schema = scope.fieldSchema || ( modelClass && modelClass.schema.paths[scope.path]);","        if(!schema) {","            return console.error(\"Missing schema for path\", scope.path);","        }","        schema.options = schema.options || {};    ","        ","        var directive = customDirective || mapDirective(scope.path, schema, modelSchema, scope.itemIndex)","        ","        var template = customTemplate || mapTemplate(scope.path, schema, modelSchema);","        angoose.logger.trace(\"Field \", scope.path,  \"template\", template );","        ","        var labelContent =  attrs.label == undefined? ( schema.options.label ||scope.path) : attrs.label;","        ","        var childScope = scope.$new();","        // Generate an id for the field from the ng-model expression and the current scope","        // We replace dots with underscores to work with browsers and ngModel lookup on the FormController","        // We couldn't do this in the compile function as we need to be able to calculate the unique id from the scope","        childScope.$fieldId = (scope.path+ (scope.itemIndex || \"\") ).replace('.', '_').toLowerCase() + '_' + childScope.$id;","        ","        function handleDirective(directive, childScope){","            var html = '<directive-name path=\"path\" model-schema=\"model-schema\" field-schema=\"fieldSchema\" instance=\"instance\"></directive-name>';","            html = html.replace('directive-name', directive);","            var directiveElement = angular.element(html);","            var labelElement = directiveElement.find('label');","            labelElement.attr('for', childScope.$fieldId);","            // Update the label's contents","            labelElement.html(labelContent  );","            element.append(directiveElement);","            $compile(directiveElement)(childScope);","        }","        ","        angoose.logger.trace(\"Created child scope for deform-field \", scope.path,  childScope.$id, \"using directive: \",directive)","        if(directive){","            handleDirective( directive, childScope);","        }      ","        else","        {","            ","            // Load up the template for this kind of field, default to the simple input if none given","            $ui.loadFieldTemplate(template ).then(function(templateElement) {","              // Set up the scope - the template will have its own scope, which is a child of the directive's scope","              ","              // Attach a copy of the message map to the scope","              childScope.$validationMessages = angular.copy(validationMessages);","              ","              childScope.$fieldLabel = labelContent;","    ","              // Update the $fieldErrors array when the validity of the field changes","              childScope.$watch('$field.$dirty && $field.$error', function(errorList) {","                  //angoose.logger.debug(\"Got error\", errorList);","                childScope.$fieldErrors = [];","                angular.forEach(errorList, function(invalid, key) {","                  if ( invalid ) {","                    childScope.$fieldErrors.push(key);","                  }","                });","              }, true);","    ","    ","              // Copy over all left over attributes to the input element","              // We can't use interpolation in the template for directives such as ng-model","              var inputElement = findInputElement(templateElement);","              angular.forEach(attrs.$attr, function (original, normalized) {","                var value = element.attr(original);","                inputElement.attr(original, value);","              });","              var ngModelVal = \"instance.\"+ scope.path + (scope.itemIndex == undefined? \"\": \"[\"+ scope.itemIndex+ \"]\" );","              inputElement.attr(\"ng-model\", ngModelVal);","              //console.trace(\"NGMODEL #### \", inputElement.attr('ng-model'))","    ","              // Wire up the input (id and name) and its label (for).","              // We need to set the input element's name here before we compile the template.","              // If we leave it to be interpolated at the next $digest the formController doesn't pick it up","              inputElement.attr('name', childScope.$fieldId);","              inputElement.attr('id', childScope.$fieldId);","              if(scope.readonly || schema.options.readonly === true) inputElement.attr('readonly', \"true\");","              schema.options.required && inputElement.attr('required', 'true');","              var labelElement = templateElement.find('label');","              labelElement.attr('for', childScope.$fieldId);","              // Update the label's contents","              labelElement.html(labelContent);","    ","              // Place our template as a child of the original element.","              // This needs to be done before compilation to ensure that it picks up any containing form.","              element.append(templateElement);","    ","                // filed controller","                //var fieldController = customController || \"dfController\"+ camelcase(template);","                var fieldController = customController || \"dfc-\"+template;","                ","                try{  ","                    $controller(fieldController, {$scope: childScope, $schema: schema, inputElement: inputElement, templateElement: templateElement}) ","                    angoose.logger.trace(\"Invoked custom controller\", fieldController);","                }","                catch(err){","                    if((err+\"\").indexOf(\"is not a function\")<0)","                        angoose.logger.error(\"fieldControoler error\", err)","                }","                // We now compile and link our template here in the postLink function","                // This allows the ng-model directive on our template's <input> element to access the ngFormController","                $compile(templateElement)(childScope);","    ","                // Now that our template has been compiled and linked we can access the <input> element's ngModelController","                childScope.$field = inputElement.controller('ngModel');","            });","          } // end loadTemplate","      }; // end postLink","    }","  };","}","// ** mapDirective **","//","// Default mapping based on schema definition:","","// - list of sub schemas: deform-sublist","// - single subschema object: deform-subschema"," ","function mapDirective(path, pathSchema, modelSchema, itemIndex){","    if( itemIndex !== undefined) return null; // we're in a array","    if(pathSchema && pathSchema.options && Array.isArray(pathSchema.options.type)){","        if( pathSchema.schema)","            return \"deform-sublist\"","        ","        if(pathSchema.caster && (! pathSchema.caster.options || !pathSchema.caster.options.ref)){ // !pathSchema.options.ref filters out CustomRef, ugly!","            /** array of simple types */","           //console.log(\"Simple array type!!!\",pathSchema, pathSchema.options.ref, pathSchema.options.type);","           return \"ang-array\"","        }","        ","    }","    else  if(  pathSchema.schema)","        return \"deform-subschema\"","    return null;","}    ","","// ** mapTemplate **","//","// Default mapping for Mongoose schema type -> form field","//      ","// - ObjectID: selector","// - Boolean: Checkbox","// - String: input","// - Number: input","// - Date: ? ","// - Array of simple types: selector multi","// - Array of ref objects: selector multi","// - String/Number with enum values:  Select","// - Mixed: ??","//  ","function mapTemplate(path, pathSchema, modelSchema){","    if(pathSchema.options.template) return pathSchema.options.template;","    if(pathSchema.options.multiline) return \"textarea\"","    var template = 'input';","    var opts = pathSchema.options || {};","    //@todo: refactor them into subclasses","    ","    switch(pathSchema.instance || (pathSchema.options && pathSchema.options.type)){","        case 'ObjetcID':","            if(opts.ref)    template = 'selector';","            break; ","        case 'Boolean':","            template = 'checkbox';","            break;","        case 'Date':","        case 'String':","        case 'Number':","        default:","            break;","    }","    if(getRef(pathSchema))","        template = \"selector\";","    if(Array.isArray(opts['enum']) && opts['enum'].length>0){","        template = \"select\";","    }","    if(Array.isArray(opts.type )){","        if(pathSchema.caster){","            /** array of simple types */","           // console.log(\"Simple types\", pathSchema)","        }","    }","    ","    angoose.logger.trace(\"Path \", path, \" Type \", pathSchema , \" template: \", template)","    return template;","}","","function getRef(pathSchema){","    var opts = pathSchema.options;","    ","    /** Mongoose, array of ObjectIDs */","    if( Array.isArray(opts.type) && opts.type.length>0  &&  opts.type[0] && opts.type[0].ref ) ","        return opts.type[0].ref;","    /** Single ObjectID Reference*/","    if(pathSchema.instance == 'ObjectID' && opts.ref) return opts.ref;","    ","    ","    if(pathSchema.options.ref && pathSchema.instance == 'CustomRef'){","        /** deform custom ref*/","       return pathSchema.options.ref;    ","    }","    /** deform rich reference, array */","    if(Array.isArray(opts.type ) && pathSchema.caster && ","            pathSchema.caster.instance == 'CustomRef' && pathSchema.caster.options.ref ){ ","        return pathSchema.caster.options.ref;","    }","        ","    return null;","}","function camelcase(str){","    return str? str.substring(0,1).toUpperCase() + str.substring(1): str;","}","})();  // end enclosure"],"l":{"1":2,"2":2,"4":1,"9":1,"10":0,"13":1,"14":0,"19":1,"21":0,"22":0,"24":0,"30":0,"32":0,"37":1,"38":0,"39":0,"42":1,"43":0,"44":0,"45":0,"46":0,"47":0,"51":0,"65":0,"66":0,"68":0,"73":0,"74":0,"77":0,"79":0,"81":0,"82":0,"84":0,"86":0,"87":0,"88":0,"90":0,"93":0,"96":0,"97":0,"98":0,"100":0,"102":0,"104":0,"105":0,"107":0,"109":0,"113":0,"115":1,"116":0,"117":0,"118":0,"119":0,"120":0,"122":0,"123":0,"124":0,"127":0,"128":0,"129":0,"135":0,"139":0,"141":0,"144":0,"146":0,"147":0,"148":0,"149":0,"157":0,"158":0,"159":0,"160":0,"162":0,"163":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"176":0,"180":0,"184":0,"186":0,"187":0,"188":0,"191":0,"192":0,"196":0,"199":0,"213":1,"214":0,"215":0,"216":0,"217":0,"219":0,"222":0,"226":0,"227":0,"228":0,"245":1,"246":0,"247":0,"248":0,"249":0,"252":0,"254":0,"255":0,"257":0,"258":0,"263":0,"265":0,"266":0,"267":0,"268":0,"270":0,"271":0,"277":0,"278":0,"281":1,"282":0,"285":0,"286":0,"288":0,"291":0,"293":0,"296":0,"298":0,"301":0,"303":1,"304":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-filter-by.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-filter-by.js","s":{"1":2,"2":1,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":68},"end":{"line":1,"column":81}}},"2":{"name":"schemaType","line":2,"loc":{"start":{"line":2,"column":4},"end":{"line":2,"column":31}}},"3":{"name":"(anonymous_3)","line":10,"loc":{"start":{"line":10,"column":22},"end":{"line":10,"column":57}}},"4":{"name":"(anonymous_4)","line":30,"loc":{"start":{"line":30,"column":29},"end":{"line":30,"column":39}}},"5":{"name":"(anonymous_5)","line":47,"loc":{"start":{"line":47,"column":48},"end":{"line":47,"column":58}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":53,"column":3}},"2":{"start":{"line":2,"column":4},"end":{"line":5,"column":5}},"3":{"start":{"line":3,"column":8},"end":{"line":3,"column":54}},"4":{"start":{"line":4,"column":8},"end":{"line":4,"column":20}},"5":{"start":{"line":6,"column":4},"end":{"line":9,"column":5}},"6":{"start":{"line":10,"column":5},"end":{"line":51,"column":6}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":62}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":52}},"9":{"start":{"line":13,"column":8},"end":{"line":13,"column":53}},"10":{"start":{"line":14,"column":8},"end":{"line":14,"column":30}},"11":{"start":{"line":16,"column":8},"end":{"line":18,"column":9}},"12":{"start":{"line":17,"column":12},"end":{"line":17,"column":31}},"13":{"start":{"line":19,"column":8},"end":{"line":21,"column":9}},"14":{"start":{"line":20,"column":13},"end":{"line":20,"column":32}},"15":{"start":{"line":22,"column":8},"end":{"line":22,"column":40}},"16":{"start":{"line":23,"column":8},"end":{"line":23,"column":31}},"17":{"start":{"line":23,"column":24},"end":{"line":23,"column":31}},"18":{"start":{"line":24,"column":8},"end":{"line":24,"column":78}},"19":{"start":{"line":24,"column":26},"end":{"line":24,"column":78}},"20":{"start":{"line":26,"column":8},"end":{"line":28,"column":9}},"21":{"start":{"line":27,"column":12},"end":{"line":27,"column":75}},"22":{"start":{"line":29,"column":8},"end":{"line":29,"column":37}},"23":{"start":{"line":30,"column":8},"end":{"line":46,"column":9}},"24":{"start":{"line":31,"column":12},"end":{"line":31,"column":44}},"25":{"start":{"line":32,"column":12},"end":{"line":32,"column":78}},"26":{"start":{"line":33,"column":12},"end":{"line":33,"column":38}},"27":{"start":{"line":34,"column":12},"end":{"line":37,"column":13}},"28":{"start":{"line":36,"column":16},"end":{"line":36,"column":47}},"29":{"start":{"line":39,"column":12},"end":{"line":45,"column":13}},"30":{"start":{"line":40,"column":16},"end":{"line":40,"column":73}},"31":{"start":{"line":41,"column":16},"end":{"line":41,"column":57}},"32":{"start":{"line":43,"column":17},"end":{"line":45,"column":13}},"33":{"start":{"line":44,"column":16},"end":{"line":44,"column":48}},"34":{"start":{"line":47,"column":8},"end":{"line":49,"column":13}},"35":{"start":{"line":48,"column":12},"end":{"line":48,"column":39}},"36":{"start":{"line":52,"column":4},"end":{"line":52,"column":21}}},"branchMap":{"1":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":23},"end":{"line":13,"column":38}},{"start":{"line":13,"column":42},"end":{"line":13,"column":52}}]},"2":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":8},"end":{"line":16,"column":8}},{"start":{"line":16,"column":8},"end":{"line":16,"column":8}}]},"3":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":8},"end":{"line":19,"column":8}},{"start":{"line":19,"column":8},"end":{"line":19,"column":8}}]},"4":{"line":23,"type":"if","locations":[{"start":{"line":23,"column":8},"end":{"line":23,"column":8}},{"start":{"line":23,"column":8},"end":{"line":23,"column":8}}]},"5":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":8},"end":{"line":24,"column":8}},{"start":{"line":24,"column":8},"end":{"line":24,"column":8}}]},"6":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":8},"end":{"line":26,"column":8}},{"start":{"line":26,"column":8},"end":{"line":26,"column":8}}]},"7":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":26},"end":{"line":31,"column":37}},{"start":{"line":31,"column":41},"end":{"line":31,"column":43}}]},"8":{"line":34,"type":"if","locations":[{"start":{"line":34,"column":12},"end":{"line":34,"column":12}},{"start":{"line":34,"column":12},"end":{"line":34,"column":12}}]},"9":{"line":39,"type":"if","locations":[{"start":{"line":39,"column":12},"end":{"line":39,"column":12}},{"start":{"line":39,"column":12},"end":{"line":39,"column":12}}]},"10":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":17},"end":{"line":43,"column":17}},{"start":{"line":43,"column":17},"end":{"line":43,"column":17}}]}},"code":["angular.module('angoose.ui.directives').directive(\"deformFilterBy\", function($ui){","    function schemaType(schema){","        var type = $ui.getter(schema, 'options.type');","        return type;","    } ","    var directive = {","        restrict:'A', ","        scope:true","    }","     directive.link = function($scope,  $element, $attrs){","        enterscope($scope, \"filterby \"+ $attrs.deformFilterBy)","        var filterField  =    $attrs.deformFilterBy; //@ todo: evaluatable? $scope.$eval($attrs.deformFilterBy);","        var filterOp = $attrs.filterOp || 'contains';","        var searchable = true;","        ","        if(schemaType($scope.fieldSchema) == 'Number'){","            searchable = false;","        }","        if($ui.getter($scope.fieldSchema, 'options.searchable') !== undefined){","             searchable = false;  ","        }","        $scope.searchable = searchable ;","        if(!searchable) return;","        if(!$scope.dmeta) throw \"ang-filter-by must be used in ang-list scope\"","        ","        if($ui.isCustomRef( $scope.fieldSchema)){","            filterField = $ui.getCustomRefKeyfieldPath($scope.fieldSchema);","        }","        var spec = $scope.dmeta.spec;","        var keyupHandler  =  function(){","            spec.filter = spec.filter || {};","            console.log($attrs.deformFilterBy, \" value is \" , $element.val());","            var term = $element.val();","            if(!term){","                // empty string, remove this criteria","                delete spec.filter[filterField]","            }","            //if(term && term.length == 1)  return;","            if( filterOp == 'contains' ){","                spec.filter[filterField] = { $regex: term, $options:'i'};","                spec.random = new Date() + Math.random(); // angular.equals() ignores the property name starts with $, so we set a random value to trigger the $watch   ","            }","            else if(filterOp == 'equals'){","                spec.filter[filterField] = term;","            }","        }","        $element.on(\"keyup\", $ui.debounce(500,  function(){","            $scope.$apply(keyupHandler)","        })) ; ","         ","     }","    return directive;","});  ",""," "],"l":{"1":2,"2":1,"3":0,"4":0,"6":0,"10":0,"11":0,"12":0,"13":0,"14":0,"16":0,"17":0,"19":0,"20":0,"22":0,"23":0,"24":0,"26":0,"27":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"36":0,"39":0,"40":0,"41":0,"43":0,"44":0,"47":0,"48":0,"52":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-list.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-list.js","s":{"1":2,"2":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":1,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":1,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":1,"101":0,"102":0},"b":{"1":[0,0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":1},"end":{"line":1,"column":11}}},"2":{"name":"angList","line":4,"loc":{"start":{"line":4,"column":0},"end":{"line":4,"column":132}}},"3":{"name":"(anonymous_3)","line":9,"loc":{"start":{"line":9,"column":27},"end":{"line":9,"column":43}}},"4":{"name":"(anonymous_4)","line":11,"loc":{"start":{"line":11,"column":23},"end":{"line":11,"column":33}}},"5":{"name":"(anonymous_5)","line":16,"loc":{"start":{"line":16,"column":24},"end":{"line":16,"column":48}}},"6":{"name":"(anonymous_6)","line":18,"loc":{"start":{"line":18,"column":22},"end":{"line":18,"column":56}}},"7":{"name":"(anonymous_7)","line":86,"loc":{"start":{"line":86,"column":28},"end":{"line":86,"column":43}}},"8":{"name":"(anonymous_8)","line":89,"loc":{"start":{"line":89,"column":80},"end":{"line":89,"column":90}}},"9":{"name":"(anonymous_9)","line":90,"loc":{"start":{"line":90,"column":52},"end":{"line":90,"column":69}}},"10":{"name":"(anonymous_10)","line":96,"loc":{"start":{"line":96,"column":19},"end":{"line":96,"column":29}}},"11":{"name":"(anonymous_11)","line":114,"loc":{"start":{"line":114,"column":24},"end":{"line":114,"column":58}}},"12":{"name":"(anonymous_12)","line":118,"loc":{"start":{"line":118,"column":40},"end":{"line":118,"column":64}}},"13":{"name":"(anonymous_13)","line":124,"loc":{"start":{"line":124,"column":40},"end":{"line":124,"column":58}}},"14":{"name":"(anonymous_14)","line":143,"loc":{"start":{"line":143,"column":59},"end":{"line":143,"column":74}}},"15":{"name":"findTagged","line":184,"loc":{"start":{"line":184,"column":0},"end":{"line":184,"column":35}}},"16":{"name":"(anonymous_16)","line":187,"loc":{"start":{"line":187,"column":49},"end":{"line":187,"column":63}}},"17":{"name":"getDefaultSortField","line":195,"loc":{"start":{"line":195,"column":0},"end":{"line":195,"column":40}}},"18":{"name":"(anonymous_18)","line":198,"loc":{"start":{"line":198,"column":49},"end":{"line":198,"column":63}}},"19":{"name":"enterscope","line":209,"loc":{"start":{"line":209,"column":0},"end":{"line":209,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":205,"column":5}},"2":{"start":{"line":2,"column":0},"end":{"line":2,"column":107}},"3":{"start":{"line":4,"column":0},"end":{"line":181,"column":1}},"4":{"start":{"line":6,"column":4},"end":{"line":8,"column":6}},"5":{"start":{"line":9,"column":4},"end":{"line":14,"column":6}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":41}},"7":{"start":{"line":11,"column":8},"end":{"line":13,"column":9}},"8":{"start":{"line":12,"column":12},"end":{"line":12,"column":37}},"9":{"start":{"line":16,"column":4},"end":{"line":178,"column":6}},"10":{"start":{"line":17,"column":8},"end":{"line":17,"column":52}},"11":{"start":{"line":18,"column":8},"end":{"line":113,"column":10}},"12":{"start":{"line":20,"column":12},"end":{"line":20,"column":69}},"13":{"start":{"line":31,"column":12},"end":{"line":31,"column":45}},"14":{"start":{"line":35,"column":12},"end":{"line":35,"column":95}},"15":{"start":{"line":37,"column":12},"end":{"line":44,"column":13}},"16":{"start":{"line":38,"column":16},"end":{"line":38,"column":84}},"17":{"start":{"line":41,"column":16},"end":{"line":41,"column":71}},"18":{"start":{"line":42,"column":16},"end":{"line":42,"column":77}},"19":{"start":{"line":43,"column":16},"end":{"line":43,"column":23}},"20":{"start":{"line":46,"column":12},"end":{"line":46,"column":93}},"21":{"start":{"line":47,"column":12},"end":{"line":50,"column":41}},"22":{"start":{"line":48,"column":16},"end":{"line":48,"column":49}},"23":{"start":{"line":50,"column":16},"end":{"line":50,"column":41}},"24":{"start":{"line":52,"column":12},"end":{"line":52,"column":89}},"25":{"start":{"line":53,"column":12},"end":{"line":53,"column":93}},"26":{"start":{"line":54,"column":12},"end":{"line":70,"column":78}},"27":{"start":{"line":55,"column":16},"end":{"line":55,"column":30}},"28":{"start":{"line":56,"column":16},"end":{"line":66,"column":17}},"29":{"start":{"line":57,"column":20},"end":{"line":57,"column":48}},"30":{"start":{"line":58,"column":20},"end":{"line":58,"column":77}},"31":{"start":{"line":59,"column":20},"end":{"line":59,"column":81}},"32":{"start":{"line":60,"column":20},"end":{"line":63,"column":40}},"33":{"start":{"line":61,"column":24},"end":{"line":61,"column":82}},"34":{"start":{"line":63,"column":24},"end":{"line":63,"column":40}},"35":{"start":{"line":64,"column":20},"end":{"line":64,"column":83}},"36":{"start":{"line":64,"column":31},"end":{"line":64,"column":83}},"37":{"start":{"line":65,"column":20},"end":{"line":65,"column":38}},"38":{"start":{"line":67,"column":16},"end":{"line":67,"column":37}},"39":{"start":{"line":70,"column":16},"end":{"line":70,"column":78}},"40":{"start":{"line":72,"column":12},"end":{"line":72,"column":34}},"41":{"start":{"line":74,"column":12},"end":{"line":75,"column":66}},"42":{"start":{"line":75,"column":16},"end":{"line":75,"column":66}},"43":{"start":{"line":77,"column":12},"end":{"line":77,"column":74}},"44":{"start":{"line":79,"column":12},"end":{"line":79,"column":87}},"45":{"start":{"line":80,"column":12},"end":{"line":80,"column":90}},"46":{"start":{"line":82,"column":12},"end":{"line":82,"column":78}},"47":{"start":{"line":83,"column":12},"end":{"line":83,"column":103}},"48":{"start":{"line":86,"column":12},"end":{"line":99,"column":13}},"49":{"start":{"line":89,"column":16},"end":{"line":98,"column":18}},"50":{"start":{"line":90,"column":20},"end":{"line":95,"column":24}},"51":{"start":{"line":91,"column":24},"end":{"line":94,"column":25}},"52":{"start":{"line":92,"column":28},"end":{"line":92,"column":71}},"53":{"start":{"line":93,"column":28},"end":{"line":93,"column":62}},"54":{"start":{"line":100,"column":12},"end":{"line":100,"column":86}},"55":{"start":{"line":114,"column":9},"end":{"line":175,"column":9}},"56":{"start":{"line":115,"column":12},"end":{"line":115,"column":55}},"57":{"start":{"line":116,"column":12},"end":{"line":116,"column":43}},"58":{"start":{"line":118,"column":12},"end":{"line":148,"column":21}},"59":{"start":{"line":119,"column":16},"end":{"line":119,"column":71}},"60":{"start":{"line":121,"column":16},"end":{"line":121,"column":61}},"61":{"start":{"line":122,"column":16},"end":{"line":123,"column":65}},"62":{"start":{"line":123,"column":20},"end":{"line":123,"column":65}},"63":{"start":{"line":124,"column":16},"end":{"line":127,"column":19}},"64":{"start":{"line":125,"column":19},"end":{"line":126,"column":43}},"65":{"start":{"line":126,"column":24},"end":{"line":126,"column":43}},"66":{"start":{"line":129,"column":16},"end":{"line":129,"column":38}},"67":{"start":{"line":130,"column":16},"end":{"line":130,"column":34}},"68":{"start":{"line":131,"column":16},"end":{"line":134,"column":17}},"69":{"start":{"line":132,"column":20},"end":{"line":132,"column":99}},"70":{"start":{"line":133,"column":20},"end":{"line":133,"column":49}},"71":{"start":{"line":135,"column":16},"end":{"line":139,"column":17}},"72":{"start":{"line":136,"column":20},"end":{"line":136,"column":51}},"73":{"start":{"line":137,"column":20},"end":{"line":138,"column":69}},"74":{"start":{"line":138,"column":24},"end":{"line":138,"column":69}},"75":{"start":{"line":141,"column":16},"end":{"line":141,"column":100}},"76":{"start":{"line":142,"column":16},"end":{"line":142,"column":96}},"77":{"start":{"line":143,"column":16},"end":{"line":146,"column":19}},"78":{"start":{"line":145,"column":20},"end":{"line":145,"column":45}},"79":{"start":{"line":151,"column":12},"end":{"line":151,"column":30}},"80":{"start":{"line":176,"column":8},"end":{"line":176,"column":44}},"81":{"start":{"line":180,"column":4},"end":{"line":180,"column":21}},"82":{"start":{"line":184,"column":0},"end":{"line":193,"column":1}},"83":{"start":{"line":185,"column":4},"end":{"line":185,"column":52}},"84":{"start":{"line":185,"column":42},"end":{"line":185,"column":52}},"85":{"start":{"line":186,"column":4},"end":{"line":186,"column":18}},"86":{"start":{"line":187,"column":4},"end":{"line":191,"column":7}},"87":{"start":{"line":188,"column":8},"end":{"line":188,"column":49}},"88":{"start":{"line":189,"column":8},"end":{"line":190,"column":28}},"89":{"start":{"line":190,"column":12},"end":{"line":190,"column":28}},"90":{"start":{"line":192,"column":4},"end":{"line":192,"column":16}},"91":{"start":{"line":195,"column":0},"end":{"line":204,"column":1}},"92":{"start":{"line":196,"column":4},"end":{"line":196,"column":52}},"93":{"start":{"line":196,"column":42},"end":{"line":196,"column":52}},"94":{"start":{"line":197,"column":4},"end":{"line":197,"column":19}},"95":{"start":{"line":198,"column":4},"end":{"line":202,"column":7}},"96":{"start":{"line":199,"column":8},"end":{"line":199,"column":49}},"97":{"start":{"line":200,"column":8},"end":{"line":201,"column":24}},"98":{"start":{"line":201,"column":13},"end":{"line":201,"column":24}},"99":{"start":{"line":203,"column":4},"end":{"line":203,"column":15}},"100":{"start":{"line":209,"column":0},"end":{"line":212,"column":1}},"101":{"start":{"line":210,"column":1},"end":{"line":210,"column":63}},"102":{"start":{"line":211,"column":1},"end":{"line":211,"column":37}}},"branchMap":{"1":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":32},"end":{"line":35,"column":47}},{"start":{"line":35,"column":51},"end":{"line":35,"column":67}},{"start":{"line":35,"column":71},"end":{"line":35,"column":93}}]},"2":{"line":46,"type":"binary-expr","locations":[{"start":{"line":46,"column":27},"end":{"line":46,"column":41}},{"start":{"line":46,"column":47},"end":{"line":46,"column":92}}]},"3":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":12},"end":{"line":47,"column":12}},{"start":{"line":47,"column":12},"end":{"line":47,"column":12}}]},"4":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":30},"end":{"line":52,"column":45}},{"start":{"line":52,"column":49},"end":{"line":52,"column":89}}]},"5":{"line":53,"type":"cond-expr","locations":[{"start":{"line":53,"column":68},"end":{"line":53,"column":72}},{"start":{"line":53,"column":74},"end":{"line":53,"column":92}}]},"6":{"line":54,"type":"if","locations":[{"start":{"line":54,"column":12},"end":{"line":54,"column":12}},{"start":{"line":54,"column":12},"end":{"line":54,"column":12}}]},"7":{"line":54,"type":"binary-expr","locations":[{"start":{"line":54,"column":15},"end":{"line":54,"column":43}},{"start":{"line":54,"column":47},"end":{"line":54,"column":71}}]},"8":{"line":58,"type":"cond-expr","locations":[{"start":{"line":58,"column":61},"end":{"line":58,"column":65}},{"start":{"line":58,"column":67},"end":{"line":58,"column":76}}]},"9":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":20},"end":{"line":60,"column":20}},{"start":{"line":60,"column":20},"end":{"line":60,"column":20}}]},"10":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":20},"end":{"line":64,"column":20}},{"start":{"line":64,"column":20},"end":{"line":64,"column":20}}]},"11":{"line":74,"type":"if","locations":[{"start":{"line":74,"column":12},"end":{"line":74,"column":12}},{"start":{"line":74,"column":12},"end":{"line":74,"column":12}}]},"12":{"line":74,"type":"binary-expr","locations":[{"start":{"line":74,"column":15},"end":{"line":74,"column":27}},{"start":{"line":74,"column":31},"end":{"line":74,"column":51}}]},"13":{"line":79,"type":"binary-expr","locations":[{"start":{"line":79,"column":26},"end":{"line":79,"column":37}},{"start":{"line":79,"column":42},"end":{"line":79,"column":85}}]},"14":{"line":79,"type":"cond-expr","locations":[{"start":{"line":79,"column":62},"end":{"line":79,"column":80}},{"start":{"line":79,"column":83},"end":{"line":79,"column":85}}]},"15":{"line":80,"type":"binary-expr","locations":[{"start":{"line":80,"column":26},"end":{"line":80,"column":37}},{"start":{"line":80,"column":44},"end":{"line":80,"column":87}}]},"16":{"line":80,"type":"cond-expr","locations":[{"start":{"line":80,"column":62},"end":{"line":80,"column":83}},{"start":{"line":80,"column":85},"end":{"line":80,"column":87}}]},"17":{"line":82,"type":"binary-expr","locations":[{"start":{"line":82,"column":27},"end":{"line":82,"column":39}},{"start":{"line":82,"column":44},"end":{"line":82,"column":76}}]},"18":{"line":82,"type":"cond-expr","locations":[{"start":{"line":82,"column":59},"end":{"line":82,"column":73}},{"start":{"line":82,"column":74},"end":{"line":82,"column":76}}]},"19":{"line":83,"type":"binary-expr","locations":[{"start":{"line":83,"column":27},"end":{"line":83,"column":39}},{"start":{"line":83,"column":44},"end":{"line":83,"column":101}}]},"20":{"line":83,"type":"cond-expr","locations":[{"start":{"line":83,"column":62},"end":{"line":83,"column":94}},{"start":{"line":83,"column":96},"end":{"line":83,"column":101}}]},"21":{"line":91,"type":"if","locations":[{"start":{"line":91,"column":24},"end":{"line":91,"column":24}},{"start":{"line":91,"column":24},"end":{"line":91,"column":24}}]},"22":{"line":122,"type":"if","locations":[{"start":{"line":122,"column":16},"end":{"line":122,"column":16}},{"start":{"line":122,"column":16},"end":{"line":122,"column":16}}]},"23":{"line":125,"type":"if","locations":[{"start":{"line":125,"column":19},"end":{"line":125,"column":19}},{"start":{"line":125,"column":19},"end":{"line":125,"column":19}}]},"24":{"line":131,"type":"if","locations":[{"start":{"line":131,"column":16},"end":{"line":131,"column":16}},{"start":{"line":131,"column":16},"end":{"line":131,"column":16}}]},"25":{"line":132,"type":"cond-expr","locations":[{"start":{"line":132,"column":92},"end":{"line":132,"column":95}},{"start":{"line":132,"column":96},"end":{"line":132,"column":98}}]},"26":{"line":132,"type":"binary-expr","locations":[{"start":{"line":132,"column":37},"end":{"line":132,"column":49}},{"start":{"line":132,"column":53},"end":{"line":132,"column":89}}]},"27":{"line":135,"type":"if","locations":[{"start":{"line":135,"column":16},"end":{"line":135,"column":16}},{"start":{"line":135,"column":16},"end":{"line":135,"column":16}}]},"28":{"line":137,"type":"if","locations":[{"start":{"line":137,"column":20},"end":{"line":137,"column":20}},{"start":{"line":137,"column":20},"end":{"line":137,"column":20}}]},"29":{"line":145,"type":"binary-expr","locations":[{"start":{"line":145,"column":34},"end":{"line":145,"column":39}},{"start":{"line":145,"column":43},"end":{"line":145,"column":44}}]},"30":{"line":185,"type":"if","locations":[{"start":{"line":185,"column":4},"end":{"line":185,"column":4}},{"start":{"line":185,"column":4},"end":{"line":185,"column":4}}]},"31":{"line":185,"type":"binary-expr","locations":[{"start":{"line":185,"column":7},"end":{"line":185,"column":18}},{"start":{"line":185,"column":22},"end":{"line":185,"column":40}}]},"32":{"line":189,"type":"if","locations":[{"start":{"line":189,"column":8},"end":{"line":189,"column":8}},{"start":{"line":189,"column":8},"end":{"line":189,"column":8}}]},"33":{"line":189,"type":"binary-expr","locations":[{"start":{"line":189,"column":11},"end":{"line":189,"column":28}},{"start":{"line":189,"column":32},"end":{"line":189,"column":65}}]},"34":{"line":196,"type":"if","locations":[{"start":{"line":196,"column":4},"end":{"line":196,"column":4}},{"start":{"line":196,"column":4},"end":{"line":196,"column":4}}]},"35":{"line":196,"type":"binary-expr","locations":[{"start":{"line":196,"column":7},"end":{"line":196,"column":18}},{"start":{"line":196,"column":22},"end":{"line":196,"column":40}}]},"36":{"line":200,"type":"if","locations":[{"start":{"line":200,"column":8},"end":{"line":200,"column":8}},{"start":{"line":200,"column":8},"end":{"line":200,"column":8}}]},"37":{"line":200,"type":"binary-expr","locations":[{"start":{"line":200,"column":11},"end":{"line":200,"column":31}},{"start":{"line":200,"column":35},"end":{"line":200,"column":75}}]}},"code":["(function(){","angular.module('angoose.ui.directives').directive(\"deformListing\", angList ).directive(\"angList\", angList);","","function angList( $templateCache, $routeParams, $compile, $location, $injector, MessageBox, $log ,$route, $ui, $controller, angoose){","    // this is the main controller for the sort-paging-filtering list","    var directive = {","        restrict:'AE'","    }; ","    directive.controller = function($scope){","        var query = $scope.defineQuery();","        this.refresh = function(){","            query.update(null, true);","        }","    };","    ","    directive.compile = function(element, attrs){","        angoose.logger.trace(\"In ang-list compile\");","        var preLink = function($scope, $element, $attrs){","            /** we do this in prelink because child directives needs the dmeta setup below */","            enterscope($scope, \"ang-list  prelink\",  $route.current);","            /**@todo: calling custom controller here is kinda not the right angular way, but we augment the $scope */","            // get the configured defaults","            // var ctrl = $ui.getConfig($location.path());","            // if(ctrl){","                // console.log(\"Calling user defined controller\", ctrl)","                // $controller ( ctrl, {$scope: $scope, $element:$element, $attrs: $attrs});","            // }","            // if($routeParams.customController) {","                 // $controller ( ($routeParams.modelName+\"-list-\"+ $routeParams.customController).toLowerCase(), {$scope: $scope});","            // }","            var dmeta = $scope.defineQuery();","            // $scope.dmeta = $scope.dmeta || {};","            // var dmeta = $scope.dmeta; ","            /** order or presedence: custom controller -> directive -> route params  */","            dmeta.modelName =   dmeta.modelName || $attrs.modelName || $routeParams.modelName ;","                         ","            try{","                dmeta.modelClass = $injector.get($ui.camelcase( dmeta.modelName  ));    ","            }","            catch(err){","                console.error(\"Error in deformListing controller\", err)","                MessageBox.error(\"Model \"+ dmeta.modelName+\" is not defined\")","                return;","            }","            // publish it to the parent scope","            var listName  =$attrs.angList   || $ui.apiCamelcase( dmeta.modelName  ) + \"List\";","            if($scope.$parent) ","                $scope.$parent[listName] = dmeta;","            else","                $scope[listName] = dmeta;","            ","            dmeta.pageTitle = dmeta.pageTitle || $ui.camelcase(dmeta.modelName) + \" List\"","            dmeta.actionColumn = dmeta.actionColumn === undefined ? true: dmeta.actionColumn;","            if(Array.isArray(dmeta.columns) && dmeta.columns.length > 0){","                var cols = [];","                for(var i=0;i< dmeta.columns.length;i++){","                    var item = dmeta.columns[i];","                    var pathname = typeof(item) == 'string'? item: item.path;","                    var original = $ui.getPathSchema(dmeta.modelClass, pathname);","                    if(typeof(item) == 'object') ","                        item = angular.extend( angular.extend({}, original), item)","                    else","                        item = original;","                    if(!item)  item = {path: pathname, options: {sortable:false } } ","                    cols.push( item );","                }","                dmeta.columns = cols;","            }","            else","                dmeta.columns =  findTagged(dmeta.modelClass, 'default-list');","            //dmeta.spec = dmeta.spec || { filter:{} }","            var spec = dmeta.spec;","            // controller -> directive","            if(!spec.preset && $attrs.defaultFilter)  ","                spec.preset =  $scope.$eval($attrs.defaultFilter);","            ","            var defaultSortField = getDefaultSortField(dmeta.modelClass) ;","            //controller -> directive -> default","            spec.sortBy = spec.sortBy || ($attrs.defaultSort? $attrs.defaultSort : '');","            spec.sortBy = spec.sortBy || (  defaultSortField? defaultSortField.path: '' );","                ","            spec.sortDir = spec.sortDir || ($attrs.sortDir?$attrs.sortDir:'');","            spec.sortDir = spec.sortDir || (defaultSortField? defaultSortField.options.defsort: 'asc');","                ","            //console.log($scope.dmeta.columns, \" ### COLOUMNS\" )","            $scope.remove = function(index){","                //MessageBox.warn(\"This will delete \"+  $scope.instances[index].getDisplayName() +\", please confirm\");","                ","                MessageBox.confirm(\"This will delete selected item, continue?\", function(){","                    $scope.instances[index].remove( function(err,res){","                        if(!err){","                            MessageBox.success(\"Operation Successful\");","                            $scope.instances.splice(index, 1);  ","                        } ","                    } );    ","                }, function(){","                    ","                })","            }","            $ui.resolveAndCompile($scope, $element, $attrs, dmeta, 'deform.list.tpl');","//             ","            // $ui.resolveTemplate(element, $attrs, dmeta, 'deform.list.tpl').then(function(em){","                // console.log(\"Resolved template, compiling(default: list.tpl')\", em)","                // if(em){","                    // $element.html(\"<!-- CLEARED -->\"); // first clear the inline template","                    // $element.append(em);","                    // $compile(em)($scope);","                // }","            // }, function(err){","                // console.error(\"Error resolving template(list.tpl)\", err);","            // });","            ","         }","         var postLink = function($scope, $element, $attrs){","            enterscope($scope, \"postlink ang listing\");","            var spec =   $scope.dmeta.spec;","            ","            $scope.$watch(\"dmeta.spec\", function(newVal, oldVal){","                angoose.logger.trace(\"Filter changed\", newVal, oldVal);","                // handles the search fields, we need to make a copy of the search filters so that it won't trigger the $watch","                var mQuery = angular.extend({}, spec.filter);","                if(spec.preset)","                    mQuery = angular.extend(mQuery, spec.preset); // preset filter takes presedence","                angular.forEach(mQuery, function(val, key){","                   if(val === '$CLEAR$')","                        delete mQuery[key]; ","                });","                ","                var mSelection = null; //@TBD","                var mOptions = {};  // limit, skip, sort","                if(spec.sortBy){","                    mOptions.sort = (spec.sortDir && spec.sortDir.toLowerCase() == 'desc')? \"-\":\"\";","                    mOptions.sort += spec.sortBy; ","                }","                if(spec.pageSize) {","                    mOptions.limit = spec.pageSize;","                    if(spec.page > 1)","                        mOptions.skip = (spec.page-1) * spec.pageSize","                }","                    ","                angoose.logger.trace(\"Updating search: \", mQuery ,mOptions, $scope.dmeta.modelName);","                $scope.instances = $scope.dmeta.modelClass.$query(mQuery, mSelection, mOptions )","                $scope.dmeta.modelClass.count(mQuery).done(function(total){","                    //if(err) $log.error(\"Error getting total. Query: \", mQuery, \" Error:\", err);","                    spec.$total = total || 0;","                }); ","               ","            }, true);","            ","            ","            $scope.cells = [];","            ","            ","            // var templateUrl = $attrs.templateUrl;","            // if(!templateUrl && !element.html()){","                // templateUrl = \"deform.list.tpl\"; // default","            // } ","            // if(templateUrl){","                // element.html(\"<!-- to be replaced by contents from \"+  templateUrl+\" -->\");","                // console.log(\"Loading templateUrl\",  templateUrl);","                // $ui.loadTemplate(templateUrl).then(function(em){","                    // console.log(\"Compiling template  \", em);","                    // element.append(em);","                    // $compile(em)($scope);     ","                // }, function(er){","                    // console.log(\"Failed to load template\",  templateUrl)","                // })","            // }","            ","            // $compile template if provided","            // var template = getTemplate(scope.data);","            // element.html(template);","            // ","            ","        } // end link","        return {pre:preLink, post:postLink }","        ","    }; // end compile","   ","    return directive;","};  // end directiveFunc","","// get a list of fields with a specific tag","function findTagged(modelClass,tag){","    if(!modelClass || !modelClass.schema) return [];","    var cols = [];  ","    Object.keys(modelClass.schema.paths).forEach(function(path){","        var data = modelClass.schema.paths[path];","        if(data.options.tags && data.options.tags.indexOf(tag)>=0)","            cols.push(data);","    });","    return cols;","}","","function getDefaultSortField(modelClass){","    if(!modelClass || !modelClass.schema) return [];","    var ret = null; ","    Object.keys(modelClass.schema.paths).forEach(function(path){","        var data = modelClass.schema.paths[path];","        if(data.options.defsort && typeof(data.options.defsort) == 'string')","             ret = data;","    });","    return ret;","}","})(); // scope wrapper","","","","function enterscope(scope, name, arg1) {","\tangoose.logger.trace(\"Entering scope \", name, scope.$id, arg1)","\twindow['scope' + scope.$id] = scope;","}",""],"l":{"1":2,"2":2,"4":1,"6":0,"9":0,"10":0,"11":0,"12":0,"16":0,"17":0,"18":0,"20":0,"31":0,"35":0,"37":0,"38":0,"41":0,"42":0,"43":0,"46":0,"47":0,"48":0,"50":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"63":0,"64":0,"65":0,"67":0,"70":0,"72":0,"74":0,"75":0,"77":0,"79":0,"80":0,"82":0,"83":0,"86":0,"89":0,"90":0,"91":0,"92":0,"93":0,"100":0,"114":0,"115":0,"116":0,"118":0,"119":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"129":0,"130":0,"131":0,"132":0,"133":0,"135":0,"136":0,"137":0,"138":0,"141":0,"142":0,"143":0,"145":0,"151":0,"176":0,"180":0,"184":1,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"192":0,"195":1,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"203":0,"209":1,"210":0,"211":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-paginator.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-paginator.js","s":{"1":2,"2":2,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":1,"33":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":1},"end":{"line":1,"column":11}}},"2":{"name":"(anonymous_2)","line":2,"loc":{"start":{"line":2,"column":69},"end":{"line":2,"column":106}}},"3":{"name":"(anonymous_3)","line":9,"loc":{"start":{"line":9,"column":20},"end":{"line":9,"column":53}}},"4":{"name":"(anonymous_4)","line":20,"loc":{"start":{"line":20,"column":30},"end":{"line":20,"column":41}}},"5":{"name":"(anonymous_5)","line":25,"loc":{"start":{"line":25,"column":34},"end":{"line":25,"column":44}}},"6":{"name":"(anonymous_6)","line":30,"loc":{"start":{"line":30,"column":29},"end":{"line":30,"column":45}}},"7":{"name":"paginatorTemplate","line":43,"loc":{"start":{"line":43,"column":0},"end":{"line":43,"column":28}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":54,"column":5}},"2":{"start":{"line":2,"column":0},"end":{"line":40,"column":3}},"3":{"start":{"line":4,"column":4},"end":{"line":8,"column":5}},"4":{"start":{"line":9,"column":4},"end":{"line":38,"column":9}},"5":{"start":{"line":10,"column":12},"end":{"line":10,"column":44}},"6":{"start":{"line":11,"column":12},"end":{"line":11,"column":84}},"7":{"start":{"line":11,"column":30},"end":{"line":11,"column":84}},"8":{"start":{"line":12,"column":12},"end":{"line":12,"column":41}},"9":{"start":{"line":13,"column":12},"end":{"line":13,"column":26}},"10":{"start":{"line":14,"column":12},"end":{"line":14,"column":27}},"11":{"start":{"line":15,"column":12},"end":{"line":15,"column":31}},"12":{"start":{"line":16,"column":12},"end":{"line":17,"column":57}},"13":{"start":{"line":17,"column":16},"end":{"line":17,"column":57}},"14":{"start":{"line":18,"column":12},"end":{"line":18,"column":54}},"15":{"start":{"line":20,"column":12},"end":{"line":24,"column":13}},"16":{"start":{"line":21,"column":16},"end":{"line":21,"column":59}},"17":{"start":{"line":22,"column":16},"end":{"line":22,"column":70}},"18":{"start":{"line":22,"column":63},"end":{"line":22,"column":70}},"19":{"start":{"line":23,"column":16},"end":{"line":23,"column":47}},"20":{"start":{"line":25,"column":12},"end":{"line":29,"column":13}},"21":{"start":{"line":26,"column":16},"end":{"line":26,"column":52}},"22":{"start":{"line":27,"column":16},"end":{"line":27,"column":42}},"23":{"start":{"line":27,"column":35},"end":{"line":27,"column":42}},"24":{"start":{"line":28,"column":16},"end":{"line":28,"column":45}},"25":{"start":{"line":30,"column":12},"end":{"line":35,"column":13}},"26":{"start":{"line":31,"column":16},"end":{"line":31,"column":69}},"27":{"start":{"line":32,"column":16},"end":{"line":32,"column":49}},"28":{"start":{"line":33,"column":16},"end":{"line":33,"column":64}},"29":{"start":{"line":34,"column":16},"end":{"line":34,"column":58}},"30":{"start":{"line":37,"column":12},"end":{"line":37,"column":36}},"31":{"start":{"line":39,"column":4},"end":{"line":39,"column":21}},"32":{"start":{"line":43,"column":0},"end":{"line":52,"column":1}},"33":{"start":{"line":44,"column":4},"end":{"line":51,"column":15}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":12},"end":{"line":11,"column":12}},{"start":{"line":11,"column":12},"end":{"line":11,"column":12}}]},"2":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":12},"end":{"line":16,"column":12}},{"start":{"line":16,"column":12},"end":{"line":16,"column":12}}]},"3":{"line":22,"type":"if","locations":[{"start":{"line":22,"column":16},"end":{"line":22,"column":16}},{"start":{"line":22,"column":16},"end":{"line":22,"column":16}}]},"4":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":16}},{"start":{"line":27,"column":16},"end":{"line":27,"column":16}}]},"5":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":28},"end":{"line":32,"column":34}},{"start":{"line":32,"column":38},"end":{"line":32,"column":47}}]}},"code":["(function(){","angular.module('angoose.ui.directives').directive('deformPaginator', function( $ui, $http, $templateCache){","    // this sub directive handles the paging. It can only used inside the the spflist","    var directive = {","        restrict:'A',","        template: paginatorTemplate() ","        //scope:true","    }","    directive.link =function($scope,$element, $attrs){","            enterscope($scope, \"paginator\");","            if(!$scope.dmeta) throw \"Paginator must be used in deform-listing scope\"","            var spec = $scope.dmeta.spec;","            spec.page = 1;","            spec.start = 1;","            spec.pageSize = 25;","            if($attrs.pageSize)","                spec.pageSize = parseInt($attrs.pageSize)","            spec.$end = spec.start + spec.pageSize -1;","","            $scope.nextPage = function(e){","                console.log(\"next page clicked\", arguments)","                if(  spec.start + spec.pageSize > spec.$total) return;","                $scope.setPage (spec.page + 1);","            }","            $scope.previousPage = function(){","                console.log(\"previous page clicked\")","                if( spec.page <=1) return;","                $scope.setPage(spec.page -1);","            }","            $scope.setPage = function(pageNo){","                console.log(\"Set page called with number \", pageNo );","                spec.page = pageNo || spec.page ;","                spec.start = (spec.page -1 ) * spec.pageSize + 1","                spec.$end = spec.start + spec.pageSize -1;","            }","            //$scope.setPage();","            $scope.paginator = spec;","        }","    return directive;","});","  ","","function paginatorTemplate(){","    return \"<span class='btn-group' style='display: inline;'> {{ paginator.start }} - {{ paginator.$end > paginator.$total ? paginator.$total: paginator.$end }} of {{ paginator.$total }}\\n\" +","            \" <span class='break'></span>\" +","            \" <span ng-if='paginator.pageSize < paginator.$total' >\"+","            \"    <span href='#' class='btn box-page' ng-click='previousPage()' style='cursor:pointer' ><i class='icon-chevron-left'></i></span>\" +","            \"    <span href='#' class='btn box-page' ng-click='nextPage()' style='cursor:pointer'><i class='icon-chevron-right'></i></span>\" +","            \"  </span>\"+ ","            \"</span>\\n\" + ","            \"\";","}","","})(); // scope wrapper"," "],"l":{"1":2,"2":2,"4":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"20":0,"21":0,"22":0,"23":0,"25":0,"26":0,"27":0,"28":0,"30":0,"31":0,"32":0,"33":0,"34":0,"37":0,"39":0,"43":1,"44":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-render.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-render.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},"b":{"1":[0,0],"2":[0,0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":66},"end":{"line":1,"column":134}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":25},"end":{"line":6,"column":49}}},"3":{"name":"postLink","line":10,"loc":{"start":{"line":10,"column":16},"end":{"line":10,"column":59}}},"4":{"name":"compileTemplate","line":39,"loc":{"start":{"line":39,"column":16},"end":{"line":39,"column":54}}},"5":{"name":"(anonymous_5)","line":50,"loc":{"start":{"line":50,"column":65},"end":{"line":50,"column":84}}},"6":{"name":"(anonymous_6)","line":53,"loc":{"start":{"line":53,"column":19},"end":{"line":53,"column":38}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":61,"column":3}},"2":{"start":{"line":3,"column":5},"end":{"line":5,"column":6}},"3":{"start":{"line":6,"column":5},"end":{"line":59,"column":6}},"4":{"start":{"line":7,"column":8},"end":{"line":9,"column":9}},"5":{"start":{"line":8,"column":12},"end":{"line":8,"column":29}},"6":{"start":{"line":10,"column":8},"end":{"line":58,"column":10}},"7":{"start":{"line":11,"column":12},"end":{"line":11,"column":86}},"8":{"start":{"line":12,"column":12},"end":{"line":12,"column":47}},"9":{"start":{"line":13,"column":12},"end":{"line":13,"column":74}},"10":{"start":{"line":15,"column":12},"end":{"line":15,"column":33}},"11":{"start":{"line":16,"column":12},"end":{"line":16,"column":62}},"12":{"start":{"line":17,"column":12},"end":{"line":17,"column":37}},"13":{"start":{"line":18,"column":12},"end":{"line":26,"column":13}},"14":{"start":{"line":19,"column":16},"end":{"line":25,"column":19}},"15":{"start":{"line":27,"column":12},"end":{"line":36,"column":13}},"16":{"start":{"line":29,"column":16},"end":{"line":31,"column":17}},"17":{"start":{"line":30,"column":20},"end":{"line":30,"column":86}},"18":{"start":{"line":32,"column":16},"end":{"line":34,"column":17}},"19":{"start":{"line":33,"column":20},"end":{"line":33,"column":81}},"20":{"start":{"line":35,"column":16},"end":{"line":35,"column":57}},"21":{"start":{"line":37,"column":12},"end":{"line":57,"column":13}},"22":{"start":{"line":38,"column":16},"end":{"line":38,"column":114}},"23":{"start":{"line":39,"column":16},"end":{"line":44,"column":17}},"24":{"start":{"line":40,"column":20},"end":{"line":40,"column":63}},"25":{"start":{"line":41,"column":20},"end":{"line":41,"column":58}},"26":{"start":{"line":42,"column":20},"end":{"line":42,"column":40}},"27":{"start":{"line":43,"column":20},"end":{"line":43,"column":41}},"28":{"start":{"line":46,"column":16},"end":{"line":49,"column":17}},"29":{"start":{"line":47,"column":20},"end":{"line":47,"column":59}},"30":{"start":{"line":48,"column":20},"end":{"line":48,"column":53}},"31":{"start":{"line":50,"column":16},"end":{"line":56,"column":19}},"32":{"start":{"line":51,"column":20},"end":{"line":51,"column":76}},"33":{"start":{"line":52,"column":20},"end":{"line":52,"column":51}},"34":{"start":{"line":54,"column":18},"end":{"line":54,"column":69}},"35":{"start":{"line":60,"column":5},"end":{"line":60,"column":22}}},"branchMap":{"1":{"line":7,"type":"if","locations":[{"start":{"line":7,"column":8},"end":{"line":7,"column":8}},{"start":{"line":7,"column":8},"end":{"line":7,"column":8}}]},"2":{"line":11,"type":"binary-expr","locations":[{"start":{"line":11,"column":24},"end":{"line":11,"column":42}},{"start":{"line":11,"column":46},"end":{"line":11,"column":69}},{"start":{"line":11,"column":74},"end":{"line":11,"column":85}}]},"3":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":12},"end":{"line":18,"column":12}},{"start":{"line":18,"column":12},"end":{"line":18,"column":12}}]},"4":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":12},"end":{"line":27,"column":12}},{"start":{"line":27,"column":12},"end":{"line":27,"column":12}}]},"5":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":15},"end":{"line":27,"column":48}},{"start":{"line":27,"column":52},"end":{"line":27,"column":68}}]},"6":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":16},"end":{"line":29,"column":16}},{"start":{"line":29,"column":16},"end":{"line":29,"column":16}}]},"7":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":16},"end":{"line":32,"column":16}},{"start":{"line":32,"column":16},"end":{"line":32,"column":16}}]},"8":{"line":32,"type":"binary-expr","locations":[{"start":{"line":32,"column":20},"end":{"line":32,"column":28}},{"start":{"line":32,"column":32},"end":{"line":32,"column":81}}]},"9":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":31},"end":{"line":35,"column":43}},{"start":{"line":35,"column":48},"end":{"line":35,"column":56}}]},"10":{"line":37,"type":"if","locations":[{"start":{"line":37,"column":12},"end":{"line":37,"column":12}},{"start":{"line":37,"column":12},"end":{"line":37,"column":12}}]},"11":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":31},"end":{"line":38,"column":77}},{"start":{"line":38,"column":81},"end":{"line":38,"column":113}}]},"12":{"line":46,"type":"if","locations":[{"start":{"line":46,"column":16},"end":{"line":46,"column":16}},{"start":{"line":46,"column":16},"end":{"line":46,"column":16}}]}},"code":["angular.module('angoose.ui.directives').directive(\"deformRender\", function($controller, $ui, $filter, $http, $templateCache, $compile){","    ","     var directive = {","        restrict:'AE'","     }","     directive.compile = function(element, attrs){","        if(attrs.path == '$ACTION'){","            element.html('');","        }","        return  function postLink($scope, $element, $attrs){","            var path = ($scope.fieldSchema && $scope.fieldSchema.path) || $attrs.path;","            var pathSchema =$scope.fieldSchema;","            enterscope($scope, \"deformRender \" +  path +\" #\"+ $attrs.row);","            ","            var row = $attrs.row;","            var rawValue = $ui.getter($scope.instance, path );","            $scope.value = undefined;","            if( typeof($scope.dmeta.render) == 'function'){","                $controller(  $scope.dmeta.render, {   ","                                        $scope:$scope, ","                                        $path:path, ","                                        $value:rawValue,","                                        $row: $attrs.row,","                                        $element: $element","                });","            }","            if(typeof($scope.value)=='undefined' && path !='$ACTION'){","                // unhandled, default handler","                if($ui.isCustomRef(pathSchema)){","                    $scope.value = $ui.getCustomRefValue($scope.instance, pathSchema);","                }","                if( rawValue && $ui.getter( pathSchema, 'options.type') == 'Date' ){","                    $scope.value = $filter('date')( new Date(rawValue), 'short');","                }   ","                $scope.value = $scope.value ||  rawValue;","            }","            if(path  == '$ACTION'){","                var template = $ui.getter($scope.dmeta ,  'templates.action') || 'deform-list-action-edit-delete';","                function compileTemplate(templateHtml){","                    templateHtml=\"<div>\"+ templateHtml+\"</div>\"","                    var em = angular.element(templateHtml)","                    $element.append(em);","                    $compile(em)($scope);","                }","               ","                if(template.indexOf(\"deform\") !=0){","                    console.log(\"template content itself\");","                    return compileTemplate(template);","                }","                $http.get(template, {cache:$templateCache}).then(function(response) {","                    console.log(\"Loading template\", template, response.data)","                    compileTemplate(response.data);","                }, function(response) {","                  throw new Error('Template not found: ' + template);","                  //console && console.error(\"teamplte note found\", templateName)","                });    ","            }","         }// end link function","     }// end compile function","     return directive;","});"," "," ","  "],"l":{"1":2,"3":0,"6":0,"7":0,"8":0,"10":0,"11":0,"12":0,"13":0,"15":0,"16":0,"17":0,"18":0,"19":0,"27":0,"29":0,"30":0,"32":0,"33":0,"35":0,"37":0,"38":0,"39":1,"40":0,"41":0,"42":0,"43":0,"46":0,"47":0,"48":0,"50":0,"51":0,"52":0,"54":0,"60":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-sortable.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-sortable.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":68},"end":{"line":1,"column":90}}},"2":{"name":"(anonymous_2)","line":6,"loc":{"start":{"line":6,"column":24},"end":{"line":6,"column":48}}},"3":{"name":"(anonymous_3)","line":8,"loc":{"start":{"line":8,"column":16},"end":{"line":8,"column":50}}},"4":{"name":"(anonymous_4)","line":24,"loc":{"start":{"line":24,"column":29},"end":{"line":24,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":44,"column":3}},"2":{"start":{"line":2,"column":4},"end":{"line":5,"column":6}},"3":{"start":{"line":6,"column":4},"end":{"line":41,"column":6}},"4":{"start":{"line":7,"column":8},"end":{"line":7,"column":83}},"5":{"start":{"line":8,"column":8},"end":{"line":40,"column":9}},"6":{"start":{"line":9,"column":12},"end":{"line":9,"column":62}},"7":{"start":{"line":10,"column":12},"end":{"line":10,"column":47}},"8":{"start":{"line":11,"column":12},"end":{"line":11,"column":112}},"9":{"start":{"line":11,"column":24},"end":{"line":11,"column":112}},"10":{"start":{"line":12,"column":12},"end":{"line":12,"column":76}},"11":{"start":{"line":14,"column":12},"end":{"line":14,"column":85}},"12":{"start":{"line":14,"column":78},"end":{"line":14,"column":85}},"13":{"start":{"line":16,"column":12},"end":{"line":16,"column":90}},"14":{"start":{"line":16,"column":30},"end":{"line":16,"column":90}},"15":{"start":{"line":17,"column":13},"end":{"line":17,"column":42}},"16":{"start":{"line":18,"column":13},"end":{"line":18,"column":70}},"17":{"start":{"line":19,"column":13},"end":{"line":21,"column":14}},"18":{"start":{"line":20,"column":16},"end":{"line":20,"column":116}},"19":{"start":{"line":22,"column":12},"end":{"line":22,"column":48}},"20":{"start":{"line":24,"column":12},"end":{"line":39,"column":14}},"21":{"start":{"line":26,"column":16},"end":{"line":26,"column":55}},"22":{"start":{"line":27,"column":16},"end":{"line":33,"column":17}},"23":{"start":{"line":29,"column":20},"end":{"line":29,"column":107}},"24":{"start":{"line":32,"column":20},"end":{"line":32,"column":41}},"25":{"start":{"line":34,"column":16},"end":{"line":34,"column":82}},"26":{"start":{"line":35,"column":16},"end":{"line":35,"column":86}},"27":{"start":{"line":36,"column":16},"end":{"line":36,"column":116}},"28":{"start":{"line":37,"column":16},"end":{"line":37,"column":72}},"29":{"start":{"line":42,"column":4},"end":{"line":42,"column":21}}},"branchMap":{"1":{"line":11,"type":"if","locations":[{"start":{"line":11,"column":12},"end":{"line":11,"column":12}},{"start":{"line":11,"column":12},"end":{"line":11,"column":12}}]},"2":{"line":14,"type":"if","locations":[{"start":{"line":14,"column":12},"end":{"line":14,"column":12}},{"start":{"line":14,"column":12},"end":{"line":14,"column":12}}]},"3":{"line":14,"type":"binary-expr","locations":[{"start":{"line":14,"column":15},"end":{"line":14,"column":21}},{"start":{"line":14,"column":25},"end":{"line":14,"column":39}},{"start":{"line":14,"column":43},"end":{"line":14,"column":76}}]},"4":{"line":16,"type":"if","locations":[{"start":{"line":16,"column":12},"end":{"line":16,"column":12}},{"start":{"line":16,"column":12},"end":{"line":16,"column":12}}]},"5":{"line":19,"type":"if","locations":[{"start":{"line":19,"column":13},"end":{"line":19,"column":13}},{"start":{"line":19,"column":13},"end":{"line":19,"column":13}}]},"6":{"line":20,"type":"cond-expr","locations":[{"start":{"line":20,"column":93},"end":{"line":20,"column":104}},{"start":{"line":20,"column":105},"end":{"line":20,"column":114}}]},"7":{"line":20,"type":"binary-expr","locations":[{"start":{"line":20,"column":37},"end":{"line":20,"column":49}},{"start":{"line":20,"column":53},"end":{"line":20,"column":89}}]},"8":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":16},"end":{"line":27,"column":16}},{"start":{"line":27,"column":16},"end":{"line":27,"column":16}}]},"9":{"line":29,"type":"cond-expr","locations":[{"start":{"line":29,"column":94},"end":{"line":29,"column":99}},{"start":{"line":29,"column":100},"end":{"line":29,"column":106}}]},"10":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":38},"end":{"line":29,"column":50}},{"start":{"line":29,"column":54},"end":{"line":29,"column":90}}]},"11":{"line":36,"type":"cond-expr","locations":[{"start":{"line":36,"column":93},"end":{"line":36,"column":104}},{"start":{"line":36,"column":105},"end":{"line":36,"column":114}}]},"12":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":37},"end":{"line":36,"column":49}},{"start":{"line":36,"column":53},"end":{"line":36,"column":89}}]}},"code":["angular.module('angoose.ui.directives').directive('deformSortable', function($ui, angoose){","    var directive = {","        restrict:'AE',","        scope:true ","    };","    directive.compile = function(element, attrs){","        element.html( '<span ng-click=\"doSort()\">' + element.html() + '</span>'  );","        return  function($scope,$element, $attrs ){","            enterscope($scope, \"ang-sortable \",  $attrs.path);","            var sortBy = $attrs.deformSortable;","            if(!sortBy) throw \"deform-sortable directive requires a value to be specified as the sorting field.\"","            var schema = $ui.getPathSchema($scope.dmeta.modelClass, sortBy);","            //console.log(\"schema is\", schema);","            if(schema && schema.options && schema.options.sortable === false) return;","            //if(!schema || !schema.options || !schema.options.sortable) return;","            if(!$scope.dmeta) throw \"deform-sortable must be used in deform-listing scope\"","             var spec = $scope.dmeta.spec;","             $element.removeClass(\"sort-up\").removeClass(\"sort-down\");","             if(spec.sortBy == sortBy ){","                $element.addClass(  (spec.sortDir && spec.sortDir.toLowerCase() == 'desc') ? \"sort-down\":\"sort-up\");","             }","            $element.addClass(\"sort-clickable\");","            ","            $scope.doSort =  function(){","                //if(!schema.options.sortable) return;","                console.log(\"sort by clicked\", sortBy);","                if(spec.sortBy == sortBy){","                    // reverse direction","                    spec.sortDir =   (spec.sortDir && spec.sortDir.toLowerCase() == 'desc') ? 'asc':'desc';","                }        ","                else {","                    spec.sortBy = sortBy;","                }","                $element.parent().parent().find(\".sort-up\").removeClass(\"sort-up\")","                $element.parent().parent().find(\".sort-down\").removeClass(\"sort-down\")","                $element.addClass(  (spec.sortDir && spec.sortDir.toLowerCase() == 'desc') ? \"sort-down\":\"sort-up\");","                console.log(\"Current sort\", spec.sortBy , spec.sortDir )","                //$scope.$parent.$digest();","            };","        } // end link","    }; //end compile","    return directive;","    ","});  "],"l":{"1":2,"2":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"14":0,"16":0,"17":0,"18":0,"19":0,"20":0,"22":0,"24":0,"26":0,"27":0,"29":0,"32":0,"34":0,"35":0,"36":0,"37":0,"42":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-sublist.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/directives/ang-sublist.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":67},"end":{"line":1,"column":80}}},"2":{"name":"(anonymous_2)","line":10,"loc":{"start":{"line":10,"column":15},"end":{"line":10,"column":39}}},"3":{"name":"link","line":12,"loc":{"start":{"line":12,"column":17},"end":{"line":12,"column":53}}},"4":{"name":"(anonymous_4)","line":23,"loc":{"start":{"line":23,"column":57},"end":{"line":23,"column":71}}},"5":{"name":"(anonymous_5)","line":28,"loc":{"start":{"line":28,"column":31},"end":{"line":28,"column":48}}},"6":{"name":"(anonymous_6)","line":31,"loc":{"start":{"line":31,"column":40},"end":{"line":31,"column":56}}},"7":{"name":"(anonymous_7)","line":34,"loc":{"start":{"line":34,"column":37},"end":{"line":34,"column":47}}},"8":{"name":"(anonymous_8)","line":43,"loc":{"start":{"line":43,"column":32},"end":{"line":43,"column":45}}},"9":{"name":"(anonymous_9)","line":48,"loc":{"start":{"line":48,"column":15},"end":{"line":48,"column":39}}},"10":{"name":"link","line":50,"loc":{"start":{"line":50,"column":17},"end":{"line":50,"column":53}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":59,"column":3}},"2":{"start":{"line":2,"column":2},"end":{"line":41,"column":4}},"3":{"start":{"line":12,"column":10},"end":{"line":39,"column":11}},"4":{"start":{"line":13,"column":14},"end":{"line":13,"column":60}},"5":{"start":{"line":14,"column":14},"end":{"line":14,"column":53}},"6":{"start":{"line":15,"column":14},"end":{"line":15,"column":82}},"7":{"start":{"line":17,"column":14},"end":{"line":17,"column":57}},"8":{"start":{"line":19,"column":14},"end":{"line":19,"column":89}},"9":{"start":{"line":20,"column":14},"end":{"line":20,"column":87}},"10":{"start":{"line":21,"column":14},"end":{"line":21,"column":73}},"11":{"start":{"line":22,"column":14},"end":{"line":22,"column":66}},"12":{"start":{"line":23,"column":14},"end":{"line":27,"column":17}},"13":{"start":{"line":24,"column":18},"end":{"line":26,"column":19}},"14":{"start":{"line":25,"column":20},"end":{"line":25,"column":55}},"15":{"start":{"line":28,"column":14},"end":{"line":30,"column":15}},"16":{"start":{"line":29,"column":18},"end":{"line":29,"column":51}},"17":{"start":{"line":31,"column":14},"end":{"line":33,"column":15}},"18":{"start":{"line":32,"column":18},"end":{"line":32,"column":60}},"19":{"start":{"line":34,"column":14},"end":{"line":36,"column":15}},"20":{"start":{"line":35,"column":18},"end":{"line":35,"column":61}},"21":{"start":{"line":38,"column":14},"end":{"line":38,"column":87}},"22":{"start":{"line":42,"column":2},"end":{"line":42,"column":19}},"23":{"start":{"line":45,"column":4},"end":{"line":57,"column":4}},"24":{"start":{"line":50,"column":10},"end":{"line":55,"column":11}},"25":{"start":{"line":51,"column":14},"end":{"line":51,"column":60}},"26":{"start":{"line":52,"column":14},"end":{"line":52,"column":40}},"27":{"start":{"line":53,"column":14},"end":{"line":53,"column":115}},"28":{"start":{"line":54,"column":14},"end":{"line":54,"column":89}},"29":{"start":{"line":58,"column":2},"end":{"line":58,"column":19}}},"branchMap":{"1":{"line":19,"type":"binary-expr","locations":[{"start":{"line":19,"column":44},"end":{"line":19,"column":82}},{"start":{"line":19,"column":86},"end":{"line":19,"column":88}}]},"2":{"line":24,"type":"if","locations":[{"start":{"line":24,"column":18},"end":{"line":24,"column":18}},{"start":{"line":24,"column":18},"end":{"line":24,"column":18}}]},"3":{"line":53,"type":"binary-expr","locations":[{"start":{"line":53,"column":32},"end":{"line":53,"column":49}},{"start":{"line":53,"column":53},"end":{"line":53,"column":114}}]}},"code":["angular.module('angoose.ui.directives').directive(\"deformSublist\", function($ui){","  var directive = {","      restrict:'AE',","      scope:{","          instance:'=',","          path:'=',","          modelSchema:'=',","          fieldSchema:'='","      },","      compile: function(element, attrs){","          //element.html(\"sub elements\");","          return function link(scope, element, attrs){","              enterscope(scope, \"sublist path \"+ scope.path)","              var getter = scope.getter = $ui.getter;","              console.debug(\"our data: \", getter(scope, 'instance.'+ scope.path));","              ","              console.log(\"Creating sublist \", scope.$id)","              // we can't just use sublist because nested scopes - where subscope may override parents","              scope['sublist'+ scope.$id] = getter(scope, 'instance.'+ scope.path) || [];","              $ui.setter(scope, 'instance.'+ scope.path, scope['sublist'+ scope.$id] );","              scope.subschema =  $ui.getter(scope.fieldSchema, 'schema');","              scope.subpaths = Object.keys(scope.subschema.paths); // the ng-repeat will be based on this so it preserves the original order in schema","              Object.keys(scope.subschema.paths).forEach(function(path){","                  if($ui.filterPath(path, scope.subschema.paths[path], scope.subschema)){","                    delete scope.subschema.paths[path];  ","                  } ","              });","              scope.sublist  = function(scopeId){","                  return scope['sublist'+ scopeId];","              }","              scope.removeSublistItem = function($index){","                  scope.sublist(scope.$id).splice($index, 1)","              }","              scope.addSublistItem = function(){","                  scope.sublist(scope.$id).push({__toggle:1})","              }","              ","              $ui.resolveAndCompile(scope, element, attrs, null, 'deform.sublist.tpl');","          }","      }","  };","  return directive;   ","}).directive(\"deformSubschema\", function($ui){","    // this is not used as of 2/28/14","    var directive = {","      restrict:'AE',","      //templateUrl: 'deform.subschema.tpl',","      compile: function(element, attrs){","          //element.html(\"sub elements\");","          return function link(scope, element, attrs){","              enterscope(scope, 'sbuschema: ' + scope.path);","              scope.getter = $ui.getter;","              scope.subschema = scope.modelSchema && $ui.getter( scope.modelSchema.paths[  scope.path ], 'schema');","              $ui.resolveAndCompile(scope, element, attrs, null, 'deform.subschema.tpl');","          }","      }","  };","  return directive;   ","});","","","   "," "],"l":{"1":2,"2":0,"12":0,"13":0,"14":0,"15":0,"17":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"28":0,"29":0,"31":0,"32":0,"34":0,"35":0,"38":0,"42":0,"45":0,"50":0,"51":0,"52":0,"53":0,"54":0,"58":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/filters/camelcase.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/filters/camelcase.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0},"b":{"1":[0,0],"2":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":57},"end":{"line":2,"column":67}}},"2":{"name":"(anonymous_2)","line":3,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":27}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":7,"column":3}},"2":{"start":{"line":3,"column":4},"end":{"line":6,"column":5}},"3":{"start":{"line":4,"column":9},"end":{"line":4,"column":56}},"4":{"start":{"line":4,"column":42},"end":{"line":4,"column":56}},"5":{"start":{"line":5,"column":9},"end":{"line":5,"column":73}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":9},"end":{"line":4,"column":9}},{"start":{"line":4,"column":9},"end":{"line":4,"column":9}}]},"2":{"line":4,"type":"binary-expr","locations":[{"start":{"line":4,"column":12},"end":{"line":4,"column":19}},{"start":{"line":4,"column":23},"end":{"line":4,"column":40}}]}},"code":["'use strict'","angular.module('angoose.ui.filters').filter('camelcase', function(){","    return function(string){","         if(!string || string.length ==0) return string;","         return string.substring(0,1).toUpperCase() + string.substring(1)","    }","});"],"l":{"2":2,"3":0,"4":0,"5":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/filters/shorten.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/filters/shorten.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0]},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":55},"end":{"line":2,"column":65}}},"2":{"name":"(anonymous_2)","line":3,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":24}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":11,"column":3}},"2":{"start":{"line":3,"column":4},"end":{"line":10,"column":5}},"3":{"start":{"line":4,"column":9},"end":{"line":4,"column":46}},"4":{"start":{"line":4,"column":35},"end":{"line":4,"column":46}},"5":{"start":{"line":6,"column":9},"end":{"line":6,"column":33}},"6":{"start":{"line":7,"column":9},"end":{"line":7,"column":30}},"7":{"start":{"line":8,"column":9},"end":{"line":8,"column":27}},"8":{"start":{"line":8,"column":15},"end":{"line":8,"column":27}},"9":{"start":{"line":9,"column":9},"end":{"line":9,"column":84}}},"branchMap":{"1":{"line":4,"type":"if","locations":[{"start":{"line":4,"column":9},"end":{"line":4,"column":9}},{"start":{"line":4,"column":9},"end":{"line":4,"column":9}}]},"2":{"line":8,"type":"if","locations":[{"start":{"line":8,"column":9},"end":{"line":8,"column":9}},{"start":{"line":8,"column":9},"end":{"line":8,"column":9}}]},"3":{"line":9,"type":"cond-expr","locations":[{"start":{"line":9,"column":31},"end":{"line":9,"column":34}},{"start":{"line":9,"column":37},"end":{"line":9,"column":83}}]}},"code":["'use strict'","angular.module('angoose.ui.filters').filter('shorten', function(){","    return function(str){","         if(typeof(str)!='string') return str;","         ","         var re = /^.*\\/([\\/]+)$/","         var m = re.exec(str);","         if(m) return m[1];","         return str.length<50? str:  \"...\"+str.substring(str.length-50, str.length);","    }","});"],"l":{"2":2,"3":0,"4":0,"6":0,"7":0,"8":0,"9":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/filters/trustAsHtml.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/filters/trustAsHtml.js","s":{"1":2,"2":0,"3":0},"b":{},"f":{"1":0,"2":0},"fnMap":{"1":{"name":"(anonymous_1)","line":2,"loc":{"start":{"line":2,"column":59},"end":{"line":2,"column":73}}},"2":{"name":"(anonymous_2)","line":3,"loc":{"start":{"line":3,"column":11},"end":{"line":3,"column":26}}}},"statementMap":{"1":{"start":{"line":2,"column":0},"end":{"line":6,"column":3}},"2":{"start":{"line":3,"column":4},"end":{"line":5,"column":6}},"3":{"start":{"line":4,"column":8},"end":{"line":4,"column":38}}},"branchMap":{},"code":["'use strict'","angular.module('angoose.ui.filters').filter('trustAsHtml', function($sce){","    return function(text) {","        return $sce.trustAsHtml(text);","    };","});",""],"l":{"2":2,"3":0,"4":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/services/alerts.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/services/alerts.js","s":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":57},"end":{"line":1,"column":67}}},"2":{"name":"(anonymous_2)","line":2,"loc":{"start":{"line":2,"column":17},"end":{"line":2,"column":37}}},"3":{"name":"add","line":6,"loc":{"start":{"line":6,"column":12},"end":{"line":6,"column":38}}},"4":{"name":"(anonymous_4)","line":8,"loc":{"start":{"line":8,"column":27},"end":{"line":8,"column":37}}},"5":{"name":"(anonymous_5)","line":24,"loc":{"start":{"line":24,"column":25},"end":{"line":24,"column":45}}},"6":{"name":"(anonymous_6)","line":27,"loc":{"start":{"line":27,"column":25},"end":{"line":27,"column":45}}},"7":{"name":"(anonymous_7)","line":30,"loc":{"start":{"line":30,"column":28},"end":{"line":30,"column":48}}},"8":{"name":"(anonymous_8)","line":33,"loc":{"start":{"line":33,"column":26},"end":{"line":33,"column":46}}},"9":{"name":"(anonymous_9)","line":37,"loc":{"start":{"line":37,"column":26},"end":{"line":37,"column":36}}},"10":{"name":"(anonymous_10)","line":38,"loc":{"start":{"line":38,"column":27},"end":{"line":38,"column":37}}},"11":{"name":"(anonymous_11)","line":44,"loc":{"start":{"line":44,"column":33},"end":{"line":44,"column":49}}},"12":{"name":"(anonymous_12)","line":46,"loc":{"start":{"line":46,"column":32},"end":{"line":46,"column":42}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":54,"column":4}},"2":{"start":{"line":2,"column":5},"end":{"line":53,"column":9}},"3":{"start":{"line":3,"column":12},"end":{"line":3,"column":27}},"4":{"start":{"line":4,"column":12},"end":{"line":4,"column":35}},"5":{"start":{"line":5,"column":12},"end":{"line":5,"column":43}},"6":{"start":{"line":6,"column":12},"end":{"line":23,"column":13}},"7":{"start":{"line":7,"column":16},"end":{"line":7,"column":35}},"8":{"start":{"line":8,"column":16},"end":{"line":22,"column":26}},"9":{"start":{"line":10,"column":20},"end":{"line":10,"column":40}},"10":{"start":{"line":11,"column":20},"end":{"line":17,"column":21}},"11":{"start":{"line":12,"column":24},"end":{"line":12,"column":45}},"12":{"start":{"line":13,"column":24},"end":{"line":16,"column":25}},"13":{"start":{"line":14,"column":28},"end":{"line":14,"column":44}},"14":{"start":{"line":15,"column":28},"end":{"line":15,"column":34}},"15":{"start":{"line":18,"column":20},"end":{"line":21,"column":21}},"16":{"start":{"line":19,"column":24},"end":{"line":19,"column":43}},"17":{"start":{"line":20,"column":24},"end":{"line":20,"column":40}},"18":{"start":{"line":24,"column":12},"end":{"line":26,"column":14}},"19":{"start":{"line":25,"column":16},"end":{"line":25,"column":45}},"20":{"start":{"line":27,"column":12},"end":{"line":29,"column":14}},"21":{"start":{"line":28,"column":16},"end":{"line":28,"column":52}},"22":{"start":{"line":30,"column":12},"end":{"line":32,"column":13}},"23":{"start":{"line":31,"column":16},"end":{"line":31,"column":55}},"24":{"start":{"line":33,"column":12},"end":{"line":36,"column":13}},"25":{"start":{"line":35,"column":16},"end":{"line":35,"column":53}},"26":{"start":{"line":37,"column":12},"end":{"line":43,"column":13}},"27":{"start":{"line":38,"column":16},"end":{"line":41,"column":18}},"28":{"start":{"line":39,"column":21},"end":{"line":39,"column":39}},"29":{"start":{"line":40,"column":21},"end":{"line":40,"column":37}},"30":{"start":{"line":44,"column":12},"end":{"line":51,"column":13}},"31":{"start":{"line":45,"column":17},"end":{"line":50,"column":18}},"32":{"start":{"line":46,"column":21},"end":{"line":49,"column":23}},"33":{"start":{"line":47,"column":24},"end":{"line":47,"column":48}},"34":{"start":{"line":48,"column":24},"end":{"line":48,"column":40}},"35":{"start":{"line":52,"column":12},"end":{"line":52,"column":25}}},"branchMap":{"1":{"line":7,"type":"binary-expr","locations":[{"start":{"line":7,"column":24},"end":{"line":7,"column":29}},{"start":{"line":7,"column":33},"end":{"line":7,"column":34}}]},"2":{"line":13,"type":"if","locations":[{"start":{"line":13,"column":24},"end":{"line":13,"column":24}},{"start":{"line":13,"column":24},"end":{"line":13,"column":24}}]},"3":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":27},"end":{"line":13,"column":50}},{"start":{"line":13,"column":54},"end":{"line":13,"column":75}}]},"4":{"line":18,"type":"if","locations":[{"start":{"line":18,"column":20},"end":{"line":18,"column":20}},{"start":{"line":18,"column":20},"end":{"line":18,"column":20}}]},"5":{"line":45,"type":"if","locations":[{"start":{"line":45,"column":17},"end":{"line":45,"column":17}},{"start":{"line":45,"column":17},"end":{"line":45,"column":17}}]}},"code":["angular.module('angoose.ui.services').provider(\"$alert\", function(){","     this.$get = function($rootScope){","            var Alert = {};","            var scope = $rootScope;","            var alerts = scope.alerts = [];","            function add(alert, delay){","                delay = delay || 1;","                setTimeout(function(){","                    // doing this outside angular context","                    var existing = null;","                    for(var i in alerts){","                        var item = alerts[i];","                        if(item.type == alert.type && item.msg == alert.msg ){","                            existing = item; ","                            break;","                        }","                    }","                    if(!existing){","                        alerts.push(alert);","                        scope.$digest();","                    }","                }, delay);","            }","            Alert.info = function(msg, delay){","                add({type:'info', msg: msg});","            };","            Alert.warn = function(msg, delay){","                add({type:'warn', msg: msg}, delay);","            };","            Alert.success = function(msg, delay){","                add({type:'success', msg: msg}, delay);","            }","            Alert.error = function(msg, delay){","                //msg = _formatError(msg);","                add({type:'error', msg: msg}, delay);","            }","            Alert.clear = function(){","                setTimeout(function(){","                     alerts.length = 0;","                     scope.$digest();    ","                })","                ","            }","            scope.removeAlert  = function($index){","                 if(alerts[$index]){","                     setTimeout(function(){","                        alerts.splice($index,1);","                        scope.$digest();     ","                     })","                 }","            }","            return Alert;","        }"," });","    ","",""],"l":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":1,"7":0,"8":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"18":0,"19":0,"20":0,"24":0,"25":0,"27":0,"28":0,"30":0,"31":0,"33":0,"35":0,"37":0,"38":0,"39":0,"40":0,"44":0,"45":0,"46":0,"47":0,"48":0,"52":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/services/ui-form.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/services/ui-form.js","s":{"1":2,"2":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":2},"end":{"line":1,"column":12}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":60},"end":{"line":4,"column":93}}},"3":{"name":"AngooseForm","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":31}}},"4":{"name":"(anonymous_4)","line":13,"loc":{"start":{"line":13,"column":35},"end":{"line":13,"column":52}}},"5":{"name":"getter","line":28,"loc":{"start":{"line":28,"column":0},"end":{"line":28,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":1},"end":{"line":39,"column":5}},"2":{"start":{"line":4,"column":0},"end":{"line":25,"column":3}},"3":{"start":{"line":6,"column":4},"end":{"line":10,"column":5}},"4":{"start":{"line":7,"column":8},"end":{"line":7,"column":73}},"5":{"start":{"line":8,"column":8},"end":{"line":8,"column":27}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":27}},"7":{"start":{"line":13,"column":4},"end":{"line":22,"column":5}},"8":{"start":{"line":14,"column":8},"end":{"line":14,"column":60}},"9":{"start":{"line":15,"column":8},"end":{"line":15,"column":32}},"10":{"start":{"line":16,"column":8},"end":{"line":16,"column":38}},"11":{"start":{"line":21,"column":8},"end":{"line":21,"column":20}},"12":{"start":{"line":23,"column":4},"end":{"line":23,"column":41}},"13":{"start":{"line":24,"column":4},"end":{"line":24,"column":23}},"14":{"start":{"line":28,"column":0},"end":{"line":37,"column":1}},"15":{"start":{"line":29,"column":4},"end":{"line":29,"column":36}},"16":{"start":{"line":29,"column":19},"end":{"line":29,"column":36}},"17":{"start":{"line":30,"column":4},"end":{"line":30,"column":25}},"18":{"start":{"line":31,"column":4},"end":{"line":31,"column":16}},"19":{"start":{"line":32,"column":4},"end":{"line":35,"column":5}},"20":{"start":{"line":33,"column":8},"end":{"line":33,"column":56}},"21":{"start":{"line":33,"column":39},"end":{"line":33,"column":56}},"22":{"start":{"line":34,"column":8},"end":{"line":34,"column":19}},"23":{"start":{"line":36,"column":4},"end":{"line":36,"column":13}}},"branchMap":{"1":{"line":15,"type":"binary-expr","locations":[{"start":{"line":15,"column":18},"end":{"line":15,"column":25}},{"start":{"line":15,"column":29},"end":{"line":15,"column":31}}]},"2":{"line":29,"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":29,"column":4}},{"start":{"line":29,"column":4},"end":{"line":29,"column":4}}]},"3":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":7},"end":{"line":29,"column":9}},{"start":{"line":29,"column":13},"end":{"line":29,"column":17}}]},"4":{"line":33,"type":"if","locations":[{"start":{"line":33,"column":8},"end":{"line":33,"column":8}},{"start":{"line":33,"column":8},"end":{"line":33,"column":8}}]},"5":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":11},"end":{"line":33,"column":13}},{"start":{"line":33,"column":17},"end":{"line":33,"column":37}}]}},"code":[";(function(){","","","angular.module('angoose.ui.services').factory('AngooseForm',function(  angoose, $q, $timeout){","    ","    function AngooseForm(scope){","        angoose.logger.trace(\"Created form object for scope\", scope.$id);","        this.scope = scope;","        scope.$form = this;","    }","    // update the spec with new options.","    // new options will override the existing ones","    AngooseForm.prototype.update = function(options){","        angoose.logger.trace(\"Updating form spec\", options);","        options = options || {};","        angular.extend(this, options);","        // this.modelName = options.modelName || this.modelName","        // this.pageTitle = options.pageTitle || this.pageTitle;","        // this.template = options.template || this.template;","        // this.modelId = options.modelId || this.modelId;","        return this;","    }","    AngooseForm.prototype.get =   getter;","    return AngooseForm;","});  ","             ","","function getter(obj, p){","    if(!p || !obj) return undefined;","    var p = p.split('.');","    var o = obj;","    for (var i = 0; i < p.length; i++){","        if(!o || typeof o != \"object\") return undefined;","        o = o[p[i]]","    } ","    return o;","}    ","","})();",""],"l":{"1":2,"4":2,"6":1,"7":0,"8":0,"9":0,"13":0,"14":0,"15":0,"16":0,"21":0,"23":0,"24":0,"28":1,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"36":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/services/ui-query.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/services/ui-query.js","s":{"1":2,"2":2,"3":1,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":1,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":2},"end":{"line":1,"column":12}}},"2":{"name":"(anonymous_2)","line":4,"loc":{"start":{"line":4,"column":61},"end":{"line":4,"column":93}}},"3":{"name":"AngooseQuery","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":32}}},"4":{"name":"(anonymous_4)","line":14,"loc":{"start":{"line":14,"column":37},"end":{"line":14,"column":47}}},"5":{"name":"(anonymous_5)","line":19,"loc":{"start":{"line":19,"column":36},"end":{"line":19,"column":67}}},"6":{"name":"getter","line":55,"loc":{"start":{"line":55,"column":0},"end":{"line":55,"column":23}}}},"statementMap":{"1":{"start":{"line":1,"column":1},"end":{"line":66,"column":5}},"2":{"start":{"line":4,"column":0},"end":{"line":52,"column":3}},"3":{"start":{"line":6,"column":4},"end":{"line":13,"column":5}},"4":{"start":{"line":7,"column":8},"end":{"line":7,"column":74}},"5":{"start":{"line":8,"column":8},"end":{"line":8,"column":27}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":27}},"7":{"start":{"line":10,"column":8},"end":{"line":10,"column":28}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":33}},"9":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":32}},"11":{"start":{"line":19,"column":4},"end":{"line":49,"column":5}},"12":{"start":{"line":20,"column":8},"end":{"line":20,"column":61}},"13":{"start":{"line":21,"column":8},"end":{"line":21,"column":45}},"14":{"start":{"line":21,"column":38},"end":{"line":21,"column":45}},"15":{"start":{"line":22,"column":8},"end":{"line":22,"column":32}},"16":{"start":{"line":24,"column":8},"end":{"line":24,"column":25}},"17":{"start":{"line":25,"column":8},"end":{"line":25,"column":62}},"18":{"start":{"line":26,"column":8},"end":{"line":26,"column":57}},"19":{"start":{"line":27,"column":8},"end":{"line":27,"column":54}},"20":{"start":{"line":30,"column":8},"end":{"line":31,"column":68}},"21":{"start":{"line":31,"column":12},"end":{"line":31,"column":68}},"22":{"start":{"line":32,"column":8},"end":{"line":33,"column":75}},"23":{"start":{"line":33,"column":12},"end":{"line":33,"column":75}},"24":{"start":{"line":35,"column":8},"end":{"line":35,"column":58}},"25":{"start":{"line":36,"column":8},"end":{"line":36,"column":61}},"26":{"start":{"line":38,"column":8},"end":{"line":38,"column":63}},"27":{"start":{"line":39,"column":8},"end":{"line":39,"column":60}},"28":{"start":{"line":40,"column":8},"end":{"line":40,"column":69}},"29":{"start":{"line":42,"column":8},"end":{"line":42,"column":63}},"30":{"start":{"line":43,"column":8},"end":{"line":43,"column":109}},"31":{"start":{"line":45,"column":8},"end":{"line":45,"column":87}},"32":{"start":{"line":47,"column":8},"end":{"line":47,"column":59}},"33":{"start":{"line":47,"column":27},"end":{"line":47,"column":59}},"34":{"start":{"line":48,"column":8},"end":{"line":48,"column":20}},"35":{"start":{"line":50,"column":4},"end":{"line":50,"column":42}},"36":{"start":{"line":51,"column":4},"end":{"line":51,"column":24}},"37":{"start":{"line":55,"column":0},"end":{"line":64,"column":1}},"38":{"start":{"line":56,"column":4},"end":{"line":56,"column":36}},"39":{"start":{"line":56,"column":19},"end":{"line":56,"column":36}},"40":{"start":{"line":57,"column":4},"end":{"line":57,"column":25}},"41":{"start":{"line":58,"column":4},"end":{"line":58,"column":16}},"42":{"start":{"line":59,"column":4},"end":{"line":62,"column":5}},"43":{"start":{"line":60,"column":8},"end":{"line":60,"column":56}},"44":{"start":{"line":60,"column":39},"end":{"line":60,"column":56}},"45":{"start":{"line":61,"column":8},"end":{"line":61,"column":19}},"46":{"start":{"line":63,"column":4},"end":{"line":63,"column":13}}},"branchMap":{"1":{"line":21,"type":"if","locations":[{"start":{"line":21,"column":8},"end":{"line":21,"column":8}},{"start":{"line":21,"column":8},"end":{"line":21,"column":8}}]},"2":{"line":21,"type":"binary-expr","locations":[{"start":{"line":21,"column":11},"end":{"line":21,"column":19}},{"start":{"line":21,"column":23},"end":{"line":21,"column":36}}]},"3":{"line":22,"type":"binary-expr","locations":[{"start":{"line":22,"column":18},"end":{"line":22,"column":25}},{"start":{"line":22,"column":29},"end":{"line":22,"column":31}}]},"4":{"line":25,"type":"binary-expr","locations":[{"start":{"line":25,"column":26},"end":{"line":25,"column":43}},{"start":{"line":25,"column":47},"end":{"line":25,"column":62}}]},"5":{"line":26,"type":"binary-expr","locations":[{"start":{"line":26,"column":24},"end":{"line":26,"column":39}},{"start":{"line":26,"column":43},"end":{"line":26,"column":56}}]},"6":{"line":27,"type":"binary-expr","locations":[{"start":{"line":27,"column":23},"end":{"line":27,"column":37}},{"start":{"line":27,"column":41},"end":{"line":27,"column":53}}]},"7":{"line":30,"type":"if","locations":[{"start":{"line":30,"column":8},"end":{"line":30,"column":8}},{"start":{"line":30,"column":8},"end":{"line":30,"column":8}}]},"8":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":32},"end":{"line":31,"column":46}},{"start":{"line":31,"column":50},"end":{"line":31,"column":67}}]},"9":{"line":32,"type":"if","locations":[{"start":{"line":32,"column":8},"end":{"line":32,"column":8}},{"start":{"line":32,"column":8},"end":{"line":32,"column":8}}]},"10":{"line":33,"type":"binary-expr","locations":[{"start":{"line":33,"column":32},"end":{"line":33,"column":53}},{"start":{"line":33,"column":57},"end":{"line":33,"column":74}}]},"11":{"line":35,"type":"binary-expr","locations":[{"start":{"line":35,"column":28},"end":{"line":35,"column":42}},{"start":{"line":35,"column":46},"end":{"line":35,"column":58}}]},"12":{"line":36,"type":"binary-expr","locations":[{"start":{"line":36,"column":29},"end":{"line":36,"column":44}},{"start":{"line":36,"column":48},"end":{"line":36,"column":61}}]},"13":{"line":38,"type":"binary-expr","locations":[{"start":{"line":38,"column":26},"end":{"line":38,"column":43}},{"start":{"line":38,"column":47},"end":{"line":38,"column":62}}]},"14":{"line":39,"type":"binary-expr","locations":[{"start":{"line":39,"column":25},"end":{"line":39,"column":41}},{"start":{"line":39,"column":45},"end":{"line":39,"column":59}}]},"15":{"line":40,"type":"binary-expr","locations":[{"start":{"line":40,"column":28},"end":{"line":40,"column":47}},{"start":{"line":40,"column":51},"end":{"line":40,"column":68}}]},"16":{"line":42,"type":"binary-expr","locations":[{"start":{"line":42,"column":26},"end":{"line":42,"column":43}},{"start":{"line":42,"column":47},"end":{"line":42,"column":62}}]},"17":{"line":43,"type":"cond-expr","locations":[{"start":{"line":43,"column":65},"end":{"line":43,"column":83}},{"start":{"line":43,"column":85},"end":{"line":43,"column":105}}]},"18":{"line":45,"type":"cond-expr","locations":[{"start":{"line":45,"column":55},"end":{"line":45,"column":68}},{"start":{"line":45,"column":71},"end":{"line":45,"column":86}}]},"19":{"line":47,"type":"if","locations":[{"start":{"line":47,"column":8},"end":{"line":47,"column":8}},{"start":{"line":47,"column":8},"end":{"line":47,"column":8}}]},"20":{"line":56,"type":"if","locations":[{"start":{"line":56,"column":4},"end":{"line":56,"column":4}},{"start":{"line":56,"column":4},"end":{"line":56,"column":4}}]},"21":{"line":56,"type":"binary-expr","locations":[{"start":{"line":56,"column":7},"end":{"line":56,"column":9}},{"start":{"line":56,"column":13},"end":{"line":56,"column":17}}]},"22":{"line":60,"type":"if","locations":[{"start":{"line":60,"column":8},"end":{"line":60,"column":8}},{"start":{"line":60,"column":8},"end":{"line":60,"column":8}}]},"23":{"line":60,"type":"binary-expr","locations":[{"start":{"line":60,"column":11},"end":{"line":60,"column":13}},{"start":{"line":60,"column":17},"end":{"line":60,"column":37}}]}},"code":[";(function(){","","","angular.module('angoose.ui.services').factory('AngooseQuery',function(angoose,  $q, $timeout){","    ","    function AngooseQuery(scope){","        angoose.logger.trace(\"Created Query object for scope\", scope.$id);","        this.scope = scope;","        scope.dmeta = this;","        this.showAdd = true;// default","        // some initial structure","        this.spec = { filter: {}}","    }","    AngooseQuery.prototype.refresh = function(){","        this.update(null, true);","    }","    // update the spec with new options.","    // new options will override the existing ones","    AngooseQuery.prototype.update = function(options, forceRefresh){","        angoose.logger.trace(\"Updating Query spec\", options);","        if(!options && !forceRefresh) return;","        options = options || {};","        //@todo: below is a mess","        var dmeta = this;","        dmeta.modelName = options.modelName || dmeta.modelName","        dmeta.columns = options.columns || dmeta.columns;","        dmeta.render = options.render || dmeta.render;","        ","        ","        if(options.preset)","            dmeta.spec.preset = options.preset || dmeta.spec.preset;","        if(options.defaultFilter)","            dmeta.spec.preset = options.defaultFilter || dmeta.spec.preset;","        ","        dmeta.spec.sortBy = options.sortBy || dmeta.sortBy ","        dmeta.spec.sortDir = options.sortDir || dmeta.sortDir","        ","        dmeta.templates = options.templates || dmeta.templates;","        dmeta.template = options.template || dmeta.template;","        dmeta.templateUrl = options.templateUrl || dmeta.templateUrl;","        ","        dmeta.pageTitle = options.pageTitle || dmeta.pageTitle;","        dmeta.actionColumn = options.actionColumn ===undefined?  dmeta.actionColumn :options.actionColumn   ;","        ","        dmeta.showAdd = options.showAdd === undefined? dmeta.showAdd : options.showAdd; ","        ","        if(  forceRefresh) dmeta.spec.trigger = new Date(); // this     ","        return this;","    }","    AngooseQuery.prototype.get =   getter;","    return AngooseQuery;","});  ","             ","","function getter(obj, p){","    if(!p || !obj) return undefined;","    var p = p.split('.');","    var o = obj;","    for (var i = 0; i < p.length; i++){","        if(!o || typeof o != \"object\") return undefined;","        o = o[p[i]]","    } ","    return o;","}    ","","})();",""],"l":{"1":2,"4":2,"6":1,"7":0,"8":0,"9":0,"10":0,"12":0,"14":0,"15":0,"19":0,"20":0,"21":0,"22":0,"24":0,"25":0,"26":0,"27":0,"30":0,"31":0,"32":0,"33":0,"35":0,"36":0,"38":0,"39":0,"40":0,"42":0,"43":0,"45":0,"47":0,"48":0,"50":0,"51":0,"55":1,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"63":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/services/ui-routes.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/services/ui-routes.js","s":{"1":2,"2":0,"3":0,"4":1,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":1,"17":0,"18":0,"19":0,"20":1,"21":0,"22":0,"23":0,"24":0,"25":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":65},"end":{"line":1,"column":91}}},"2":{"name":"addRoutes","line":6,"loc":{"start":{"line":6,"column":4},"end":{"line":6,"column":30}}},"3":{"name":"fn","line":29,"loc":{"start":{"line":29,"column":4},"end":{"line":29,"column":27}}},"4":{"name":"customResolve","line":30,"loc":{"start":{"line":30,"column":15},"end":{"line":30,"column":45}}},"5":{"name":"resolveTemplate","line":36,"loc":{"start":{"line":36,"column":4},"end":{"line":36,"column":46}}},"6":{"name":"decamelcase","line":46,"loc":{"start":{"line":46,"column":4},"end":{"line":46,"column":31}}}},"statementMap":{"1":{"start":{"line":1,"column":1},"end":{"line":57,"column":4}},"2":{"start":{"line":2,"column":4},"end":{"line":2,"column":103}},"3":{"start":{"line":4,"column":4},"end":{"line":4,"column":27}},"4":{"start":{"line":6,"column":4},"end":{"line":23,"column":5}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":71}},"6":{"start":{"line":8,"column":8},"end":{"line":14,"column":85}},"7":{"start":{"line":17,"column":8},"end":{"line":17,"column":92}},"8":{"start":{"line":18,"column":8},"end":{"line":18,"column":95}},"9":{"start":{"line":19,"column":8},"end":{"line":19,"column":102}},"10":{"start":{"line":20,"column":8},"end":{"line":20,"column":100}},"11":{"start":{"line":21,"column":8},"end":{"line":21,"column":100}},"12":{"start":{"line":24,"column":4},"end":{"line":24,"column":25}},"13":{"start":{"line":25,"column":4},"end":{"line":25,"column":26}},"14":{"start":{"line":26,"column":4},"end":{"line":27,"column":54}},"15":{"start":{"line":27,"column":8},"end":{"line":27,"column":54}},"16":{"start":{"line":29,"column":4},"end":{"line":34,"column":5}},"17":{"start":{"line":30,"column":8},"end":{"line":33,"column":9}},"18":{"start":{"line":31,"column":12},"end":{"line":31,"column":92}},"19":{"start":{"line":32,"column":12},"end":{"line":32,"column":53}},"20":{"start":{"line":36,"column":4},"end":{"line":44,"column":5}},"21":{"start":{"line":39,"column":8},"end":{"line":39,"column":45}},"22":{"start":{"line":40,"column":8},"end":{"line":40,"column":55}},"23":{"start":{"line":41,"column":8},"end":{"line":41,"column":46}},"24":{"start":{"line":42,"column":8},"end":{"line":42,"column":122}},"25":{"start":{"line":43,"column":8},"end":{"line":43,"column":24}},"26":{"start":{"line":46,"column":4},"end":{"line":56,"column":5}},"27":{"start":{"line":48,"column":8},"end":{"line":48,"column":30}},"28":{"start":{"line":48,"column":18},"end":{"line":48,"column":30}},"29":{"start":{"line":49,"column":8},"end":{"line":49,"column":21}},"30":{"start":{"line":50,"column":8},"end":{"line":54,"column":9}},"31":{"start":{"line":51,"column":12},"end":{"line":51,"column":35}},"32":{"start":{"line":52,"column":12},"end":{"line":52,"column":61}},"33":{"start":{"line":52,"column":53},"end":{"line":52,"column":61}},"34":{"start":{"line":53,"column":12},"end":{"line":53,"column":21}},"35":{"start":{"line":55,"column":8},"end":{"line":55,"column":33}}},"branchMap":{"1":{"line":26,"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":26,"column":4}},{"start":{"line":26,"column":4},"end":{"line":26,"column":4}}]},"2":{"line":41,"type":"cond-expr","locations":[{"start":{"line":41,"column":34},"end":{"line":41,"column":40}},{"start":{"line":41,"column":41},"end":{"line":41,"column":45}}]},"3":{"line":42,"type":"cond-expr","locations":[{"start":{"line":42,"column":54},"end":{"line":42,"column":89}},{"start":{"line":42,"column":91},"end":{"line":42,"column":93}}]},"4":{"line":48,"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":48,"column":8}},{"start":{"line":48,"column":8},"end":{"line":48,"column":8}}]},"5":{"line":52,"type":"if","locations":[{"start":{"line":52,"column":12},"end":{"line":52,"column":12}},{"start":{"line":52,"column":12},"end":{"line":52,"column":12}}]},"6":{"line":52,"type":"binary-expr","locations":[{"start":{"line":52,"column":15},"end":{"line":52,"column":35}},{"start":{"line":52,"column":39},"end":{"line":52,"column":51}}]}},"code":[";angular.module('angoose.ui.services').config(['$routeProvider', function($routeProvider ) {","    AngooseClient.logger.debug(\"Configuring angoose forms routes\", AngooseClient.config('url-prefix'));","    ","    var prefix = '/deform';","    ","    function addRoutes(prefix){","        AngooseClient.logger.debug(\"adding routes for prefix\", prefix);","        $routeProvider.","        when(prefix+\"/:modelName/list-:customController\", {template: resolveTemplate('list')}).","        when(prefix+\"/:modelName/list\", {template: resolveTemplate('list')}).","        when(prefix+\"/:modelName/create\", {template:resolveTemplate('edit')}).","        when(prefix+\"/:modelName/update/:modelId\", {template:resolveTemplate('edit')}).","        when(prefix+\"/:modelName/edit/:modelId\", {template:resolveTemplate('edit')}).","        when(prefix+\"/:modelName/view/:modelId\", {template:resolveTemplate('view')});","        ","        // list/create","        $routeProvider.when(prefix+\"/:modelName/list/:customCtrl\", {template: fn('list') });","        $routeProvider.when(prefix+\"/:modelName/create/:customCtrl\", {template: fn('create')});","        $routeProvider.when(prefix+\"/:modelName/update/:customCtrl/:modelId\", {template: fn('edit')}); ","        $routeProvider.when(prefix+\"/:modelName/edit/:customCtrl/:modelId\", {template: fn('edit')});","        $routeProvider.when(prefix+\"/:modelName/view/:customCtrl/:modelId\", {template: fn('view')});","    ","    }","    addRoutes('/deform'); // deprecated","    addRoutes('/angoose');","    if('/angoose' !== AngooseClient.config('url-prefix'))","        addRoutes(AngooseClient.config('url-prefix'));","        ","    function fn(actionType){","        return function customResolve(params){","            var ctrl =decamelcase(params.modelName) +\"-\" +actionType+\"-\"+ params.customCtrl;","            return resolveTemplate(actionType, ctrl);","        }   ","    }","","    function resolveTemplate(name, customCtrl){","        //console.log(\"---------------- Resolving template for \",name)","        ","        var tmpName  = \"deform.\"+ name+\".tpl\"","        var contents =  $angooseTemplateCache(tmpName);","        name = 'create' == name ? 'edit':name;","        contents = \"<div ang-\" + name+   (customCtrl? \" ng-controller='\" + customCtrl+\"'\": \"\") +\">\"  + contents+ \"</div>\";","        return contents;","    }","    ","    function decamelcase (name){","        // convert ClientUser to client-user ","        if(!name) return name;","        var ret = \"\";","        for(var i=0;i<name.length;i++){","            var c = name.charAt(i);","            if(c.toLowerCase() != c && ret.length>0) ret+=\"-\"","            ret += c;","        }","        return ret.toLowerCase();","    }","}]);"],"l":{"1":2,"2":0,"4":0,"6":1,"7":0,"8":0,"17":0,"18":0,"19":0,"20":0,"21":0,"24":0,"25":0,"26":0,"27":0,"29":1,"30":0,"31":0,"32":0,"36":1,"39":0,"40":0,"41":0,"42":0,"43":0,"46":1,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"55":0}},"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/services/ui-service.js":{"path":"/home/travis/build/npmtest/node-npmtest-angoose/node_modules/angoose/extensions/angoose-ui/services/ui-service.js","s":{"1":2,"2":2,"3":0,"4":0,"5":1,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":2,"81":0,"82":0,"83":0,"84":0,"85":1,"86":0,"87":1,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":1,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":1,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":1,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":1,"130":0,"131":1,"132":0,"133":0,"134":0,"135":1,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":1,"146":0,"147":0,"148":0,"149":0,"150":1,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":1,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":1,"170":0,"171":1,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":1,"184":0,"185":0,"186":1,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":1,"195":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0,0,0],"41":[0,0],"42":[0,0],"43":[0,0],"44":[0,0],"45":[0,0],"46":[0,0,0,0],"47":[0,0,0,0],"48":[0,0],"49":[0,0],"50":[0,0],"51":[0,0],"52":[0,0],"53":[0,0,0],"54":[0,0],"55":[0,0],"56":[0,0],"57":[0,0],"58":[0,0],"59":[0,0],"60":[0,0],"61":[0,0],"62":[0,0],"63":[0,0],"64":[0,0],"65":[0,0],"66":[0,0],"67":[0,0],"68":[0,0],"69":[0,0],"70":[0,0]},"f":{"1":2,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":2},"end":{"line":1,"column":12}}},"2":{"name":"(anonymous_2)","line":3,"loc":{"start":{"line":3,"column":22},"end":{"line":3,"column":34}}},"3":{"name":"getFieldSchema","line":26,"loc":{"start":{"line":26,"column":4},"end":{"line":26,"column":34}}},"4":{"name":"(anonymous_4)","line":33,"loc":{"start":{"line":33,"column":16},"end":{"line":33,"column":99}}},"5":{"name":"(anonymous_5)","line":34,"loc":{"start":{"line":34,"column":40},"end":{"line":34,"column":63}}},"6":{"name":"(anonymous_6)","line":39,"loc":{"start":{"line":39,"column":35},"end":{"line":39,"column":57}}},"7":{"name":"(anonymous_7)","line":48,"loc":{"start":{"line":48,"column":79},"end":{"line":48,"column":98}}},"8":{"name":"(anonymous_8)","line":51,"loc":{"start":{"line":51,"column":19},"end":{"line":51,"column":38}}},"9":{"name":"(anonymous_9)","line":60,"loc":{"start":{"line":60,"column":33},"end":{"line":60,"column":58}}},"10":{"name":"(anonymous_10)","line":68,"loc":{"start":{"line":68,"column":54},"end":{"line":68,"column":79}}},"11":{"name":"resolveTemplate","line":77,"loc":{"start":{"line":77,"column":38},"end":{"line":77,"column":108}}},"12":{"name":"(anonymous_12)","line":120,"loc":{"start":{"line":120,"column":40},"end":{"line":120,"column":99}}},"13":{"name":"(anonymous_13)","line":122,"loc":{"start":{"line":122,"column":88},"end":{"line":122,"column":100}}},"14":{"name":"(anonymous_14)","line":129,"loc":{"start":{"line":129,"column":19},"end":{"line":129,"column":32}}},"15":{"name":"(anonymous_15)","line":135,"loc":{"start":{"line":135,"column":18},"end":{"line":135,"column":37}}},"16":{"name":"(anonymous_16)","line":149,"loc":{"start":{"line":149,"column":133},"end":{"line":149,"column":158}}},"17":{"name":"(anonymous_17)","line":150,"loc":{"start":{"line":150,"column":29},"end":{"line":150,"column":43}}},"18":{"name":"(anonymous_18)","line":153,"loc":{"start":{"line":153,"column":28},"end":{"line":153,"column":42}}},"19":{"name":"resolveAttribute","line":162,"loc":{"start":{"line":162,"column":0},"end":{"line":162,"column":62}}},"20":{"name":"filterPath","line":165,"loc":{"start":{"line":165,"column":0},"end":{"line":165,"column":39}}},"21":{"name":"setter","line":176,"loc":{"start":{"line":176,"column":0},"end":{"line":176,"column":31}}},"22":{"name":"getter","line":190,"loc":{"start":{"line":190,"column":0},"end":{"line":190,"column":23}}},"23":{"name":"getRef","line":200,"loc":{"start":{"line":200,"column":0},"end":{"line":200,"column":27}}},"24":{"name":"isCustomRef","line":222,"loc":{"start":{"line":222,"column":0},"end":{"line":222,"column":32}}},"25":{"name":"getCustomRefKeyfieldPath","line":226,"loc":{"start":{"line":226,"column":0},"end":{"line":226,"column":45}}},"26":{"name":"getCustomRefValue","line":230,"loc":{"start":{"line":230,"column":0},"end":{"line":230,"column":48}}},"27":{"name":"apiCamelcase","line":240,"loc":{"start":{"line":240,"column":0},"end":{"line":240,"column":27}}},"28":{"name":"camelcase","line":245,"loc":{"start":{"line":245,"column":0},"end":{"line":245,"column":24}}},"29":{"name":"decamelcase","line":255,"loc":{"start":{"line":255,"column":0},"end":{"line":255,"column":26}}},"30":{"name":"trim","line":266,"loc":{"start":{"line":266,"column":0},"end":{"line":266,"column":18}}},"31":{"name":"formatSortable","line":269,"loc":{"start":{"line":269,"column":0},"end":{"line":269,"column":33}}},"32":{"name":"getPathSchema","line":282,"loc":{"start":{"line":282,"column":0},"end":{"line":282,"column":40}}},"33":{"name":"debounce","line":297,"loc":{"start":{"line":297,"column":0},"end":{"line":297,"column":41}}},"34":{"name":"(anonymous_34)","line":300,"loc":{"start":{"line":300,"column":11},"end":{"line":300,"column":23}}},"35":{"name":"(anonymous_35)","line":303,"loc":{"start":{"line":303,"column":29},"end":{"line":303,"column":40}}},"36":{"name":"extractTemplate","line":311,"loc":{"start":{"line":311,"column":0},"end":{"line":311,"column":27}}}},"statementMap":{"1":{"start":{"line":1,"column":1},"end":{"line":318,"column":5}},"2":{"start":{"line":3,"column":0},"end":{"line":147,"column":2}},"3":{"start":{"line":4,"column":4},"end":{"line":6,"column":6}},"4":{"start":{"line":7,"column":4},"end":{"line":25,"column":5}},"5":{"start":{"line":26,"column":4},"end":{"line":32,"column":5}},"6":{"start":{"line":27,"column":8},"end":{"line":27,"column":55}},"7":{"start":{"line":27,"column":30},"end":{"line":27,"column":55}},"8":{"start":{"line":28,"column":8},"end":{"line":28,"column":36}},"9":{"start":{"line":28,"column":24},"end":{"line":28,"column":36}},"10":{"start":{"line":29,"column":8},"end":{"line":29,"column":70}},"11":{"start":{"line":30,"column":8},"end":{"line":30,"column":81}},"12":{"start":{"line":31,"column":8},"end":{"line":31,"column":60}},"13":{"start":{"line":33,"column":4},"end":{"line":134,"column":6}},"14":{"start":{"line":34,"column":12},"end":{"line":38,"column":13}},"15":{"start":{"line":35,"column":16},"end":{"line":35,"column":67}},"16":{"start":{"line":36,"column":16},"end":{"line":36,"column":71}},"17":{"start":{"line":37,"column":16},"end":{"line":37,"column":57}},"18":{"start":{"line":39,"column":12},"end":{"line":55,"column":14}},"19":{"start":{"line":40,"column":16},"end":{"line":40,"column":70}},"20":{"start":{"line":41,"column":16},"end":{"line":41,"column":42}},"21":{"start":{"line":42,"column":16},"end":{"line":42,"column":63}},"22":{"start":{"line":43,"column":16},"end":{"line":46,"column":17}},"23":{"start":{"line":44,"column":20},"end":{"line":44,"column":61}},"24":{"start":{"line":45,"column":20},"end":{"line":45,"column":44}},"25":{"start":{"line":47,"column":16},"end":{"line":47,"column":77}},"26":{"start":{"line":48,"column":16},"end":{"line":54,"column":19}},"27":{"start":{"line":50,"column":18},"end":{"line":50,"column":56}},"28":{"start":{"line":52,"column":18},"end":{"line":52,"column":73}},"29":{"start":{"line":60,"column":12},"end":{"line":67,"column":14}},"30":{"start":{"line":62,"column":16},"end":{"line":62,"column":45}},"31":{"start":{"line":63,"column":16},"end":{"line":64,"column":55}},"32":{"start":{"line":64,"column":20},"end":{"line":64,"column":55}},"33":{"start":{"line":65,"column":16},"end":{"line":65,"column":41}},"34":{"start":{"line":66,"column":16},"end":{"line":66,"column":32}},"35":{"start":{"line":68,"column":12},"end":{"line":75,"column":14}},"36":{"start":{"line":70,"column":16},"end":{"line":70,"column":46}},"37":{"start":{"line":71,"column":16},"end":{"line":72,"column":57}},"38":{"start":{"line":72,"column":20},"end":{"line":72,"column":57}},"39":{"start":{"line":73,"column":16},"end":{"line":73,"column":42}},"40":{"start":{"line":74,"column":16},"end":{"line":74,"column":33}},"41":{"start":{"line":77,"column":12},"end":{"line":119,"column":14}},"42":{"start":{"line":87,"column":16},"end":{"line":87,"column":45}},"43":{"start":{"line":88,"column":16},"end":{"line":88,"column":60}},"44":{"start":{"line":89,"column":16},"end":{"line":89,"column":58}},"45":{"start":{"line":90,"column":16},"end":{"line":90,"column":48}},"46":{"start":{"line":92,"column":16},"end":{"line":92,"column":42}},"47":{"start":{"line":94,"column":16},"end":{"line":94,"column":48}},"48":{"start":{"line":94,"column":36},"end":{"line":94,"column":48}},"49":{"start":{"line":96,"column":16},"end":{"line":100,"column":17}},"50":{"start":{"line":98,"column":20},"end":{"line":98,"column":87}},"51":{"start":{"line":99,"column":20},"end":{"line":99,"column":45}},"52":{"start":{"line":101,"column":16},"end":{"line":101,"column":28}},"53":{"start":{"line":102,"column":16},"end":{"line":116,"column":17}},"54":{"start":{"line":104,"column":20},"end":{"line":104,"column":71}},"55":{"start":{"line":105,"column":20},"end":{"line":105,"column":51}},"56":{"start":{"line":107,"column":21},"end":{"line":116,"column":17}},"57":{"start":{"line":109,"column":20},"end":{"line":109,"column":53}},"58":{"start":{"line":110,"column":20},"end":{"line":110,"column":54}},"59":{"start":{"line":114,"column":20},"end":{"line":114,"column":101}},"60":{"start":{"line":115,"column":20},"end":{"line":115,"column":28}},"61":{"start":{"line":117,"column":16},"end":{"line":117,"column":37}},"62":{"start":{"line":118,"column":16},"end":{"line":118,"column":40}},"63":{"start":{"line":120,"column":12},"end":{"line":132,"column":13}},"64":{"start":{"line":121,"column":16},"end":{"line":121,"column":90}},"65":{"start":{"line":122,"column":16},"end":{"line":131,"column":19}},"66":{"start":{"line":123,"column":20},"end":{"line":123,"column":122}},"67":{"start":{"line":124,"column":20},"end":{"line":128,"column":21}},"68":{"start":{"line":125,"column":24},"end":{"line":125,"column":58}},"69":{"start":{"line":126,"column":24},"end":{"line":126,"column":44}},"70":{"start":{"line":127,"column":24},"end":{"line":127,"column":45}},"71":{"start":{"line":130,"column":20},"end":{"line":130,"column":77}},"72":{"start":{"line":133,"column":12},"end":{"line":133,"column":27}},"73":{"start":{"line":135,"column":4},"end":{"line":142,"column":6}},"74":{"start":{"line":136,"column":8},"end":{"line":141,"column":9}},"75":{"start":{"line":137,"column":12},"end":{"line":137,"column":55}},"76":{"start":{"line":138,"column":13},"end":{"line":141,"column":9}},"77":{"start":{"line":139,"column":12},"end":{"line":139,"column":66}},"78":{"start":{"line":139,"column":35},"end":{"line":139,"column":66}},"79":{"start":{"line":140,"column":12},"end":{"line":140,"column":40}},"80":{"start":{"line":149,"column":0},"end":{"line":156,"column":4}},"81":{"start":{"line":150,"column":4},"end":{"line":152,"column":6}},"82":{"start":{"line":151,"column":8},"end":{"line":151,"column":43}},"83":{"start":{"line":153,"column":4},"end":{"line":155,"column":5}},"84":{"start":{"line":154,"column":8},"end":{"line":154,"column":42}},"85":{"start":{"line":162,"column":0},"end":{"line":164,"column":1}},"86":{"start":{"line":163,"column":4},"end":{"line":163,"column":116}},"87":{"start":{"line":165,"column":0},"end":{"line":175,"column":1}},"88":{"start":{"line":167,"column":4},"end":{"line":167,"column":52}},"89":{"start":{"line":167,"column":40},"end":{"line":167,"column":52}},"90":{"start":{"line":168,"column":4},"end":{"line":168,"column":88}},"91":{"start":{"line":168,"column":76},"end":{"line":168,"column":88}},"92":{"start":{"line":169,"column":4},"end":{"line":169,"column":58}},"93":{"start":{"line":169,"column":46},"end":{"line":169,"column":58}},"94":{"start":{"line":171,"column":4},"end":{"line":173,"column":5}},"95":{"start":{"line":172,"column":8},"end":{"line":172,"column":19}},"96":{"start":{"line":174,"column":4},"end":{"line":174,"column":17}},"97":{"start":{"line":176,"column":0},"end":{"line":189,"column":1}},"98":{"start":{"line":177,"column":4},"end":{"line":177,"column":30}},"99":{"start":{"line":177,"column":23},"end":{"line":177,"column":30}},"100":{"start":{"line":178,"column":5},"end":{"line":178,"column":36}},"101":{"start":{"line":179,"column":6},"end":{"line":179,"column":20}},"102":{"start":{"line":180,"column":6},"end":{"line":188,"column":7}},"103":{"start":{"line":181,"column":10},"end":{"line":185,"column":11}},"104":{"start":{"line":183,"column":14},"end":{"line":183,"column":36}},"105":{"start":{"line":184,"column":14},"end":{"line":184,"column":21}},"106":{"start":{"line":186,"column":10},"end":{"line":186,"column":48}},"107":{"start":{"line":187,"column":10},"end":{"line":187,"column":37}},"108":{"start":{"line":190,"column":0},"end":{"line":199,"column":1}},"109":{"start":{"line":191,"column":4},"end":{"line":191,"column":36}},"110":{"start":{"line":191,"column":19},"end":{"line":191,"column":36}},"111":{"start":{"line":192,"column":4},"end":{"line":192,"column":25}},"112":{"start":{"line":193,"column":4},"end":{"line":193,"column":16}},"113":{"start":{"line":194,"column":4},"end":{"line":197,"column":5}},"114":{"start":{"line":195,"column":8},"end":{"line":195,"column":56}},"115":{"start":{"line":195,"column":39},"end":{"line":195,"column":56}},"116":{"start":{"line":196,"column":8},"end":{"line":196,"column":19}},"117":{"start":{"line":198,"column":4},"end":{"line":198,"column":13}},"118":{"start":{"line":200,"column":0},"end":{"line":221,"column":1}},"119":{"start":{"line":201,"column":4},"end":{"line":201,"column":34}},"120":{"start":{"line":204,"column":4},"end":{"line":205,"column":32}},"121":{"start":{"line":205,"column":8},"end":{"line":205,"column":32}},"122":{"start":{"line":207,"column":4},"end":{"line":207,"column":70}},"123":{"start":{"line":207,"column":54},"end":{"line":207,"column":70}},"124":{"start":{"line":210,"column":4},"end":{"line":213,"column":5}},"125":{"start":{"line":212,"column":7},"end":{"line":212,"column":37}},"126":{"start":{"line":215,"column":4},"end":{"line":218,"column":5}},"127":{"start":{"line":217,"column":8},"end":{"line":217,"column":45}},"128":{"start":{"line":220,"column":4},"end":{"line":220,"column":16}},"129":{"start":{"line":222,"column":0},"end":{"line":224,"column":1}},"130":{"start":{"line":223,"column":4},"end":{"line":223,"column":130}},"131":{"start":{"line":226,"column":0},"end":{"line":229,"column":1}},"132":{"start":{"line":227,"column":4},"end":{"line":227,"column":50}},"133":{"start":{"line":227,"column":33},"end":{"line":227,"column":50}},"134":{"start":{"line":228,"column":4},"end":{"line":228,"column":85}},"135":{"start":{"line":230,"column":0},"end":{"line":238,"column":1}},"136":{"start":{"line":231,"column":4},"end":{"line":231,"column":52}},"137":{"start":{"line":232,"column":4},"end":{"line":232,"column":31}},"138":{"start":{"line":232,"column":14},"end":{"line":232,"column":31}},"139":{"start":{"line":233,"column":4},"end":{"line":233,"column":38}},"140":{"start":{"line":234,"column":4},"end":{"line":235,"column":36}},"141":{"start":{"line":235,"column":8},"end":{"line":235,"column":36}},"142":{"start":{"line":236,"column":4},"end":{"line":236,"column":91}},"143":{"start":{"line":236,"column":42},"end":{"line":236,"column":91}},"144":{"start":{"line":237,"column":4},"end":{"line":237,"column":16}},"145":{"start":{"line":240,"column":0},"end":{"line":244,"column":1}},"146":{"start":{"line":241,"column":4},"end":{"line":241,"column":26}},"147":{"start":{"line":241,"column":14},"end":{"line":241,"column":26}},"148":{"start":{"line":242,"column":4},"end":{"line":242,"column":31}},"149":{"start":{"line":243,"column":4},"end":{"line":243,"column":65}},"150":{"start":{"line":245,"column":0},"end":{"line":254,"column":1}},"151":{"start":{"line":247,"column":4},"end":{"line":247,"column":26}},"152":{"start":{"line":247,"column":14},"end":{"line":247,"column":26}},"153":{"start":{"line":248,"column":4},"end":{"line":248,"column":32}},"154":{"start":{"line":249,"column":4},"end":{"line":249,"column":14}},"155":{"start":{"line":250,"column":4},"end":{"line":252,"column":5}},"156":{"start":{"line":251,"column":8},"end":{"line":251,"column":111}},"157":{"start":{"line":251,"column":42},"end":{"line":251,"column":111}},"158":{"start":{"line":253,"column":4},"end":{"line":253,"column":16}},"159":{"start":{"line":255,"column":0},"end":{"line":265,"column":1}},"160":{"start":{"line":257,"column":4},"end":{"line":257,"column":26}},"161":{"start":{"line":257,"column":14},"end":{"line":257,"column":26}},"162":{"start":{"line":258,"column":4},"end":{"line":258,"column":17}},"163":{"start":{"line":259,"column":4},"end":{"line":263,"column":5}},"164":{"start":{"line":260,"column":8},"end":{"line":260,"column":31}},"165":{"start":{"line":261,"column":8},"end":{"line":261,"column":57}},"166":{"start":{"line":261,"column":49},"end":{"line":261,"column":57}},"167":{"start":{"line":262,"column":8},"end":{"line":262,"column":17}},"168":{"start":{"line":264,"column":4},"end":{"line":264,"column":29}},"169":{"start":{"line":266,"column":0},"end":{"line":268,"column":1}},"170":{"start":{"line":267,"column":4},"end":{"line":267,"column":56}},"171":{"start":{"line":269,"column":0},"end":{"line":280,"column":1}},"172":{"start":{"line":270,"column":4},"end":{"line":270,"column":65}},"173":{"start":{"line":270,"column":49},"end":{"line":270,"column":65}},"174":{"start":{"line":271,"column":4},"end":{"line":271,"column":48}},"175":{"start":{"line":271,"column":32},"end":{"line":271,"column":48}},"176":{"start":{"line":272,"column":4},"end":{"line":272,"column":65}},"177":{"start":{"line":273,"column":4},"end":{"line":273,"column":36}},"178":{"start":{"line":274,"column":4},"end":{"line":275,"column":24}},"179":{"start":{"line":275,"column":8},"end":{"line":275,"column":24}},"180":{"start":{"line":276,"column":4},"end":{"line":278,"column":5}},"181":{"start":{"line":277,"column":8},"end":{"line":277,"column":75}},"182":{"start":{"line":279,"column":4},"end":{"line":279,"column":20}},"183":{"start":{"line":282,"column":0},"end":{"line":285,"column":1}},"184":{"start":{"line":283,"column":4},"end":{"line":283,"column":40}},"185":{"start":{"line":284,"column":4},"end":{"line":284,"column":56}},"186":{"start":{"line":297,"column":0},"end":{"line":307,"column":1}},"187":{"start":{"line":298,"column":4},"end":{"line":298,"column":27}},"188":{"start":{"line":299,"column":4},"end":{"line":299,"column":16}},"189":{"start":{"line":300,"column":4},"end":{"line":306,"column":6}},"190":{"start":{"line":301,"column":8},"end":{"line":301,"column":29}},"191":{"start":{"line":302,"column":8},"end":{"line":302,"column":30}},"192":{"start":{"line":303,"column":8},"end":{"line":305,"column":24}},"193":{"start":{"line":304,"column":12},"end":{"line":304,"column":32}},"194":{"start":{"line":311,"column":0},"end":{"line":315,"column":1}},"195":{"start":{"line":312,"column":6},"end":{"line":314,"column":37}}},"branchMap":{"1":{"line":27,"type":"if","locations":[{"start":{"line":27,"column":8},"end":{"line":27,"column":8}},{"start":{"line":27,"column":8},"end":{"line":27,"column":8}}]},"2":{"line":28,"type":"if","locations":[{"start":{"line":28,"column":8},"end":{"line":28,"column":8}},{"start":{"line":28,"column":8},"end":{"line":28,"column":8}}]},"3":{"line":29,"type":"binary-expr","locations":[{"start":{"line":29,"column":25},"end":{"line":29,"column":39}},{"start":{"line":29,"column":43},"end":{"line":29,"column":69}}]},"4":{"line":30,"type":"binary-expr","locations":[{"start":{"line":30,"column":26},"end":{"line":30,"column":43}},{"start":{"line":30,"column":48},"end":{"line":30,"column":58}},{"start":{"line":30,"column":62},"end":{"line":30,"column":79}}]},"5":{"line":31,"type":"binary-expr","locations":[{"start":{"line":31,"column":15},"end":{"line":31,"column":26}},{"start":{"line":31,"column":30},"end":{"line":31,"column":59}}]},"6":{"line":43,"type":"if","locations":[{"start":{"line":43,"column":16},"end":{"line":43,"column":16}},{"start":{"line":43,"column":16},"end":{"line":43,"column":16}}]},"7":{"line":63,"type":"if","locations":[{"start":{"line":63,"column":16},"end":{"line":63,"column":16}},{"start":{"line":63,"column":16},"end":{"line":63,"column":16}}]},"8":{"line":71,"type":"if","locations":[{"start":{"line":71,"column":16},"end":{"line":71,"column":16}},{"start":{"line":71,"column":16},"end":{"line":71,"column":16}}]},"9":{"line":88,"type":"binary-expr","locations":[{"start":{"line":88,"column":31},"end":{"line":88,"column":37}},{"start":{"line":88,"column":41},"end":{"line":88,"column":59}}]},"10":{"line":89,"type":"binary-expr","locations":[{"start":{"line":89,"column":26},"end":{"line":89,"column":32}},{"start":{"line":89,"column":36},"end":{"line":89,"column":57}}]},"11":{"line":90,"type":"binary-expr","locations":[{"start":{"line":90,"column":22},"end":{"line":90,"column":25}},{"start":{"line":90,"column":29},"end":{"line":90,"column":47}}]},"12":{"line":94,"type":"if","locations":[{"start":{"line":94,"column":16},"end":{"line":94,"column":16}},{"start":{"line":94,"column":16},"end":{"line":94,"column":16}}]},"13":{"line":94,"type":"binary-expr","locations":[{"start":{"line":94,"column":19},"end":{"line":94,"column":22}},{"start":{"line":94,"column":26},"end":{"line":94,"column":34}}]},"14":{"line":96,"type":"if","locations":[{"start":{"line":96,"column":16},"end":{"line":96,"column":16}},{"start":{"line":96,"column":16},"end":{"line":96,"column":16}}]},"15":{"line":96,"type":"binary-expr","locations":[{"start":{"line":96,"column":19},"end":{"line":96,"column":26}},{"start":{"line":96,"column":30},"end":{"line":96,"column":39}},{"start":{"line":96,"column":43},"end":{"line":96,"column":47}}]},"16":{"line":102,"type":"if","locations":[{"start":{"line":102,"column":16},"end":{"line":102,"column":16}},{"start":{"line":102,"column":16},"end":{"line":102,"column":16}}]},"17":{"line":107,"type":"if","locations":[{"start":{"line":107,"column":21},"end":{"line":107,"column":21}},{"start":{"line":107,"column":21},"end":{"line":107,"column":21}}]},"18":{"line":124,"type":"if","locations":[{"start":{"line":124,"column":20},"end":{"line":124,"column":20}},{"start":{"line":124,"column":20},"end":{"line":124,"column":20}}]},"19":{"line":136,"type":"if","locations":[{"start":{"line":136,"column":8},"end":{"line":136,"column":8}},{"start":{"line":136,"column":8},"end":{"line":136,"column":8}}]},"20":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":13},"end":{"line":138,"column":13}},{"start":{"line":138,"column":13},"end":{"line":138,"column":13}}]},"21":{"line":139,"type":"if","locations":[{"start":{"line":139,"column":12},"end":{"line":139,"column":12}},{"start":{"line":139,"column":12},"end":{"line":139,"column":12}}]},"22":{"line":163,"type":"binary-expr","locations":[{"start":{"line":163,"column":11},"end":{"line":163,"column":67}},{"start":{"line":163,"column":72},"end":{"line":163,"column":98}},{"start":{"line":163,"column":103},"end":{"line":163,"column":115}}]},"23":{"line":163,"type":"cond-expr","locations":[{"start":{"line":163,"column":33},"end":{"line":163,"column":45}},{"start":{"line":163,"column":47},"end":{"line":163,"column":59}}]},"24":{"line":167,"type":"if","locations":[{"start":{"line":167,"column":4},"end":{"line":167,"column":4}},{"start":{"line":167,"column":4},"end":{"line":167,"column":4}}]},"25":{"line":168,"type":"if","locations":[{"start":{"line":168,"column":4},"end":{"line":168,"column":4}},{"start":{"line":168,"column":4},"end":{"line":168,"column":4}}]},"26":{"line":168,"type":"binary-expr","locations":[{"start":{"line":168,"column":7},"end":{"line":168,"column":13}},{"start":{"line":168,"column":17},"end":{"line":168,"column":31}},{"start":{"line":168,"column":35},"end":{"line":168,"column":74}}]},"27":{"line":169,"type":"if","locations":[{"start":{"line":169,"column":4},"end":{"line":169,"column":4}},{"start":{"line":169,"column":4},"end":{"line":169,"column":4}}]},"28":{"line":169,"type":"binary-expr","locations":[{"start":{"line":169,"column":7},"end":{"line":169,"column":26}},{"start":{"line":169,"column":30},"end":{"line":169,"column":44}}]},"29":{"line":171,"type":"if","locations":[{"start":{"line":171,"column":4},"end":{"line":171,"column":4}},{"start":{"line":171,"column":4},"end":{"line":171,"column":4}}]},"30":{"line":177,"type":"if","locations":[{"start":{"line":177,"column":4},"end":{"line":177,"column":4}},{"start":{"line":177,"column":4},"end":{"line":177,"column":4}}]},"31":{"line":177,"type":"binary-expr","locations":[{"start":{"line":177,"column":7},"end":{"line":177,"column":12}},{"start":{"line":177,"column":16},"end":{"line":177,"column":20}}]},"32":{"line":181,"type":"if","locations":[{"start":{"line":181,"column":10},"end":{"line":181,"column":10}},{"start":{"line":181,"column":10},"end":{"line":181,"column":10}}]},"33":{"line":186,"type":"binary-expr","locations":[{"start":{"line":186,"column":27},"end":{"line":186,"column":41}},{"start":{"line":186,"column":45},"end":{"line":186,"column":47}}]},"34":{"line":187,"type":"binary-expr","locations":[{"start":{"line":187,"column":16},"end":{"line":187,"column":30}},{"start":{"line":187,"column":34},"end":{"line":187,"column":36}}]},"35":{"line":191,"type":"if","locations":[{"start":{"line":191,"column":4},"end":{"line":191,"column":4}},{"start":{"line":191,"column":4},"end":{"line":191,"column":4}}]},"36":{"line":191,"type":"binary-expr","locations":[{"start":{"line":191,"column":7},"end":{"line":191,"column":9}},{"start":{"line":191,"column":13},"end":{"line":191,"column":17}}]},"37":{"line":195,"type":"if","locations":[{"start":{"line":195,"column":8},"end":{"line":195,"column":8}},{"start":{"line":195,"column":8},"end":{"line":195,"column":8}}]},"38":{"line":195,"type":"binary-expr","locations":[{"start":{"line":195,"column":11},"end":{"line":195,"column":13}},{"start":{"line":195,"column":17},"end":{"line":195,"column":37}}]},"39":{"line":204,"type":"if","locations":[{"start":{"line":204,"column":4},"end":{"line":204,"column":4}},{"start":{"line":204,"column":4},"end":{"line":204,"column":4}}]},"40":{"line":204,"type":"binary-expr","locations":[{"start":{"line":204,"column":8},"end":{"line":204,"column":32}},{"start":{"line":204,"column":36},"end":{"line":204,"column":54}},{"start":{"line":204,"column":60},"end":{"line":204,"column":72}},{"start":{"line":204,"column":76},"end":{"line":204,"column":92}}]},"41":{"line":207,"type":"if","locations":[{"start":{"line":207,"column":4},"end":{"line":207,"column":4}},{"start":{"line":207,"column":4},"end":{"line":207,"column":4}}]},"42":{"line":207,"type":"binary-expr","locations":[{"start":{"line":207,"column":7},"end":{"line":207,"column":40}},{"start":{"line":207,"column":44},"end":{"line":207,"column":52}}]},"43":{"line":210,"type":"if","locations":[{"start":{"line":210,"column":4},"end":{"line":210,"column":4}},{"start":{"line":210,"column":4},"end":{"line":210,"column":4}}]},"44":{"line":210,"type":"binary-expr","locations":[{"start":{"line":210,"column":7},"end":{"line":210,"column":29}},{"start":{"line":210,"column":33},"end":{"line":210,"column":67}}]},"45":{"line":215,"type":"if","locations":[{"start":{"line":215,"column":4},"end":{"line":215,"column":4}},{"start":{"line":215,"column":4},"end":{"line":215,"column":4}}]},"46":{"line":215,"type":"binary-expr","locations":[{"start":{"line":215,"column":7},"end":{"line":215,"column":32}},{"start":{"line":215,"column":36},"end":{"line":215,"column":53}},{"start":{"line":216,"column":12},"end":{"line":216,"column":53}},{"start":{"line":216,"column":57},"end":{"line":216,"column":86}}]},"47":{"line":223,"type":"binary-expr","locations":[{"start":{"line":223,"column":11},"end":{"line":223,"column":21}},{"start":{"line":223,"column":26},"end":{"line":223,"column":60}},{"start":{"line":223,"column":65},"end":{"line":223,"column":82}},{"start":{"line":223,"column":86},"end":{"line":223,"column":127}}]},"48":{"line":227,"type":"if","locations":[{"start":{"line":227,"column":4},"end":{"line":227,"column":4}},{"start":{"line":227,"column":4},"end":{"line":227,"column":4}}]},"49":{"line":228,"type":"binary-expr","locations":[{"start":{"line":228,"column":35},"end":{"line":228,"column":73}},{"start":{"line":228,"column":77},"end":{"line":228,"column":83}}]},"50":{"line":232,"type":"if","locations":[{"start":{"line":232,"column":4},"end":{"line":232,"column":4}},{"start":{"line":232,"column":4},"end":{"line":232,"column":4}}]},"51":{"line":234,"type":"if","locations":[{"start":{"line":234,"column":4},"end":{"line":234,"column":4}},{"start":{"line":234,"column":4},"end":{"line":234,"column":4}}]},"52":{"line":236,"type":"if","locations":[{"start":{"line":236,"column":4},"end":{"line":236,"column":4}},{"start":{"line":236,"column":4},"end":{"line":236,"column":4}}]},"53":{"line":236,"type":"binary-expr","locations":[{"start":{"line":236,"column":7},"end":{"line":236,"column":11}},{"start":{"line":236,"column":16},"end":{"line":236,"column":26}},{"start":{"line":236,"column":30},"end":{"line":236,"column":39}}]},"54":{"line":236,"type":"binary-expr","locations":[{"start":{"line":236,"column":50},"end":{"line":236,"column":60}},{"start":{"line":236,"column":64},"end":{"line":236,"column":66}}]},"55":{"line":236,"type":"binary-expr","locations":[{"start":{"line":236,"column":74},"end":{"line":236,"column":83}},{"start":{"line":236,"column":87},"end":{"line":236,"column":89}}]},"56":{"line":241,"type":"if","locations":[{"start":{"line":241,"column":4},"end":{"line":241,"column":4}},{"start":{"line":241,"column":4},"end":{"line":241,"column":4}}]},"57":{"line":247,"type":"if","locations":[{"start":{"line":247,"column":4},"end":{"line":247,"column":4}},{"start":{"line":247,"column":4},"end":{"line":247,"column":4}}]},"58":{"line":251,"type":"if","locations":[{"start":{"line":251,"column":8},"end":{"line":251,"column":8}},{"start":{"line":251,"column":8},"end":{"line":251,"column":8}}]},"59":{"line":251,"type":"binary-expr","locations":[{"start":{"line":251,"column":11},"end":{"line":251,"column":19}},{"start":{"line":251,"column":23},"end":{"line":251,"column":40}}]},"60":{"line":257,"type":"if","locations":[{"start":{"line":257,"column":4},"end":{"line":257,"column":4}},{"start":{"line":257,"column":4},"end":{"line":257,"column":4}}]},"61":{"line":261,"type":"if","locations":[{"start":{"line":261,"column":8},"end":{"line":261,"column":8}},{"start":{"line":261,"column":8},"end":{"line":261,"column":8}}]},"62":{"line":261,"type":"binary-expr","locations":[{"start":{"line":261,"column":11},"end":{"line":261,"column":31}},{"start":{"line":261,"column":35},"end":{"line":261,"column":47}}]},"63":{"line":267,"type":"cond-expr","locations":[{"start":{"line":267,"column":16},"end":{"line":267,"column":50}},{"start":{"line":267,"column":52},"end":{"line":267,"column":55}}]},"64":{"line":270,"type":"if","locations":[{"start":{"line":270,"column":4},"end":{"line":270,"column":4}},{"start":{"line":270,"column":4},"end":{"line":270,"column":4}}]},"65":{"line":270,"type":"binary-expr","locations":[{"start":{"line":270,"column":7},"end":{"line":270,"column":16}},{"start":{"line":270,"column":20},"end":{"line":270,"column":47}}]},"66":{"line":271,"type":"if","locations":[{"start":{"line":271,"column":4},"end":{"line":271,"column":4}},{"start":{"line":271,"column":4},"end":{"line":271,"column":4}}]},"67":{"line":274,"type":"if","locations":[{"start":{"line":274,"column":4},"end":{"line":274,"column":4}},{"start":{"line":274,"column":4},"end":{"line":274,"column":4}}]},"68":{"line":276,"type":"if","locations":[{"start":{"line":276,"column":4},"end":{"line":276,"column":4}},{"start":{"line":276,"column":4},"end":{"line":276,"column":4}}]},"69":{"line":284,"type":"binary-expr","locations":[{"start":{"line":284,"column":11},"end":{"line":284,"column":28}},{"start":{"line":284,"column":32},"end":{"line":284,"column":55}}]},"70":{"line":298,"type":"binary-expr","locations":[{"start":{"line":298,"column":10},"end":{"line":298,"column":13}},{"start":{"line":298,"column":17},"end":{"line":298,"column":26}}]}},"code":[";(function(){","    ","var serviceProvider = function () {","    var uiOptions ={","        '$query-error': 'throw'  // throw | alert | none, used to specify what happens when there is error loading data","    };","    var service = {","            getReference: getRef,","            getPathSchema:getPathSchema,","            debounce:debounce,","            //initQuery:initQuery,","            //defineQuery:initQuery,","            isCustomRef:isCustomRef,","            apiCamelcase:apiCamelcase,","            camelcase:camelcase,","            decamelcase:decamelcase,","            extractTemplate:extractTemplate,","            getter:getter,","            setter:setter,","            getCustomRefKeyfieldPath:getCustomRefKeyfieldPath,","            getCustomRefValue:getCustomRefValue,","            filterPath:filterPath,","            resolveAttribute: resolveAttribute, ","            getFieldSchema:getFieldSchema ","    }","    function getFieldSchema(scope){","        if(scope.fieldSchema) return scope.fieldSchema;","        if(!scope.path) return null;","        var modelClass = scope.instance && scope.instance.constructor;","        var modelSchema = scope.modelSchema || (modelClass && modelClass.schema);","        return modelSchema && modelSchema.paths[scope.path];","    }","    this.$get = function ($http, $templateCache, $q,$compile,  AngooseForm, AngooseQuery, angoose) {","            service.loadFieldTemplate = function(fieldTemplate){","                fieldTemplate = fieldTemplate.replace(\".html\", \"\");","                fieldTemplate = 'deform.field.' + fieldTemplate+\".tpl\";","                return this.loadTemplate( fieldTemplate);","            }","            service.loadTemplate = function(templateName){","                angoose.logger.trace(\"Loading template\", templateName)","                var deferred = $q.defer();","                var html = $angooseTemplateCache(templateName);","                if(html){","                    deferred.resolve( angular.element(html));","                    return deferred.promise;","                }","                angoose.logger.trace(\"$http loading template\", templateName);","                return $http.get(templateName, {cache:  $templateCache }).then(function(response) {","                    //console.log(response.data, \"got template $http\")","                  return angular.element(response.data);","                }, function(response) {","                  throw new Error('Template not found: ' + templateName);","                  //console && console.error(\"teamplte note found\", templateName)","                });","            };","            // service.resolveTemplateUrl = function(templateName){","                // var templateUrl = deformOptions.templateDir +\"/\"+ templateName +\".tpl.html\";","                // return templateUrl;","            // }","            service.defineForm = function($scope, options){","                //@todo: use auto merge/extend","                var formSpec =  $scope.$form;","                if(!formSpec)  ","                    formSpec = new AngooseForm($scope);","                formSpec.update(options);","                return formSpec;","            };","            service.initQuery = service.defineQuery = function($scope, options){","                //@todo: use auto merge/extend","                var querySpec =  $scope.dmeta;","                if(!querySpec)  ","                    querySpec = new AngooseQuery($scope);","                querySpec.update(options);","                return querySpec;","            };","            ","            service.resolveTemplate = function resolveTemplate($element, $attrs, config, defaultTemplateUrl){","                // templateUrl could be specified in the directive <ang-edit template-url='xxx' template='xxx'>","                 /** template resolving order","                 //todo: consolidate with field directive template","                 ","                 1)  config.template  // config is from custom controller, if available","                 2)  config.templateUrl","                 3)  $attrs.templateUrl","                 4)   inline template","                 */","                var inline = $element.html();","                var template = config && config['template'];","                var url = config && config['templateUrl'];","                url = url || $attrs.templateUrl;","                ","                var deferred = $q.defer();","                ","                if(url || template) inline = \"\";  // ignore inline template if template/templateUrl is specified","                ","                if(!inline && !template && !url){","                    // no template specified anywhere, use the default","                    angoose.logger.trace(\"Using default template\", defaultTemplateUrl);","                    url = defaultTemplateUrl;","                }","                var em = ''; ","                if(template){","                    // template is specified as string content","                    angoose.logger.trace(\"Compiling template content\");","                    em = angular.element(template);","                }","                else if(url){","                    // second order","                    console.log(\"loadTemplate\", url);","                    return  service.loadTemplate(url);","                }","                else{","                    // inline doesn't need special handling","                    angoose.logger.trace(\"Did not find configured template, using inline template\" );","                    em = \"\";","                }   ","                deferred.resolve(em); // nextTick?","                return deferred.promise;","            };","            service.resolveAndCompile = function($scope, $element, $attrs, config, defaultTemplate){","                angoose.logger.trace(\"Resolving template[default: \", defaultTemplate+\"]\");","                service.resolveTemplate($element, $attrs, config, defaultTemplate).then(function(em){","                    angoose.logger.trace(\"resolveTemplate completed[default: \", defaultTemplate+\"]. Got content: \", !!em);","                    if(em){","                        $element.html(\"<!-- CLEARED -->\"); // first clear the inline template","                        $element.append(em);","                        $compile(em)($scope);","                    }","                }, function(err){","                    console.error(\"Error resolving template(list.tpl)\", err);","                });","            }","            return service;  ","    };","    this.config = function(name, val){","        if(typeof(name) === 'object')","            uiOptions = angular.extend(uiOptions, opts)","        else if(name){","            if( val === undefined) return getter(uiOptions, name);","            setter(uiOptions, name, val)    ","        }","    };","    ","    ","    ","    ","};    ","    ","angular.module('angoose.ui.services').provider('$ui', serviceProvider).provider('$deform', serviceProvider).run(['$ui','$rootScope', function($ui, $rootScope){","    $rootScope.defineQuery = function(meta){","        return $ui.defineQuery(this, meta);","    };","    $rootScope.defineForm = function(meta){","        return $ui.defineForm(this, meta);","    }  ","}]);"," ","","","// a helper function to determine the attribute value based on following order:","//  $scope (from custom controller) -> $routeParam -> directive ","function resolveAttribute(name, $scope, $routeParams, $attrs ){","    return getter($scope.dmeta ? $scope.dmeta: $scope.$form,  name) ||  getter($routeParams, name) ||  $attrs[name];","}","function filterPath(path, data, schema){","    ","    if(data.options.editable === false) return true;","    if(schema && schema.options && schema.options.discriminatorKey == path) return true;","    if(path.indexOf(\"-\")>0 || path == 'type') return true; /** cannot handle hyphen */","    ","    if(getter(data, \"schema.options.editable\") === false) {","        return true","    }","    return false;","}","function setter(doc, path, val){","    if(!path || !doc ) return;","     var   pieces = path.split('.');","      var obj = doc;","      for (var i = 0, len = pieces.length; i < len; i++) {","          if(i+1  == len ) // last one","          {","              obj[ pieces[i]] = val;","              return;","          }","          obj[pieces[i]] = obj[pieces[i]] || {};","          obj = obj[pieces[i]] || {};","      }","}    ","function getter(obj, p){","    if(!p || !obj) return undefined;","    var p = p.split('.');","    var o = obj;","    for (var i = 0; i < p.length; i++){","        if(!o || typeof o != \"object\") return undefined;","        o = o[p[i]]","    } ","    return o;","}      ","function getRef(pathSchema){","    var opts = pathSchema.options;","    ","    /** Mongoose, array of ObjectIDs */","    if( Array.isArray(opts.type) && opts.type.length>0  &&  opts.type[0] && opts.type[0].ref ) ","        return opts.type[0].ref;","    /** Single ObjectID Reference*/","    if(pathSchema.instance == 'ObjectID' && opts.ref) return opts.ref;","    ","    ","    if(pathSchema.options.ref && pathSchema.instance == 'CustomRef'){","        /** deform custom ref*/","       return pathSchema.options.ref;    ","    }","    /** deform rich reference, array */","    if(Array.isArray(opts.type ) && pathSchema.caster && ","            pathSchema.caster.instance == 'CustomRef' && pathSchema.caster.options.ref ){ ","        return pathSchema.caster.options.ref;","    }","        ","    return null;","} ","function isCustomRef(pathSchema){","    return pathSchema && (pathSchema.instance == 'CustomRef' || (pathSchema.caster && pathSchema.caster.instance == 'CustomRef'));","}","","function getCustomRefKeyfieldPath(pathSchema){","    if(!isCustomRef(pathSchema)) return undefined;","    return pathSchema.path +\".\" + (getter(pathSchema, 'options.keyField') || 'name');","}","function getCustomRefValue(instance, pathSchema){","    var path = getCustomRefKeyfieldPath(pathSchema);","    if(!path) return undefined;","    var name = getter(instance, path);","    if(path.indexOf(\"sortable\")>=0) ","        return formatSortable(name);","    if(name && (name.first || name.last)) name =( name.first || \"\")+\" \"+ (name.last || \"\"); ","    return name;","}","","function apiCamelcase(name){","    if(!name) return name;","    var name = camelcase(name);","    return name.substring(0,1).toLowerCase() + name.substring(1);","}","function camelcase(name){","    // converting client-user to ClientUser ","    if(!name) return name;","    var parts = name.split(\"-\");","    name = \"\";","    for(var i=0;i< parts.length;i++){","        if(parts[i] && parts[i].length>0) name+= parts[i].substring(0,1).toUpperCase() + parts[i].substring(1);","    }","    return name;","}","function decamelcase(name){","    // convert ClientUser to client-user ","    if(!name) return name;","    var ret = \"\";","    for(var i=0;i<name.length;i++){","        var c = name.charAt(i);","        if(c.toLowerCase() != c && ret.length>0) ret+=\"-\"","        ret += c;","    }","    return ret.toLowerCase();","}","function trim(str){","    return str? str.replace(/^\\s*(.*?)\\s*$/, \"$1\"): str;","}","function formatSortable(sortable){","    if(!sortable || typeof(sortable)!=='string') return sortable;","    if(sortable.indexOf(\",\")<0) return sortable;","    sortable = trim(sortable.toLowerCase()).replace(/null/i, '');","    var parts = sortable.split(\",\");","    if(parts.length != 2)","        return sortable;","    if(parts.length >1){","        return  camelcase(trim(parts[1])) +\" \"+ camelcase( trim(parts[0]));","    }","    return sortable;","}"," ","function getPathSchema(modelClass, path){","    var modelSchema = modelClass.schema;","    return modelSchema.paths && modelSchema.paths[path];","}","","","/**"," * Debounces a function. Returns a function that calls the original fn function only if no invocations have been made"," * within the last quietMillis milliseconds."," *"," * @param quietMillis number of milliseconds to wait before invoking fn"," * @param fn function to be debounced"," * @param ctx object to be used as this reference within fn"," * @return debounced version of fn"," */","function debounce(quietMillis, fn, ctx ) {","    ctx = ctx || undefined;","    var timeout;","    return function () {","        var args = arguments;","        clearTimeout(timeout);","        timeout = setTimeout(function() {","            fn.apply(ctx, args);","        }, quietMillis);","    };","}","","","","function extractTemplate(f){","      return f.toString().","          replace(/^[^\\/]+\\/\\*!?/, '').","          replace(/\\*\\/[^\\/]+$/, '');","}","","","})();",""],"l":{"1":2,"3":2,"4":0,"7":0,"26":1,"27":0,"28":0,"29":0,"30":0,"31":0,"33":0,"34":0,"35":0,"36":0,"37":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"47":0,"48":0,"50":0,"52":0,"60":0,"62":0,"63":0,"64":0,"65":0,"66":0,"68":0,"70":0,"71":0,"72":0,"73":0,"74":0,"77":0,"87":0,"88":0,"89":0,"90":0,"92":0,"94":0,"96":0,"98":0,"99":0,"101":0,"102":0,"104":0,"105":0,"107":0,"109":0,"110":0,"114":0,"115":0,"117":0,"118":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"130":0,"133":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"149":2,"150":0,"151":0,"153":0,"154":0,"162":1,"163":0,"165":1,"167":0,"168":0,"169":0,"171":0,"172":0,"174":0,"176":1,"177":0,"178":0,"179":0,"180":0,"181":0,"183":0,"184":0,"186":0,"187":0,"190":1,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"198":0,"200":1,"201":0,"204":0,"205":0,"207":0,"210":0,"212":0,"215":0,"217":0,"220":0,"222":1,"223":0,"226":1,"227":0,"228":0,"230":1,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"240":1,"241":0,"242":0,"243":0,"245":1,"247":0,"248":0,"249":0,"250":0,"251":0,"253":0,"255":1,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"264":0,"266":1,"267":0,"269":1,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0,"279":0,"282":1,"283":0,"284":0,"297":1,"298":0,"299":0,"300":0,"301":0,"302":0,"303":0,"304":0,"311":1,"312":0}}}